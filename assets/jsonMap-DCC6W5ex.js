import{g as a,I as e,e as h}from"./subclass-BR3PhgZG.js";const p=Object.prototype.toString;function f(t){const n="__accessorMetadata__"in t?a(t):t;return function(...o){if(o.push(n),typeof o[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return l.apply(this,o)}}function l(t,n,o,s){e(t,n).cast=s}function _(t){return(n,o)=>{e(n,t).cast=n[o]}}function N(...t){if(t.length!==3||typeof t[1]!="string")return t.length===1&&p.call(t[0])==="[object Function]"?f(t[0]):t.length===1&&typeof t[0]=="string"?_(t[0]):void 0}class g{constructor(n,o={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=n,this._options=o,this.apiValues=[],this.jsonValues=[],this._apiToJSON=O(n),this.apiValues=r(this._apiToJSON),this.jsonValues=r(this._jsonToAPI),this.read=s=>this.fromJSON(s),this.write=(s,u,c)=>{const i=this.toJSON(s);i!==void 0&&h(c,i,u)},this.write.isJSONMapWriter=!0}toJSON(n){if(n==null)return null;if(this._apiToJSON.hasOwnProperty(n)){const o=this._apiToJSON[n];return this._options.useNumericKeys?+o:o}return this._options.ignoreUnknown?void 0:n}fromJSON(n){return n!=null&&this._jsonToAPI.hasOwnProperty(n)?this._jsonToAPI[n]:this._options.ignoreUnknown?void 0:n}}function O(t){const n={};for(const o in t)n[t[o]]=o;return n}function r(t){const n=[];for(const o in t)n.push(o);return n.sort(),n}function S(){return function(t,n){return new g(t,{ignoreUnknown:!0,...n})}}export{S as i,g as n,N as s};
