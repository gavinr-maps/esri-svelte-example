function l(r,t){const e=t.debugRendererInfo&&r.getExtension("WEBGL_debug_renderer_info");return e?{getUnmaskedRendererWebGL:()=>r.getParameter(e.UNMASKED_RENDERER_WEBGL)}:null}let o;function f(){return o??(o=u()),o}class a{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}}function s(r){if(typeof WebGL2RenderingContext>"u")return null;const t=document.createElement("canvas");if(!t)return null;let e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(e==null&&(e=t.getContext("webgl2"),e!=null&&(r.majorPerformanceCaveat=!0)),e==null)return e;r.available=!0,r.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),r.supportsVertexShaderSamplers=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const n=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);return n&&(r.supportsHighPrecisionFragment=n.precision>0),e}function u(){var e;const r=new a,t=s(r);return t==null||(r.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,r.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,r.supportsColorBufferHalfFloat=r.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null,r.unmaskedRenderer=((e=l(t,{debugRendererInfo:!0}))==null?void 0:e.getUnmaskedRendererWebGL())??"unknown"),r}export{l as e,f as t};
