import{i as b,r as p,l as f}from"./colorUtils-0bJDPow9.js";import{r as m}from"./mathUtils-C4_ghTv4.js";import{f as A}from"./subclass-BZA_h8Db.js";function h(e){return m(A(e),0,255)}function u(e,r,s){return e=Number(e),isNaN(e)?s:e<r?r:e>s?s:e}function c(e,r){const s=e.toString(16).padStart(2,"0");return r?s.slice(0,1):s}class a{static blendColors(r,s,i,t=new a){return t.r=Math.round(r.r+(s.r-r.r)*i),t.g=Math.round(r.g+(s.g-r.g)*i),t.b=Math.round(r.b+(s.b-r.b)*i),t.a=r.a+(s.a-r.a)*i,t._sanitize()}static fromRgb(r,s){const i=r.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(i){const t=i[2].split(/\s*,\s*/),n=i[1];if(n==="rgb"&&t.length===3||n==="rgba"&&t.length===4){const o=t[0];if(o.charAt(o.length-1)==="%"){const l=t.map(g=>2.56*parseFloat(g));return t.length===4&&(l[3]=parseFloat(t[3])),a.fromArray(l,s)}return a.fromArray(t.map(l=>parseFloat(l)),s)}if(n==="hsl"&&t.length===3||n==="hsla"&&t.length===4)return a.fromArray(b(parseFloat(t[0]),parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3])),s)}return null}static fromHex(r,s=new a){if(r[0]!=="#"||isNaN(+`0x${r.slice(1)}`))return null;switch(r.length){case 4:case 5:{const i=parseInt(r.slice(1,2),16),t=parseInt(r.slice(2,3),16),n=parseInt(r.slice(3,4),16),o=r.length===5?15:parseInt(r.slice(4),16);return a.fromArray([i+16*i,t+16*t,n+16*n,(o+16*o)/255],s)}case 7:case 9:{const i=parseInt(r.slice(1,3),16),t=parseInt(r.slice(3,5),16),n=parseInt(r.slice(5,7),16),o=r.length===7?255:parseInt(r.slice(7),16);return a.fromArray([i,t,n,o/255],s)}default:return null}}static fromArray(r,s=new a){return s._set(Number(r[0]),Number(r[1]),Number(r[2]),Number(r[3])),isNaN(s.a)&&(s.a=1),s._sanitize()}static fromString(r,s){const i=p(r)?f(r):null;return i&&a.fromArray(i,s)||a.fromRgb(r,s)||a.fromHex(r,s)}static fromJSON(r){return r!=null?new a([r[0],r[1],r[2],(r[3]??255)/255]):void 0}static toUnitRGB(r){return r!=null?[r.r/255,r.g/255,r.b/255]:null}static toUnitRGBA(r){return r!=null?[r.r/255,r.g/255,r.b/255,r.a!=null?r.a:1]:null}constructor(r){this.r=255,this.g=255,this.b=255,this.a=1,r&&this.setColor(r)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(r){return typeof r=="string"?a.fromString(r,this):Array.isArray(r)?a.fromArray(r,this):(this._set(r.r??0,r.g??0,r.b??0,r.a??1),r instanceof a||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(r){const s=(r==null?void 0:r.capitalize)??!1,i=(r==null?void 0:r.digits)??6,t=i===3||i===4,n=i===4||i===8,o=`#${c(this.r,t)}${c(this.g,t)}${c(this.b,t)}${n?c(Math.round(255*this.a),t):""}`;return s?o.toUpperCase():o}toCss(r=!1){const s=this.r+", "+this.g+", "+this.b;return r?`rgba(${s}, ${this.a})`:`rgb(${s})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(r=a.AlphaMode.ALWAYS){const s=h(this.r),i=h(this.g),t=h(this.b);return r===a.AlphaMode.ALWAYS||this.a!==1?[s,i,t,h(255*this.a)]:[s,i,t]}clone(){return new a(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(r){return r!=null&&r.r===this.r&&r.g===this.g&&r.b===this.b&&r.a===this.a}_sanitize(){return this.r=Math.round(u(this.r,0,255)),this.g=Math.round(u(this.g,0,255)),this.b=Math.round(u(this.b,0,255)),this.a=u(this.a,0,1),this}_set(r,s,i,t){this.r=r,this.g=s,this.b=i,this.a=t}}a.prototype.declaredClass="esri.Color",function(e){var r;(r=e.AlphaMode||(e.AlphaMode={}))[r.ALWAYS=0]="ALWAYS",r[r.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(a||(a={}));const y=a;export{y as l};
