import{P as n}from"./cast-BA_-jlhc.js";import{f as p,i as u,s as y}from"./utils-Cy8wFNQo.js";import{a as m}from"./TraceResult-aVfvEsRx.js";import"./Accessor-BHnuXKD2.js";import"./index-tefRSezt.js";import"./JSONSupport-CGdeqxpk.js";import"./Polyline-BmuD2-ZN.js";import"./writer-B2bQV2uU.js";import"./Extent-CBBGeHb-.js";import"./Point-XGrwlf63.js";import"./mathUtils-DV9iOXpW.js";import"./NetworkElement-Dpf4duUb.js";async function d(s,t,a){const o=p(s),r=t.toJSON();r.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(r.resultTypes=JSON.stringify(t.resultTypes));const i=u(o.query,{query:y({...r,f:"json"}),...a}),e=`${o.path}/trace`;return n(e,i).then(c=>f(c))}async function j(s,t,a){const o=p(s),r=t.toJSON();r.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(r.resultTypes=JSON.stringify(t.resultTypes));const i=u(o.query,{query:y({...r,async:!0,f:"json"}),...a}),e=`${o.path}/trace`,{data:c}=await n(e,i);return c.statusUrl}function f(s){const{data:t}=s;return m.fromJSON(t.traceResults)}export{j as submitTraceJob,d as trace};
