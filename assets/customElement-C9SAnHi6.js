const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-jjUP6Yam.js","./index-CMxz6F2k.js","./jsxFactory-Cnml7uXM.js","./Accessor-BmwT4B0c.js","./intl-Duiy0OzY.js","./Promise-DfET-uns.js","./cast-CsZslgGN.js","./index-4eY77cms.js","./index-Cx51aysm.css","./JSONSupport-DcrLLGjL.js","./Evented-Dw4_VOGn.js","./reactiveUtils-XM7cS2OP.js","./SimpleObservable-CvOkykwM.js","./uuid-Cl5lrJ4c.js","./guid-ejniuQmw.js","./useT9n-C1Hrfc-A.js","./index-DwIhxbHs.js","./dom-DEluURzl.js","./observers-Co4E8E8j.js","./ref-D9wHsL_T.js","./directive-helpers-DaBykg1t.js","./static-DLD4WjLv.js","./form-BzoUrXC7.js","./interactive-DTzfFku4.js","./label-CHHpnzD0.js","./loadable-XBvaWFYY.js","./component-CBVlbUuE.js","./index-CtvJE4Qe.js","./key-CZcQa38B.js","./index--OBudxYA.js","./index-Dwo8yu4W.js","./index-fFnlo_g2.js","./index-DWeq-ojO.js","./customElement-BxsvsANk.js","./live-D7NQ-TrC.js","./Validation-BYp9DS84.js","./input-DI9tZAPS.js","./locale-CXx8I9ox.js","./index-Cl-EVQNh.js","./index-Brz2wqWq.js","./index-BPm91e5Z.js","./keyed-CU1C-h1n.js","./global-BYws3GYH.js","./floating-ui-IixYHfbQ.js","./debounce-DbkufipY.js","./openCloseComponent-nqWrSaIH.js","./focusTrapComponent-D1wJZ4RD.js"])))=>i.map(i=>d[i]);
import{_ as b,L as ee,c as te,n as ie,i as se,a as ne}from"./index-4eY77cms.js";import{r as n,m as l,a as P,g as Q,B as k,l as W,f as le,e as ae}from"./Accessor-BmwT4B0c.js";import{p as oe,d as y,v as re,P as Y,A as L}from"./reactiveUtils-XM7cS2OP.js";import{h as he,n as p,O as de,i as ge,c as pe,e as G}from"./jsxFactory-Cnml7uXM.js";import{a as ue,u as ce,d as ye,f as C,l as me,o as q}from"./timeUtils-C1c_L2Fd.js";import{d as j,a as _e}from"./VirtualLighting-CdhwLgbn.js";import{c as we}from"./earthUtils-8WLQbUUl.js";import{l as fe,A as be}from"./Slider-BHSjZzBC.js";import{m as J,a as ve,l as Se,r as De,u as Te,z as Pe}from"./TimezonePicker-BccfRSln.js";import{e as V}from"./globalCss-vQlnDsEX.js";import{e as Oe}from"./Heading-BcR6CGTM.js";import{P as Ce}from"./useWidget-BajufX8l.js";import"./Evented-Dw4_VOGn.js";import"./SimpleObservable-CvOkykwM.js";import"./intl-Duiy0OzY.js";import"./Promise-DfET-uns.js";import"./cast-CsZslgGN.js";import"./JSONSupport-DcrLLGjL.js";import"./uuid-Cl5lrJ4c.js";import"./writer-DKgfqj4X.js";import"./mathUtils-Cfq9PL9W.js";import"./Point-Cz2JYYmX.js";import"./substitute-CvdjmBYq.js";import"./SunCalc-uwgdo0BB.js";import"./index-C5b9dHRB.js";import"./component-utils-D0ciaaZ_.js";const c="esri-daylight",z=`${c}__container`,S="esri-slider",d={base:c,dayContainer:`${z} ${c}__day-container`,dateContainer:`${z} ${c}__date-container`,containerDisabled:`${z}--disabled`,sliderShadowOff:`${S}--shadow-off`,sliderShadowOn:`${S}--shadow-on`,sliderAmPmOn:`${S}--ampm-on`,sliderDateOff:`${S}--date-off`,sliderDateOn:`${S}--date-on`,playPauseButton:`${c}__play-pause-button`,datePicker:`${c}__date-picker`,seasonPicker:`${c}__season-picker`,panelError:`${c}__panel--error`,sunLightingCheckbox:`${c}__sun-lighting-checkbox`,shadowsCheckbox:`${c}__shadows-checkbox`};var m;(function(e){e[e.NORTHERN=0]="NORTHERN",e[e.SOUTHERN=1]="SOUTHERN"})(m||(m={}));const Ee={spring:{dayOfMonth:20,month:2},summer:{dayOfMonth:21,month:5},fall:{dayOfMonth:23,month:8},winter:{dayOfMonth:21,month:11}},I=["spring","summer","fall","winter"];function D(e,t,i){const s=F(t,i),{dayOfMonth:a,month:r}=Ee[s],h=new Date(e.getTime());return h.setMonth(r,a),h}function ke(e,t){return F(Le(e),t)}function Le(e){const t=e.getTime(),i=D(e,"spring",m.NORTHERN).getTime(),s=D(e,"summer",m.NORTHERN).getTime(),a=D(e,"fall",m.NORTHERN).getTime(),r=D(e,"winter",m.NORTHERN).getTime();return t>=i&&t<s?"spring":t>=s&&t<a?"summer":t>=a&&t<r?"fall":"winter"}function F(e,t){return t===m.NORTHERN?e:Me(e)}function Me(e){const t=I.indexOf(e);return I[(t+2)%4]}function $e(e,t){return ce(e,t,"minutes")}function Ue(e){return ue(e,"minutes")}function xe(e,t,i){if(e==null||t==null||isNaN(e.getTime())&&isNaN(t.getTime()))return 3e5;const g=i.getTime(),M=e.getTime(),$=t.getTime(),U=M-72e5/2,x=M+72e5/2,H=$-72e5/3*2,N=$+72e5/3;let O=3e5;return g>=U&&g<=x?O=g-U<=12e5?18e5-(g-U)/12e5*16e5:x-g<=12e5/2?3e5-(x-g)/12e5*2*1e5:2e5:g>=H&&g<=N?O=g-H<=12e5/2?3e5-(g-H)/12e5*2*1e5:N-g<=12e5?18e5-(N-g)/12e5*16e5:2e5:(g<M||g>$)&&(O=18e5),O}let f=class extends fe{constructor(){super(...arguments),this.utcOffset=null,this.timezonePickerOpen=!1}};n([l()],f.prototype,"utcOffset",void 0),n([l()],f.prototype,"timezonePickerOpen",void 0),f=n([P("esri.widgets.Daylight.support.SliderWithDropdownViewModel")],f);let o=class extends Q{constructor(e){super(e),this.view=null,this.timeSliderViewModel=new f({min:0,max:1439,values:[0],labelFormatFunction:J,inputFormatFunction:J}),this.lightingUpdateInterval=200,this._oldLighting=null,this.playSpeedMultiplier=1,this._lastTime=null,this._sunrise=null,this._sunset=null,this._cachedLightingDateUTC=new Date(0),this._cachedDisplayUTCOffset=0,this._firstInteraction=!0,this._lastLightingUpdate=0,this._lightingUpdateHandle=null}initialize(){this.addHandles([oe(()=>this.view,e=>e.when(()=>this._updateLighting()),Y),y(()=>{const e=this._lighting;return(e==null?void 0:e.type)==="sun"?this._ensureValidDate(e):null},e=>this._scheduleLightingUpdate(e)),re(()=>this._lighting,"timezone-will-change",e=>this._timezoneWillChange(e),{onListenerAdd:()=>this._timezoneWillChange(null)}),y(()=>{var e;return((e=this.view)==null?void 0:e.stationary)===!0},()=>{(this.dayPlaying||this.yearPlaying)&&this._updateSunriseAndSunset()},Y),y(()=>{const e=this.timeSliderViewModel;return{vm:e,state:e.state,sliderPosition:this.timeSliderPosition}},({vm:e,state:t,sliderPosition:i})=>{t==="ready"&&e.setValue(0,i)}),y(()=>{var e;return(e=this.timeSliderViewModel)==null?void 0:e.utcOffset},e=>{e!=null&&(this.utcOffset=e)}),y(()=>({utcOffset:this.utcOffset,sliderViewModel:this.timeSliderViewModel}),({utcOffset:e,sliderViewModel:t})=>{t&&(t.utcOffset=e)},L),y(()=>this.timeSliderViewModel.timezonePickerOpen,()=>this.stopPlaying()),y(()=>this.timeSliderViewModel.values,e=>this._setTimeSliderPosition((e==null?void 0:e[0])??0,{forceLightingUpdate:!1}))])}destroy(){this._cancelLightingUpdate(),this.view=null}get isSupported(){return this.view==null||this.view.type==="3d"}get utcOffset(){return this._cachedDisplayUTCOffset}set utcOffset(e){e!==this.utcOffset&&this._lighting!=null&&this._lighting.type!=="virtual"&&(this._lighting.displayUTCOffset=e,this._updateLighting())}get localDate(){return ye(this._lightingDateDisplay)}set localDate(e){var t;(t=this.view)!=null&&t.ready?C(e)&&e.getTime()!==this.localDate.getTime()&&(this._lightingDateDisplay=me(this._lightingDateDisplay,e)):k.getLogger(this).error("The localDate property cannot be set before the view and the widget are ready.")}get timeSliderPosition(){return Ue(this._lightingDateDisplay)}set timeSliderPosition(e){var t,i;(t=this.view)!=null&&t.ready&&((i=this.timeSliderViewModel)==null?void 0:i.state)==="ready"?this._setTimeSliderPosition(e,{forceLightingUpdate:!0}):k.getLogger(this).error("The timeSliderPosition property cannot be set before the view and the widget are ready.")}_setTimeSliderPosition(e,t){Math.abs(e-this.timeSliderPosition)<=1/60||(this.stopPlaying(),this._enableDirectShadowsIfFirstInteraction(),t.forceLightingUpdate&&(this._cancelLightingUpdate(),this._updateLighting()),this._lightingDateDisplay=$e(this._lightingDateDisplay,e))}_timezoneFromCamera(e,t){if(t==null||!e.cameraTrackingEnabled)return 0;const i=we([t.longitude,t.latitude]);return i==null?0:Math.round(i.hours+i.minutes/60+i.seconds/3600)}get directShadowsEnabled(){var e;return((e=this._lighting)==null?void 0:e.directShadowsEnabled)??!1}set directShadowsEnabled(e){const t=this._lighting;t&&(t.directShadowsEnabled=e)}get sunLightingEnabled(){return this._lightingType==="sun"}set sunLightingEnabled(e){const t=this._environment;if(e===this._get("sunLightingEnabled")||t==null)return;const i=t.lighting,s=this._oldLighting;this._oldLighting=i;const a={directShadowsEnabled:i.directShadowsEnabled,cameraTrackingEnabled:i.cameraTrackingEnabled},r=e?"sun":"virtual";let h;h=s!=null&&s.type===r?s:e?new j:new _e,h.set(a),t.lighting=h,e||(this.stopPlaying(),this.timeSliderViewModel.timezonePickerOpen=!1)}set playingState(e){this.playingState!==e&&(this._set("playingState",e),e!=="none"&&this.sunLightingEnabled&&(this._updateSunriseAndSunset(),this._lastTime=Date.now(),this._play(),this._enableDirectShadowsIfFirstInteraction()))}get dayPlaying(){return this.playingState==="day"}set dayPlaying(e){e?this.playingState="day":this.dayPlaying&&(this.playingState="none")}get yearPlaying(){return this.playingState==="year"}set yearPlaying(e){e?this.playingState="year":this.yearPlaying&&(this.playingState="none")}get currentSeason(){return ke(this.localDate,this._currentHemisphere)}set currentSeason(e){this.stopPlaying();const t=F(e,this._currentHemisphere);this.localDate=D(this.localDate,t,m.NORTHERN)}get _currentHemisphere(){var t,i,s;const e=(s=(i=(t=this.view)==null?void 0:t.camera)==null?void 0:i.position)==null?void 0:s.latitude;return e==null||e>=0?m.NORTHERN:m.SOUTHERN}get _environment(){var e;return(e=this.view)==null?void 0:e.environment}get _lighting(){var e;return(e=this._environment)==null?void 0:e.lighting}get _lightingType(){var e;return(e=this._lighting)==null?void 0:e.type}get _lightingDateDisplay(){return q(this._cachedLightingDateUTC,this._cachedDisplayUTCOffset,"hours")}set _lightingDateDisplay(e){const t=this._lighting;if(t==null||!this.sunLightingEnabled||t.type==="virtual"||!C(e))return;const i=this._ensureValidDate(t),s=q(e,-this._cachedDisplayUTCOffset,"hours");s.getTime()!==i.getTime()&&(t.date=s,this._updateLighting())}stopPlaying(){this.playingState="none"}toggleDayPlaying(){this.dayPlaying=!this.dayPlaying}toggleYearPlaying(){this.yearPlaying=!this.yearPlaying}toggleSunLightingEnabled(){this.stopPlaying(),this.sunLightingEnabled=!this.sunLightingEnabled}toggleDirectShadowsEnabled(){this.stopPlaying(),this.directShadowsEnabled=!this.directShadowsEnabled}onDateChange(e){this.dayPlaying=!1,this.localDate=e}_enableDirectShadowsIfFirstInteraction(){this._firstInteraction&&(this._firstInteraction=!1,this.directShadowsEnabled=!0)}_updateLighting(e){var h;const t=Date.now();this._lastLightingUpdate=t;const{view:i}=this,s=this._lighting;if(i==null||s==null||s.type==="virtual")return;e??(e=this._ensureValidDate(s));const a=s.displayUTCOffset,r=a??this._timezoneFromCamera(s,(h=i.camera)==null?void 0:h.position);this._cachedLightingDateUTC.getTime()!==e.getTime()&&(this._cachedLightingDateUTC=new Date(e.getTime())),this._cachedDisplayUTCOffset!==r&&(this._cachedDisplayUTCOffset=r)}_timezoneWillChange(e){const t=this._lighting;if(t==null||t.type==="virtual"||!t.cameraTrackingEnabled)return;let i;if(e)i=e.timezoneOffset;else{if(t.displayUTCOffset!=null)return;i=j.calculateTimezoneOffset(t.positionTimezoneInfo)}t.displayUTCOffset=i,this._scheduleLightingUpdate()}_scheduleLightingUpdate(e){if(e&&(this._lightingUpdateHandle=W(this._lightingUpdateHandle),!C(e))||this._lightingUpdateHandle)return;const t=Date.now()-this._lastLightingUpdate,i=this.lightingUpdateInterval-t;let s=null;const a=()=>{this._updateLighting(e),this._lightingUpdateHandle===s&&(this._lightingUpdateHandle=null)};if(i<=0)this._lightingUpdateHandle=s=le(a);else{const r=setTimeout(a,i);this._lightingUpdateHandle=s=ae(()=>clearTimeout(r))}}_cancelLightingUpdate(){this._lightingUpdateHandle=W(this._lightingUpdateHandle)}_play(){const e=this._lighting;if(e==null||!this.sunLightingEnabled||e.type==="virtual")return;const t=this._ensureValidDate(e);if(this.dayPlaying||this.yearPlaying){const i=Date.now()-(this._lastTime??0);if(this.dayPlaying){this._lastTime=Date.now();const s=xe(this._sunrise,this._sunset,t)*this.playSpeedMultiplier/100*i;if(s>0){let a=new Date(t.getTime()+s);const r=e.displayUTCOffset??0;((a.getUTCHours()+r)%24+24)%24<((t.getUTCHours()+r)%24+24)%24&&(a=new Date(t.getTime()+s-864e5)),e.date=a}}else if(i>1e3){this._lastTime=Date.now();const s=(t.getUTCMonth()+1)%12,a=new Date(t.getTime());a.setUTCMonth(s),e.date=a}requestAnimationFrame(()=>this._play())}}_updateSunriseAndSunset(){var w,g;const e=this._lighting;if(e==null||e.type==="virtual"||!this.sunLightingEnabled)return;const t=(g=(w=this.view)==null?void 0:w.camera)==null?void 0:g.position;if(t==null)return;const{latitude:i,longitude:s}=t,{date:a,displayUTCOffset:r}=e,h=ve(a,i,s,r??0);h&&(this._sunrise=new Date(h.sunrise),this._sunset=new Date(h.sunset))}_ensureValidDate(e){return C(e.date)||(k.getLogger(this).warn("Invalid date. Reverting to the current date/time."),e.date=new Date),e.date}};n([l()],o.prototype,"view",void 0),n([l({type:f,nonNullable:!0})],o.prototype,"timeSliderViewModel",void 0),n([l()],o.prototype,"isSupported",null),n([l()],o.prototype,"lightingUpdateInterval",void 0),n([l()],o.prototype,"utcOffset",null),n([l({type:Date})],o.prototype,"localDate",null),n([l()],o.prototype,"timeSliderPosition",null),n([l()],o.prototype,"directShadowsEnabled",null),n([l()],o.prototype,"sunLightingEnabled",null),n([l({type:["none","day","year"],value:"none"})],o.prototype,"playingState",null),n([l()],o.prototype,"dayPlaying",null),n([l()],o.prototype,"yearPlaying",null),n([l()],o.prototype,"playSpeedMultiplier",void 0),n([l()],o.prototype,"currentSeason",null),n([l()],o.prototype,"_lastTime",void 0),n([l()],o.prototype,"_sunrise",void 0),n([l()],o.prototype,"_sunset",void 0),n([l()],o.prototype,"_cachedLightingDateUTC",void 0),n([l()],o.prototype,"_cachedDisplayUTCOffset",void 0),n([l()],o.prototype,"_firstInteraction",void 0),n([l()],o.prototype,"_currentHemisphere",null),n([l()],o.prototype,"_environment",null),n([l()],o.prototype,"_lighting",null),n([l()],o.prototype,"_lightingType",null),n([l()],o.prototype,"_lightingDateDisplay",null),o=n([P("esri.widgets.Daylight.DaylightViewModel")],o);const X=o;let _=class extends Q{constructor(e){super(e),this.header=!0,this.playButtons=!0,this.datePicker=!0,this.timezone=!0,this.sunLightingToggle=!0,this.shadowsToggle=!0}};n([l({type:Boolean,nonNullable:!0})],_.prototype,"header",void 0),n([l({type:Boolean,nonNullable:!0})],_.prototype,"playButtons",void 0),n([l({type:Boolean,nonNullable:!0})],_.prototype,"datePicker",void 0),n([l({type:Boolean,nonNullable:!0})],_.prototype,"timezone",void 0),n([l({type:Boolean,nonNullable:!0})],_.prototype,"sunLightingToggle",void 0),n([l({type:Boolean,nonNullable:!0})],_.prototype,"shadowsToggle",void 0),_=n([P("esri.widgets.Daylight.VisibleElements")],_);const Z=_,R="esri-slider-with-dropdown",E={label:"esri-slider__label",box:`${R}__box`,boxDropDownOn:`${R}__box--drop-down-on`,boxDropDownOff:`${R}__box--drop-down-off`};let v=class extends be{constructor(e,t){super(e,t),this.viewModel=new f,this.showDropDown=!0,this._labelWidth=0,this._onLabelAfterCreate=i=>{const s="label-size-observer";this.removeHandles(s),this.addHandles(he(i,({contentRect:a})=>{this._labelWidth=a.width}),s)},this._getLabelStyles=()=>{if(!this.trackElement)return;const i=this._trackWidth,s=this._labelWidth/2,a=this.getCurrentPosition(),r=a-s,h=a+s;let w=-s;return r<0?w+=-r:h>i&&(w+=i-h),{left:`${w}px`}},this._onTimezoneChange=i=>{this.viewModel.utcOffset=i},this._onTimezonePickerOpen=()=>{this.viewModel.timezonePickerOpen=!0},this._onTimezonePickerClose=()=>{this.viewModel.timezonePickerOpen=!1}}renderThumbLabel(e){const{showDropDown:t,viewModel:i}=this;return p("div",{afterCreate:this._onLabelAfterCreate,class:this.classes({[E.box]:!0,[E.label]:!0,[E.boxDropDownOn]:t,[E.boxDropDownOff]:!t}),key:"thumb-label",styles:this._getLabelStyles()},super.renderThumbLabel(e),t?p(Se,{disabled:this.disabled,open:i.timezonePickerOpen,value:i.utcOffset,onChange:this._onTimezoneChange,onClose:this._onTimezonePickerClose,onOpen:this._onTimezonePickerOpen}):null)}};n([l()],v.prototype,"viewModel",void 0),n([l()],v.prototype,"showDropDown",void 0),n([l()],v.prototype,"_labelWidth",void 0),v=n([P("esri.widgets.Daylight.support.SliderWithDropdown")],v);const He=v,A="date";let u=class extends de{constructor(e,t){super(e,t),this.headingLevel=3,this.viewModel=new X,this.visibleElements=new Z,this.dateOrSeason=A,this._timeSlider=new He({viewModel:this.viewModel.timeSliderViewModel,steps:this.timeSliderSteps,labelInputsEnabled:!1,visibleElements:{labels:!0},tickConfigs:[{mode:"position",values:[0,360,720,1080,1439],labelsVisible:!0,tickCreatedFunction:(i,s,a)=>De({tickElement:s,labelElement:a,tickClasses:K,onClick:this._makeGoToTime(i)})},{mode:"position",values:[120,240,480,600,840,960,1200,1320],tickCreatedFunction:(i,s)=>Te({tickElement:s,tickClasses:K,onClick:this._makeGoToTime(i)})}]}),this._onPlayDayClick=()=>{this.viewModel.toggleDayPlaying()},this._onDateChange=i=>{const s=i.currentTarget.valueAsDate;this.viewModel.onDateChange(Array.isArray(s)?s[0]:s)},this._onYearPlayClick=()=>{this.viewModel.toggleYearPlaying()},this._onSeasonChange=i=>{this.viewModel.currentSeason=i.currentTarget.value},this._onSunLightingCheckboxChange=()=>{this.viewModel.toggleSunLightingEnabled()},this._onShadowCheckboxChange=()=>{this.viewModel.toggleDirectShadowsEnabled()}}get icon(){return"brightness"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.title)??""}set label(e){this._overrideIfSome("label",e)}get playSpeedMultiplier(){return this.viewModel.playSpeedMultiplier}set playSpeedMultiplier(e){this.viewModel.playSpeedMultiplier=e}get timeSliderSteps(){var e;return((e=this._timeSlider)==null?void 0:e.steps)??5}set timeSliderSteps(e){this._timeSlider.steps=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}postInitialize(){this.viewModel.isSupported&&this.addHandles([y(()=>this.viewModel.timeSliderViewModel,e=>this._timeSlider.viewModel=e,L),y(()=>{var e;return(e=this.visibleElements)==null?void 0:e.timezone},e=>this._timeSlider.showDropDown=e,L),y(()=>!this.viewModel.sunLightingEnabled,e=>{this._timeSlider.disabled=e},L)])}destroy(){this._timeSlider.destroy()}render(){const{messages:e,viewModel:t,visibleElements:i}=this,s=t.isSupported;return p("div",{class:this.classes(d.base,V.widget)},s?p(ge,null,i.header?p(Oe,{level:this.headingLevel},e.title):null,this._renderTimeOptions(),i.datePicker?this._renderDateOrSeason():null,i.sunLightingToggle?this._renderSunLightingToggle():null,i.shadowsToggle?this._renderShadowsToggle():null):p("div",{class:d.panelError,key:"unsupported"},p("p",null,e.unsupported)))}loadDependencies(){return pe({button:()=>b(()=>import("./index-jjUP6Yam.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]),import.meta.url),checkbox:()=>b(()=>import("./index-CtvJE4Qe.js"),__vite__mapDeps([27,2,3,4,5,6,7,8,9,10,11,12,13,19,20,17,14,22,23,28,24,25]),import.meta.url),label:()=>b(()=>import("./index--OBudxYA.js"),__vite__mapDeps([29,2,3,4,5,6,7,8,9,10,11,12,13,24,17,14]),import.meta.url),"input-date-picker":()=>b(()=>import("./index-Dwo8yu4W.js"),__vite__mapDeps([30,16,2,3,4,5,6,7,8,9,10,11,12,13,17,14,18,31,32,33,34,20,19,22,23,24,25,26,35,36,15,37,28,38,39,1,40,41,42,43,44,45,46]),import.meta.url),option:()=>b(()=>import("./index-Brz2wqWq.js"),__vite__mapDeps([39,2,3,4,5,6,7,8,9,10,11,12,13,18]),import.meta.url),select:()=>b(()=>import("./index-Cl-EVQNh.js"),__vite__mapDeps([38,16,2,3,4,5,6,7,8,9,10,11,12,13,17,14,18,31,19,20,22,23,24,25,26,35]),import.meta.url)})}_renderTimeOptions(){const{viewModel:e,visibleElements:t,messages:i}=this,{directShadowsEnabled:s,dayPlaying:a}=e,r=!e.sunLightingEnabled;return p("div",{class:this.classes(d.dayContainer,{[d.sliderShadowOn]:s,[d.sliderShadowOff]:!s,[d.sliderDateOn]:t.datePicker,[d.sliderDateOff]:!t.datePicker,[d.sliderAmPmOn]:Pe(),[d.containerDisabled]:r}),key:"daylight-time-options"},this._timeSlider.render(),t.playButtons?this._renderPlayPauseButton({playing:a,disabled:r,label:i.playDay,onClick:this._onPlayDayClick}):null)}_renderDateOptions(){const{viewModel:e,visibleElements:t,messages:i}=this,{yearPlaying:s}=e,a=!e.sunLightingEnabled;return p("div",{class:this.classes(d.dateContainer,a&&d.containerDisabled),key:d.dateContainer},p("calcite-input-date-picker",{class:d.datePicker,"data-testid":"daylight-date-picker",disabled:a,key:d.datePicker,overlayPositioning:"fixed",placement:"bottom",valueAsDate:e.localDate,onCalciteInputDatePickerChange:this._onDateChange}),t.playButtons?this._renderPlayPauseButton({playing:s,disabled:a,label:i.playYear,onClick:this._onYearPlayClick}):null)}_renderPlayPauseButton({playing:e,disabled:t,label:i,onClick:s}){return p("calcite-button",{appearance:"solid",class:d.playPauseButton,disabled:t,iconStart:e?"pause-f":"play-f",label:i,onclick:s,round:!0,title:i,type:"button"})}_renderSeasonSelect(){const{messages:e,viewModel:t}=this,i=!t.sunLightingEnabled;return p("calcite-select",{class:this.classes(d.seasonPicker),disabled:i,label:e.season,onCalciteSelectChange:this._onSeasonChange},I.map(s=>p("calcite-option",{selected:t.currentSeason===s,value:s},e[s])))}_renderDateOrSeason(){return this.dateOrSeason==="date"?this._renderDateOptions():this._renderSeasonSelect()}_renderSunLightingToggle(){var t;const e=(t=this.messages)==null?void 0:t.sunLightingToggle;return p("calcite-label",{key:"date-time-toggle",layout:"inline",scale:"s",title:e==null?void 0:e.tooltip},p("calcite-checkbox",{checked:this.viewModel.sunLightingEnabled,class:d.sunLightingCheckbox,onCalciteCheckboxChange:this._onSunLightingCheckboxChange}),e==null?void 0:e.label)}_renderShadowsToggle(){const e=this.messages.shadowsToggle;return p("calcite-label",{key:"shadow-toggle",layout:"inline",scale:"s",title:e==null?void 0:e.tooltip},p("calcite-checkbox",{checked:this.viewModel.directShadowsEnabled,class:d.shadowsCheckbox,onCalciteCheckboxChange:this._onShadowCheckboxChange}),e.label)}_makeGoToTime(e){return()=>{this.viewModel.timeSliderPosition=e}}};n([l(),G("esri/widgets/Daylight/t9n/Daylight")],u.prototype,"messages",void 0),n([l(),G("esri/widgets/support/t9n/timezone")],u.prototype,"timezoneMessages",void 0),n([l()],u.prototype,"headingLevel",void 0),n([l()],u.prototype,"icon",null),n([l()],u.prototype,"label",null),n([l()],u.prototype,"playSpeedMultiplier",null),n([l()],u.prototype,"timeSliderSteps",null),n([l()],u.prototype,"view",null),n([l({type:X})],u.prototype,"viewModel",void 0),n([l({type:Z,nonNullable:!0})],u.prototype,"visibleElements",void 0),n([l({cast(e){return e==="season"||e==="date"?e:(k.getLogger(this).warn(`"${e}" is not a valid option. Acceptable values are only "date" or "season". Defaulting to "${A}".`),A)}})],u.prototype,"dateOrSeason",void 0),n([l()],u.prototype,"_timeSlider",void 0),u=n([P("esri.widgets.Daylight")],u);const K=[V.interactive,V.anchor],Ne=u;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.12 */const ze=se`@layer{arcgis-daylight{display:block}}`,Re=Ce(Ne),T=class T extends ee{constructor(){super(...arguments),this.widget=Re(this),this.viewModel=this.widget.viewModel,this.autoDestroyDisabled=!1,this.currentSeason=this.viewModel.currentSeason,this.dateOrSeason=this.widget.dateOrSeason,this.dayPlaying=this.viewModel.dayPlaying,this.headingLevel=this.widget.headingLevel,this.hideDatePicker=this.widget.visibleElements.datePicker,this.hideHeader=this.widget.visibleElements.header,this.hidePlayButtons=this.widget.visibleElements.playButtons,this.hideShadowsToggle=this.widget.visibleElements.shadowsToggle,this.hideSunLightingToggle=this.widget.visibleElements.sunLightingToggle,this.hideTimezone=this.widget.visibleElements.timezone,this.icon=this.widget.icon,this.label=this.widget.label,this.playSpeedMultiplier=this.widget.playSpeedMultiplier,this.position="bottom-left",this.timeSliderSteps=this.widget.timeSliderSteps,this.yearPlaying=this.viewModel.yearPlaying,this.arcgisReady=te()}async destroy(){await this.manager.destroy()}};T.properties={autoDestroyDisabled:5,currentSeason:1,dateOrSeason:1,dayPlaying:5,headingLevel:9,hideDatePicker:5,hideHeader:5,hidePlayButtons:5,hideShadowsToggle:5,hideSunLightingToggle:5,hideTimezone:5,icon:1,label:1,playSpeedMultiplier:9,position:1,referenceElement:1,timeSliderSteps:9,yearPlaying:5},T.shadowRootOptions=ie,T.styles=ze;let B=T;ne("arcgis-daylight",B);export{B as ArcgisDaylight};
