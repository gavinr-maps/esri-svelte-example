const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./geometryEngineAsync-D5578A3I.js","./workers-D8Q3pEzK.js","./Accessor-BHnuXKD2.js","./Queue-BOnccek2.js","./SimpleObservable-7oieNGD8.js","./cast-BA_-jlhc.js","./index-tefRSezt.js","./index-Cx51aysm.css","./JSONSupport-CGdeqxpk.js","./intl-Do3GEEJ7.js","./Promise-CmQqe-ke.js","./Point-XGrwlf63.js","./writer-B2bQV2uU.js","./jsonUtils-Cu7OBRmN.js","./Extent-CBBGeHb-.js","./Polyline-BmuD2-ZN.js","./mathUtils-DV9iOXpW.js","./ElevationProfileView2D-CRVBkJ1k.js","./reactiveUtils-BR0C1Kq4.js","./Evented-DCWccWGU.js","./visualizationUtils-Bx06l4k8.js","./AnchorElementViewModel-CqI4lmqA.js","./projection-B2I9Bzj_.js","./vec3f64-BLpZdpfb.js","./projectBuffer-DOU0xvVi.js","./geodesicConstants-yASAK_zX.js","./layerViewUtils-tkZ5z_iY.js","./Graphic-CFXUQZlS.js","./Clonable-DvJsj5LF.js","./opacityUtils-CSd4XoR2.js","./enumeration-Cr5WIZs4.js","./Color-gncXBiLc.js","./colorUtils-Rxh2V3ai.js","./ActionToggle-__-l4AdQ.js","./Identifiable-BrT7zvUW.js","./typeUtils-BSg8Y507.js","./TextSymbol-BQ_NW9Xo.js","./screenUtils-_ZIvrt5o.js","./collectionUtils-CbaToa73.js","./Portal-CTRRujjZ.js","./aaBoundingBox-CeBivBRq.js","./colorUtils-BAowQmkN.js","./vec42-YcqnINSP.js","./common-DQOJ18NT.js","./vec4f64-o2zAXfmz.js","./throttle-jjSnxk80.js","./GraphicsLayer-Acqd2VFm.js","./GraphicsCollection-CkliHSk1.js","./Layer-C9uQlTBT.js","./TimeExtent-J5qnUFx_.js","./timeUtils-D2X862bk.js","./ScaleRangeLayer-C59zG_yk.js","./layerContainerType-C5CzMsLd.js","./jsonUtils-TjZmCq6l.js","./utils-DYurMneM.js","./mat4f32-DcsiF_Rp.js","./mat4-Fi6iAz29.js","./ElevationInfo-Di4W6v5U.js","./unitConversionUtils-C4AR5obr.js","./lengthUtils-DjJgJFRg.js","./memoize-DsJmrG76.js","./jsxFactory-CLjKarlq.js","./uuid-Cl5lrJ4c.js","./ByteSizeUnit-BsxeN7wM.js","./LRUCache-DS2O1kTf.js","./MemCache-CDoaVBHf.js","./hitTest-CblPROa1.js","./projectVectorToVector-dS8io47t.js","./projectPointToVector-BS0u8fq6.js","./LayerConstants-B33OP6sh.js","./layerUtils-dJgsXxkC.js","./Material-Ba8x5bbY.js","./VertexAttribute-Cq4MnHjR.js","./boundedPlane-Dyz2ub5d.js","./sphere-DQxj5tsv.js","./vec32-Dvg_eL9J.js","./mat3-CR8GKnhD.js","./mat3f64-BBpwCtoL.js","./plane-4dpuo6-e.js","./mat4f64-Dk4dwAN8.js","./quatf64-CCm9z-pX.js","./vec2f64-Dy6m9Nrb.js","./mathUtils-B9R7G-2c.js","./lineSegment-C-CDF7QX.js","./ViewingMode-Dodu7ZZk.js","./NoParameters-t-PuNrgq.js","./ElevationProvider-aS5xrHHy.js","./dehydratedFeatureUtils-1rrRm6hF.js","./Intersector-DqUGp7Vs.js","./intersectorUtils-l6zkk4nF.js","./verticalOffsetUtils-CUH6QZ7-.js","./orientedBoundingBox-9z4w3ZAL.js","./quat-4pa1e6ds.js","./spatialReferenceEllipsoidUtils-DM073JUd.js","./computeTranslationToOriginAndRotation-BT43Xu5d.js","./Attribute-B-NAci_J.js","./intersectorUtilsConversions-CZnn6t-z.js","./Intersector-DPK4WnQE.js","./defaultUnit-CO7iAvsB.js","./getDefaultUnitForView-CuRQcAm0.js","./elevationInfoUtils-RSZ4Logn.js","./vec2-maR1OrZI.js","./geodesicUtils-Bh_GX0Qj.js","./ScheduledQueueProcessor-DfrR8pp0.js","./ReactiveMap-Dwhwbx9R.js","./signal-DSa0yokC.js","./Scheduler-B_GuBefw.js","./debugFlags-ZrDyTcDc.js","./traversalUtils-DmE6QkgJ.js","./groundInstanceUtils-Ben03ZCf.js","./ElevationQuery-ClnmdMRA.js","./ElevationSamplerData-ejt2NMnl.js","./ElevationTile-BVRMxCrp.js","./TileKey-DZd6gJy7.js","./InputManager-Bs9UE-jw.js","./SketchViewModel-BHWV3FYM.js","./UpdatingHandles-ptqz1ck8.js","./layerUtils-BS1Di3Pm.js","./keybindings-DrKrBFID.js","./SketchLabelOptions-CwtwEofC.js","./SketchOptions-92Ul6Fzp.js","./angularMeasurementUtils-lDJJxFDs.js","./Cyclical-CPiNl4ru.js","./quantityUtils-1LswOhxZ.js","./SnappingManager-CF4NflXd.js","./RightAngleSnappingHint-CCcBBYgG.js","./Query-DCBIeen2.js","./Field-Cyk7Ur5d.js","./fieldType-L-VlbZqy.js","./FullTextSearch-BWm_kPUE.js","./utils-D02V2_jH.js","./Version-9k2AOv05.js","./geometry2dUtils-vtViF5g_.js","./viewUtils-Ce2x26K8.js","./hitTestSelectUtils-UXJPjatw.js","./screenUtils-DyhV4TAA.js","./unitFormatUtils-Dbksq3U5.js","./substitute-D1XJWgT5.js","./UnitSelect-JGyYeoZR.js","./globalCss-CZa70j6i.js","./useWidget-Dlf3SkC7.js","./index-BkKcLxWB.js","./component-utils-DWY0IMHC.js","./ElevationProfileView3D-k0k4kPo4.js","./settings-Dlzvuw6Z.js","./ExtendedLineVisualElement-D93_23WS.js","./Octree-B-jwmuW2.js","./InterleavedLayout-Dvj-Snan.js","./BufferView-_QDXRCew.js","./types-D0PSWh4d.js","./EngineVisualElement-B_1wMpLc.js","./GridLocalOriginFactory-BvhZ_UoU.js","./FloatArray-BCfeX8wo.js","./BindType-BBwFZqyN.js","./Matrix3PassUniform-Bhi2fM3C.js","./Texture-D-SqNa4i.js","./enums-D9v74xTE.js","./getDataTypeBytes-BTGR5GyG.js","./renderState-e7QeQoUO.js","./basicInterfaces-CZwQPxTp.js","./Indices-Db9lERgy.js","./triangle-D_E6eTS3.js","./ShaderTechniqueConfiguration-YrUOztAU.js","./glsl-BH37Aalp.js","./requestImageUtils-Brn0e8z8.js","./TextureFormat-1mYWTFa-.js","./RibbonLine.glsl-D3IEIaDR.js","./sdfPrimitives-B8Jbwvqs.js","./doublePrecisionUtils-B0owpBza.js","./floatRGBA-CR2j2c7-.js","./ShaderBuilder-DV1s2efh.js","./RgbaFloatEncoding.glsl-_io2eW3M.js","./OverlayCompositing.glsl-BbJKjUZQ.js","./SceneLighting-fZH2UQ_L.js","./RenderCamera-BovI3JTe.js","./axisAngleDegrees-8Sw4vC28.js","./weather-DtiKeY2t.js","./BooleanBindUniform-xvVHJCDz.js","./Float4DrawUniform-C_Hqa-pI.js","./RenderPlugin-B2sz29jJ.js","./HighlightDefaults-ESbuT2uR.js","./VertexElementDescriptor-BOD-G50G.js","./VertexArrayObject-DcVjXzZo.js","./BufferObject-CIl3vJtA.js","./memoryEstimations-5gFNwkKK.js","./NestedMap-GuqgquCN.js","./HUDRenderStyle-BhGvVxgm.js","./VisualElement-D3eR6o-M.js","./LaserlineVisualElement-BPYPJd-Q.js","./Blit-D5AxBSxC.js","./glUtil-D0YUa0ow.js","./CameraSpace.glsl-BZ4Eapt3.js","./Float2PassUniform-Blij1ug3.js","./Matrix4PassUniform-LFIUaE9i.js","./GeometryUtil-vHI0hYMT.js","./vec3f32-nZdmKIgz.js","./lineStippleUtils-C89mzWlO.js","./OutlineVisualElement-YzWFCOcm.js","./ElevationContext-jcnAn7VT.js","./hydratedFeatures-BVVSs98j.js","./line-CTiLAMHp.js","./line-BVlGDkwe.js","./triangulationUtils-ChyeOnqC.js","./earcut-Lltz9D9k.js","./deduplicate-8uOXlcvp.js","./GraphicState-BClxgc_s.js","./index-73bQemcW.js","./dom--xxYYVQF.js","./guid-ejniuQmw.js","./observers-BdozwIHb.js","./index-DVEy4f7w.js","./index-CjrYEQXz.js","./useT9n-CJAswmP1.js","./keyed-CdPY5MOf.js","./directive-helpers-C0aXnQdc.js","./ref-Ccn4I0kT.js","./interactive-B8siLByk.js","./loadable-DOQnSSjG.js","./component-CFGnHAqh.js","./index-B7QXL93z.js","./form-B15gmg4q.js","./key-CZcQa38B.js","./label-BLne9qNB.js","./index-D130RxMY.js","./index-DIp-v4qk.js","./floating-ui-BkLjHVN3.js","./debounce-DbkufipY.js","./openCloseComponent-dw_x67D_.js","./static-g4FJ4v8I.js","./FloatingArrow-D9X-HbKW.js","./useFocusTrap-ENcZoC4L.js","./focusTrapComponent-Br_3Mz8_.js","./index-BtF7Kdcs.js","./chartUtils-BLBLfLEl.js","./ResponsiveTheme-BcqB0y5F.js","./Theme-j0p7GXwZ.js","./chartUtilsAm5-CRBRpjAt.js","./Tooltip-D_Bvu-bx.js","./DefaultTheme-CDLLrEdR.js","./themeUtils-C3zvZbsE.js","./LineSeries-mg8Ni5g7.js","./ColorSet-BTHKRo6w.js","./Tick-8IC22wWy.js","./Button-CiizicDX.js"])))=>i.map(i=>d[i]);
import{_ as D,i as Ut,L as Tt,u as Vt,c as At,n as Bt,a as zt}from"./index-tefRSezt.js";import{D as oe,G as Ze,ag as Nt,aM as Gt,E as Zt,b2 as qt,r as o,m as r,a as I,g as me,t as _e,V as Ht,i as ue,j as ze,bR as pt,bp as Ft,N as B,e as xe,a7 as Qe,B as jt,a6 as Qt}from"./Accessor-BHnuXKD2.js";import{d as x,A as ne,a as Oe,C as dt,v as vt,V as Ne,p as Wt,P as We}from"./reactiveUtils-BR0C1Kq4.js";import{t as H}from"./memoize-DsJmrG76.js";import{e as Ce,O as Ee,c as Le,n as m,i as Ve}from"./jsxFactory-CLjKarlq.js";import{d as Yt,b as mt}from"./Graphic-CFXUQZlS.js";import{E as Jt}from"./ByteSizeUnit-BsxeN7wM.js";import{n as Kt}from"./collectionUtils-CbaToa73.js";import{e as Xt}from"./LRUCache-DS2O1kTf.js";import{x as Ue,Q as pe,g as _t,$ as he,L as ei,j as ti,C as ii,az as ni,ay as si,ao as Ye}from"./Point-XGrwlf63.js";import{R as Je,t as oi}from"./hitTest-CblPROa1.js";import{e as ri}from"./defaultUnit-CO7iAvsB.js";import{e as ft}from"./throttle-jjSnxk80.js";import{h as li,f as ai,a as gt}from"./elevationInfoUtils-RSZ4Logn.js";import{r as ci}from"./vec4f64-o2zAXfmz.js";import{p as ui}from"./Material-Ba8x5bbY.js";import{P as hi,o as yt}from"./mathUtils-DV9iOXpW.js";import{m as pi,_ as di}from"./vec2-maR1OrZI.js";import{I as vi,o as mi}from"./vec32-Dvg_eL9J.js";import{P as qe,u as _i,U as fi}from"./Polyline-BmuD2-ZN.js";import{Q as Ke,O as Ge}from"./projection-B2I9Bzj_.js";import{R as gi,y as yi,q as bi,j as bt}from"./geodesicUtils-Bh_GX0Qj.js";import{_ as wi}from"./ScheduledQueueProcessor-DfrR8pp0.js";import{g as Ci}from"./Scheduler-B_GuBefw.js";import{n as Si}from"./traversalUtils-DmE6QkgJ.js";import{h as W}from"./Color-gncXBiLc.js";import{i as Ei}from"./Evented-DCWccWGU.js";import{n as Pi}from"./uuid-Cl5lrJ4c.js";import{o as $i}from"./groundInstanceUtils-Ben03ZCf.js";import{GeometryDescriptor as wt}from"./ElevationQuery-ClnmdMRA.js";import{n as Xe}from"./vec3f64-BLpZdpfb.js";import{b as ki,S as xi}from"./sphere-DQxj5tsv.js";import{T as Ii}from"./Intersector-DqUGp7Vs.js";import{e as Mi}from"./intersectorUtils-l6zkk4nF.js";import{m as Ri}from"./intersectorUtilsConversions-CZnn6t-z.js";import{h as Di}from"./GraphicsLayer-Acqd2VFm.js";import{d as Oi}from"./TextSymbol-BQ_NW9Xo.js";import{_ as Li}from"./InputManager-Bs9UE-jw.js";import{y as Ui}from"./SketchViewModel-BHWV3FYM.js";import"./intl-Do3GEEJ7.js";import{g as et,w as tt}from"./unitFormatUtils-Dbksq3U5.js";import{s as Ti}from"./substitute-D1XJWgT5.js";import{n as Vi}from"./UnitSelect-JGyYeoZR.js";import{e as Ae}from"./globalCss-CZa70j6i.js";import{P as Ai}from"./useWidget-Dlf3SkC7.js";const k="esri-elevation-profile",P={base:`${k}`,portrait:`${k}--portrait`,refined:`${k}--refined`,mainContainer:`${k}__main-container`,promptContainer:`${k}__prompt-container`,header:`${k}__header`,zoomOutButton:`${k}__zoom-out-button`,clearButton:`${k}__clear-button`,actionButton:`${k}__action-button`,sketchButton:`${k}__sketch-button`,sketchCancelButton:`${k}__sketch-cancel-button`,sketchDoneButton:`${k}__sketch-done-button`,selectButton:`${k}__select-button`,selectCancelButton:`${k}__select-cancel-button`,chartContainer:`${k}__chart-container`,chartSpinner:`${k}__chart-spinner`,chartSpinnerVisible:`${k}__chart-spinner--visible`,chartSpinnerSmall:`${k}__chart-spinner--small`,footer:`${k}__footer`},Bi={base:"esri-elevation-profile-legend"},X="esri-elevation-profile-legend-item",ee={base:X,disabled:`${X}--disabled`,expanded:`${X}--expanded`,colorIndicator:`${X}__color-indicator`,header:`${X}__header`,content:`${X}__content`,collapseToggle:`${X}__collapse-toggle`,label:`${X}__label`,checkbox:`${X}__checkbox`},ye="esri-elevation-profile-statistics",be={base:ye,statistic:`${ye}__statistic`,statisticLabel:`${ye}__statistic__label`,statisticValue:`${ye}__statistic__value`,slopeValue:`${ye}__slope-value`},Ie="esri-elevation-profile-settings",Me={base:`${Ie}`,popoverContent:`${Ie}__popover-content`,uniformChartScalingLabel:`${Ie}__uniform-scaling-label`,uniformChartScalingCheckbox:`${Ie}__uniform-scaling-checkbox`};var L,$;(function(t){t.Disabled="disabled",t.Ready="ready",t.Creating="creating",t.Created="created",t.Selecting="selecting",t.Selected="selected"})(L||(L={})),function(t){t.NoValidInput="no-valid-input",t.NoVisibleProfiles="no-visible-profiles",t.InvalidGeometry="invalid-geometry",t.TooComplex="too-complex",t.InvalidElevationInfo="invalid-elevation-info",t.UnknownError="unknown-error",t.RefinedButNoChartData="refined-but-no-chart-data",t.None="none"}($||($={}));let Ct={noDataValue:-5e5,defaultQueryOptions:()=>({noDataValue:Ct.noDataValue,demResolution:"auto",maximumAutoTileRequests:150,ignoreInvisibleLayers:!0}),updateThrottleMillis:100,delayAfterPreviewMillis:500,defaultDemResolution:Ue(10,"centimeters","meters"),densificationMaxSamples:3e3,largeChartSamples:1e4,maxTotalSamples:1e5,maxChartRatio:300,minSlopeSampleDistance:10,formatPrecision:1,profileLinesStyle3D:{width:3,falloff:0,innerWidth:0,innerColor:ci(0,0,0,0),renderOccluded:ui.Opaque},profileLinesUpdateThrottleMillis:100,hoveredPointsStyle:{size:14,borderStyle:"solid",borderWidth:3,borderColor:"#ffffff",boxShadow:"0px 0px 0px 5px rgba(255,255,255,0.2)"}};function F(){return Ct}const zi=" â€• ",Ni={progress:1,hasZ:!1,samples:[],statistics:null,spatialReference:null},St="ProfileGenerationError";var z;(function(t){t.TooComplex="too-complex",t.InvalidGeometry="invalid-geometry",t.InvalidElevationInfo="invalid-elevation-info",t.ElevationQueryError="elevation-query-error"})(z||(z={}));let ve=class extends Error{constructor(e){super("profile could not be generated",{cause:e}),this.type=St}};function Gi(t){return t.type===St}async function Zi(t,e,i,n,s,l,a){let c,u,h;const p=t.spatialReference,v=p.isGeographic||p.isWebMercator;let d=0;if(!v){const{planarLength:b}=await D(()=>import("./geometryEngineAsync-D5578A3I.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),import.meta.url);oe(a),d=await b(t,"meters"),oe(a)}const _=1/pe(n);if(v){await Ke([{source:p,dest:n},{source:p,dest:_t.WGS84}],a);const b=en(t);c=gi([b],"meters")[0];const E=it(c,s);if(ot(t,c,E)>l)throw new ve(z.TooComplex);const f=nt(b,e,i);({densifiedPath:u,distances:h}=ji(f,E,_)),u=Ge(u,n)}else{await Ke([{source:p,dest:n}],a),c=d;const b=it(c,s);if(ot(t,c,b)>l)throw new ve(z.TooComplex);const E=nt(t,e,i);({densifiedPath:u,distances:h}=Fi(E,b,_)),oe(a),u=Ge(u,n)}return{densifiedPath:u,pathLength:c*_,distances:h}}function it(t,e){const i=t/e.densificationMaxSamples;return Math.max(e.samplingDistance,i)}function nt(t,e,i){if(e==null)return st(t);const n=t.spatialReference,s=e.mode,l=li(e,n);let a=null;switch(i.type){case"2d":a=qi(t,s,l);break;case"3d":a=Hi(t,s,l,i)}return a==null?st(t):new qe({hasZ:!0,hasM:!1,spatialReference:n,paths:Et(t.paths,a)})}function qi({hasZ:t},e,i){return e==="absolute-height"?t?([n,s,l])=>[n,s,l+i]:([n,s])=>[n,s,i]:null}function Hi({spatialReference:t,hasZ:e},i,n,{elevationProvider:s}){const l=(a,c,u,h)=>(s==null?void 0:s.getElevation(a,c,u,t,h))??0;switch(i){case"on-the-ground":return([a,c])=>[a,c,l(a,c,0,"ground")];case"absolute-height":return e?([a,c,u])=>[a,c,u+n]:([a,c])=>[a,c,n];case"relative-to-ground":return e?([a,c,u])=>[a,c,u+l(a,c,u,"ground")+n]:([a,c])=>[a,c,l(a,c,0,"ground")+n];case"relative-to-scene":return e?([a,c,u])=>[a,c,u+l(a,c,u,"scene")+n]:([a,c])=>[a,c,l(a,c,0,"scene")+n];default:return null}}function st(t){return t.hasZ?new qe({hasZ:!1,hasM:!1,spatialReference:t.spatialReference,paths:Et(t.paths,([e,i])=>[e,i])}):t}function Et(t,e){const i=t.length,n=new Array(i);for(let s=0;s<i;++s){const l=t[s],a=l.length,c=new Array(l.length);n[s]=c;for(let u=0;u<a;++u)c[u]=e(l[u])}return n}function He(t){return Pe(t)&&t.paths.length>0&&t.paths.every(e=>e.length>=2)}function Pe(t){return t!=null&&t.type==="polyline"}function Pt(t,e,i,n,s){const{spatialReference:l,hasZ:a}=t,c={from:null,to:null,distance:0,azimuth:0,reverseAzimuth:0,spatialReference:l,metersPerSR:pe(l)},u=[],h=[];let p=0;for(let v=0;v<t.paths.length;++v){const d=t.paths[v],_=new Array,b=new Array;let E=0;for(let f=1;f<d.length;++f){const C=d[f-1],U=d[f],M=n(c,C,U);let N;for(N=E;N<M.distance&&!hi(N,M.distance);N+=e)_.push(s(M,N)),b.push((p+N)*i);E=N-M.distance,p+=M.distance,_.push(U),b.push(p*i)}u[v]=_,h[v]=b}return{densifiedPath:new qe({spatialReference:l,hasZ:a,paths:u}),distances:h}}function Fi(t,e,i){const{hasZ:n}=t;return Pt(t,e,i,Wi,n?Xi:Ki)}function ji(t,e,i){const{hasZ:n}=t;return Pt(t,e,i,Qi,n?Ji:Yi)}function Qi(t,e,i){return t.distance=0,bi(t,e,i,t.spatialReference),t.from=e,t.to=i,t}function Wi(t,e,i){return t.from=e,t.to=i,t.distance=pi(i,e)*t.metersPerSR,t}function Yi({from:t,azimuth:e,spatialReference:i},n){return bt([0,0],t,e,n,i)}function Ji({from:t,to:e,azimuth:i,distance:n,spatialReference:s},l){const a=l/n,c=[0,0,yt(t[2],e[2],a)];return bt(c,t,i,l,s),c}function Ki({from:t,to:e,distance:i},n){return di([0,0],t,e,n/i)}function Xi({from:t,to:e,distance:i},n){return vi([0,0,0],t,e,n/i)}function en(t){return yi(t.spatialReference)?t:Ge(t,_t.WGS84)}function $t(t){return t.paths.reduce((e,i)=>e+i.length,0)}function ot(t,e,i){return $t(t)+Math.floor(e/i)+Math.max(0,t.paths.reduce(n=>1+n,0)-1)}function tn(t,e){const i=t.length;if(i===0)return null;const n=t[0],s=n.sampledZ;let l=s,a=s,c=0,u=0,h=null,p=null,v=s??0,d=0,_=0,b=s!=null?1:0,E=0,f=0;const C=pe(e),U=he(e),M=F().minSlopeSampleDistance/C,N=2*M,Y=new rt,j=new rt,Te=()=>{Lt(),Y.copy(j),j.reset()},je=(G,fe)=>{Te(),G>0&&G-Y.start<=N&&(G=Y.start+M),j.restart(G,fe)},Lt=()=>{if(Y.isHole||j.isHole)return;const G=j.avgElevation-Y.avgElevation,fe=j.start-Y.start,ge=G*U,J=fe*C,K=Ue(Math.atan2(ge,J),"radians","degrees");K>0?(d+=K,h=se(h,K),E++):K<0&&(_-=K,p=se(p,-K),f++)};n.sampledZ!=null&&je(n.distance,n.sampledZ);for(let G=1;G<i;++G){const fe=t[G-1],ge=t[G],J=ge.sampledZ;if(J==null){j.isHole||Te();continue}b++,v+=J,l=Fe(l,J),a=se(a,J),j.isHole||ge.distance-j.start>=M?je(ge.distance,J):j.insert(J);const K=fe.sampledZ;if(K!=null){const ke=J-K;ke>0?c+=ke:ke<0&&(u-=ke)}}return Te(),b===0?null:{maxDistance:t[i-1].distance,minElevation:l,maxElevation:a,avgElevation:b===0?null:v/b,elevationGain:c,elevationLoss:u,maxPositiveSlope:h,maxNegativeSlope:p,avgPositiveSlope:E===0?null:d/E,avgNegativeSlope:f===0?null:_/f}}function nn(t){const e=t.filter(Ze),i=e.length;if(i===0)return null;const n=e[0];if(i===1)return n;let s=n.maxDistance,l=n.minElevation,a=n.maxElevation,c=n.maxPositiveSlope,u=n.maxNegativeSlope;for(let h=1;h<e.length;++h){const p=e[h];s=se(s,p.maxDistance),l=Fe(l,p.minElevation),a=se(a,p.maxElevation),c=se(c,p.maxPositiveSlope),u=se(u,p.maxNegativeSlope)}return{maxDistance:s,minElevation:l,maxElevation:a,avgElevation:null,elevationGain:null,elevationLoss:null,maxPositiveSlope:c,maxNegativeSlope:u,avgPositiveSlope:null,avgNegativeSlope:null}}function sn(t){let e=null,i=null,n=null;for(const s of t){if(s==null)continue;const{statistics:l,spatialReference:a}=s;if(l==null)continue;const c=pe(a);e=se(e,Be(l.maxDistance,c));const u=he(a);n=Fe(n,Be(l.minElevation,u)),i=se(i,Be(l.maxElevation,u))}return{minDistance:0,maxDistance:e??0,minElevation:n??0,maxElevation:i??0}}function Fe(t,e){return e==null?t:t!=null?Math.min(t,e):e}function se(t,e){return e==null?t:t!=null?Math.max(t,e):e}function Be(t,e){return t!=null&&e!=null?t*e:null}let rt=class{constructor(){this._start=0,this._totalElevation=0,this._sampleCount=0}get avgElevation(){return this._totalElevation/this._sampleCount}get isHole(){return this._sampleCount===0}get start(){return this._start}copy(e){this._start=e._start,this._sampleCount=e._sampleCount,this._totalElevation=e._totalElevation}reset(){this._start=0,this._sampleCount=0,this._totalElevation=0}restart(e,i){this._start=e,this._sampleCount=1,this._totalElevation=i}insert(e){++this._sampleCount,this._totalElevation+=e}};async function*on(t,e){const{view:i,geometry:n,elevationInfo:s,providers:l,options:a}=t,c=i.spatialReference;if(!c||n==null||!He(n))throw new ve(z.InvalidGeometry);const u=l.length;if(u===0)return null;const h=Math.round(a.maxTotalSamples/u);if($t(n)>h)throw new ve(z.TooComplex);const p=await Zi(n,s,i,c,a,h,e);let v=0;const d=new Array(u),_=new Array(u);for(let f=0;f<u;f++){const C=hn(p);d[f]=C,v+=C.samples.length;const U={...t,provider:l[f],result:C,densificationResult:p};_[f]=rn(U,e)[Symbol.iterator]()}if(v>a.maxTotalSamples)throw new ve(z.TooComplex);const b=await Promise.all(_.map(f=>{const C=f.next();return C.done===!0?Promise.resolve(null):C.value}));oe(e);for(let f=0;f<u;f++)d[f]=b[f];yield d,await Nt(t.delayAfterPreview??F().delayAfterPreviewMillis,null,e.signal);const E=[];try{let f;do{f=!1;for(let C=0;C<u;C++){const U=_[C].next();U.done===!1&&(E.push({resultPromise:U.value,index:C}),f=!0)}}while(f)}finally{_.forEach(f=>{var C;return(C=f.return)==null?void 0:C.call(f)})}for(const{resultPromise:f,index:C}of E)d[C]=await f,oe(e),yield d;for(const f of d)f!=null&&(f.progress=1);yield d}function*rn(t,e){const{densificationResult:i}=t,n={...t,abortOptions:e,densificationResult:i},s=Si(0,n.result.samples.length),l=s.slice(0,n.provider.numSamplesForPreview);yield lt(n,l,!0);const a=Gt(s,n.provider.numSamplesPerChunk);for(const c of a)yield lt(n,c,!1)}async function lt({densificationResult:t,result:e,provider:i,queue:n,abortOptions:s,cache:l},a,c){const{densifiedPath:u,pathLength:h}=t,p=e.spatialReference,{samples:v}=e,d=[];for(let _=0;_<a.length;_++){const b=v[a[_]];d[_]=b.coordinate}try{return await n.push({geometry:new _i({spatialReference:p,points:d,hasZ:u.hasZ}),provider:i,indices:a,preview:c,result:e,queryOptions:{...F().defaultQueryOptions(),minDemResolution:Math.round(c?h/i.numSamplesForPreview:h/v.length),cache:l}},s),{...e}}catch(_){return Zt(_)?null:Ni}}function ln(t){return new wi({priority:Ci.ELEVATION_PROFILE,concurrency:1,scheduler:t,process:async e=>{oe(e.queryOptions);try{await an(e)}catch(i){qt(i)}}})}async function an({geometry:t,provider:e,indices:i,preview:n,result:s,queryOptions:l}){if(i.length===0)return;const a=(await vn(e,t,l)).geometry,{hasZ:c,points:u}=a,h=l.noDataValue,{samples:p}=s;for(let v=0;v<i.length;v++){const d=p[i[v]];if(d.isHole)continue;const _=c?u[v][2]:null;_===null||_===h?d.sampledZ=null:(s.hasZ=!0,d.sampledZ=_),d.sampled=!0}cn(p),s.progress=n?0:s.progress+i.length/p.length,s.statistics=tn(s.samples,s.spatialReference)}function cn(t){const e=t.length-1;let i=0;for(let n=1;n<=e;n++)(t[n].sampled||n===e)&&(un(t,i,n),i=n)}function un(t,e,i){if(i-e==1)return;const n=t[e],s=n.sampledZ,l=t[i],a=l.sampledZ;if(s==null||a==null){for(let h=e+1;h<i;h++)t[h].sampledZ=null;return}const c=n.distance,u=l.distance-c;for(let h=e+1;h<i;h++){const p=t[h],v=(p.distance-c)/u;p.sampledZ=yt(s,a,v)}}function hn({densifiedPath:t,distances:e}){const i=t.spatialReference,n=ei(i),s=t.paths,l=s.length,a=[];let c=null,u=0;for(let h=0;h<l;h++){const p=s[h],v=p.length,d=e[h];for(let _=0;_<v;_++){const b=p[_],E=d[_];n&&(b[0]=fi(b[0],n.valid[0],n.valid[1])),c&&_===0&&pn(a,c,b,u,E),a.push(dn(b,E)),c=b,u=E}}return{progress:0,samples:a,hasZ:!1,statistics:null,spatialReference:i}}function pn(t,e,i,n,s){t.push(at(e,n)),t.push(at(i,s))}function dn(t,e){return{coordinate:t,distance:e,sampledZ:null,sampled:!1,isHole:!1}}function at(t,e){return{coordinate:t,distance:e,sampledZ:null,sampled:!0,isHole:!0}}async function vn(t,e,i){try{return await t.queryElevation(e,i)}catch{throw new ve(z.ElevationQueryError)}}function mn(t,e,i){if(!t||t.length===0)return;const n=t.length-1,s=t[0];if(e<=i(s))return s;const l=t[n];if(e>=i(l))return l;let a=0,c=0,u=n;for(;a<u;){c=a+Math.floor((u-a)/2);const h=t[c],p=i(h);if(p===e)return h;if(e<p){if(c>0){const v=t[c-1],d=i(v);if(e>d)return e-d>=p-e?h:v}u=c}else{if(c<n){const v=t[c+1],d=i(v);if(e<d)return e-p>=d-e?v:h}a=c+1}}return t[c]}const ct=Symbol("line-change");let re=class extends me{constructor(e){super(e),this._updateTask=null,this._paramsPerProfile=new Map,this._getUpdateParametersMemoized=H((i,n,s)=>({stationary:i,visibleProfiles:n,generationParameters:s})),this._getGenerationParametersMemoized=H((i,n,s,l,a,c,u)=>Pe(n)&&He(n)&&l!=null?{view:i,geometry:n,elevationInfo:s,options:c,queue:l,cache:a,slicePlane:u}:null),this._getElevationInfoMemoized=H((i,n)=>({mode:i,offset:n})),this._getOptionsMemoized=H((i,n)=>{const{densificationMaxSamples:s,maxTotalSamples:l}=F();return{samplingDistance:i,densificationMaxSamples:Math.round(s/n),maxTotalSamples:l}}),this._updateThrottled=ft(i=>ze(this._update(i)),F().updateThrottleMillis)}initialize(){const e=this.viewModel;this.addHandles([x(()=>({visible:e.visible,profiles:e.profiles.toArray()}),({visible:i,profiles:n})=>{this._abortUpdate(),this._paramsPerProfile.clear(),this.removeHandles(ct),i&&n.length!==0&&this.addHandles([...n.map(s=>_e([s.attach(this.viewModel),s.on("change",()=>{this._invalidateProfile(s)})])),x(()=>this._updateParameters,this._updateThrottled,ne),this._updateThrottled],ct)},ne)])}destroy(){this._paramsPerProfile.clear()}get _updateParameters(){const{viewModel:e}=this,i=e.view;return this._getUpdateParametersMemoized(i==null||i.stationary,this.viewModel.visibleProfiles,this._generationParameters)}get _generationParameters(){const{view:e,input:i,queue:n,tileCache:s}=this.viewModel;return e!=null&&e.ready?this._getGenerationParametersMemoized(e,i==null?void 0:i.geometry,this._elevationInfo,n,s,this._options,e.type==="3d"?e.slicePlane:null):null}get _elevationInfo(){const e=this.viewModel.input,i=e?ai(e)?null:gt(e):null;return i!=null?this._getElevationInfoMemoized(i.mode,i.offset):null}get _options(){const e=this.viewModel,i=e.visibleProfiles.length;let n=e.minDemResolution??F().defaultDemResolution;return n=parseFloat(n.toFixed(2)),this._getOptionsMemoized(n,i)}async _update({stationary:e,visibleProfiles:i,generationParameters:n}){this._abortUpdate(),e&&(n!=null?this._updateTask=Oe(async s=>{this.viewModel.error=null;const l=i.filter(c=>!this._isProfileValid(c,n)),a=on({...n,providers:l},{signal:s});try{for await(const c of a){oe(s),this._clearInvalidResults(n);for(let u=0;u<l.length;u++)l[u].result=c[u]}for(const c of l)this._paramsPerProfile.set(c,n)}catch(c){Ht(c),this._abortUpdate(),this.viewModel.error=c,l.forEach(u=>{u.result=null})}}):this._clearResults())}_abortUpdate(){this._updateTask=ue(this._updateTask)}_isProfileValid(e,i){return this._paramsPerProfile.has(e)&&this._paramsPerProfile.get(e)===i}_invalidateProfile(e){this._paramsPerProfile.delete(e),this._updateThrottled(this._updateParameters)}_clearInvalidResults(e){for(const i of this.viewModel.profiles.items)this._isProfileValid(i,e)||(i.result=null,this._paramsPerProfile.delete(i))}_clearResults(){for(const e of this.viewModel.profiles.items)e.result=null,this._paramsPerProfile.delete(e)}};o([r({nonNullable:!0})],re.prototype,"viewModel",void 0),o([r()],re.prototype,"_updateParameters",null),o([r()],re.prototype,"_generationParameters",null),o([r()],re.prototype,"_elevationInfo",null),o([r()],re.prototype,"_options",null),re=o([I("esri.widgets.ElevationProfile.ElevationProfileController")],re);function _n(t,e){if(t==null||e==null)return null;const{samples:i,spatialReference:n}=t,{distance:s,elevation:l}=e,a=pe(n),c=he(n),u=i.length,h=new Array(u);for(let p=0;p<u;++p){const v=i[p],d=v.sampledZ,_=v.coordinate;h[p]={x:_[0],y:_[1],z:d,distance:kt(v.distance,a,s),elevation:de(d,c,l)}}return h}function fn(t,e){if(t==null||e==null||t.statistics==null||t.spatialReference==null)return null;const{distance:i,elevation:n}=e,{statistics:s,spatialReference:l}=t,a=pe(l),c=he(l);return{maxDistance:kt(s.maxDistance,a,i),minElevation:de(s.minElevation,c,n),maxElevation:de(s.maxElevation,c,n),avgElevation:de(s.avgElevation,c,n),elevationGain:de(s.elevationGain,c,n),elevationLoss:de(s.elevationLoss,c,n),maxPositiveSlope:s.maxPositiveSlope,maxNegativeSlope:s.maxNegativeSlope,avgPositiveSlope:s.avgPositiveSlope,avgNegativeSlope:s.avgNegativeSlope}}function kt(t,e,i){return t==null?null:Ue(t*e,"meters",i)}function de(t,e,i){return t==null?null:Ue(t*e,"meters",i)}let S=class extends Ei.EventedAccessor{constructor(e){super(e),this.type=null,this.id=Pi(),this.title=null,this.color=new W("#000000"),this.visible=!0,this._getSamplesMemoized=H((i,n)=>_n(i,n)),this._getStatisticsMemoized=H((i,n)=>fn(i,n)),this.viewVisualizationEnabled=!0,this.result=null,this.effectiveUnits=null,this.numSamplesForPreview=30,this.numSamplesPerChunk=200,this.chartFillEnabled=!0,this.chartStrokeWidth=1.5,this.chartStrokeOffsetY=0,this._viewModel=null}get progress(){return this.result!=null&&this.visible?this.result.progress:0}get samples(){return this._getSamplesMemoized(this.result,this.effectiveUnits)}get statistics(){return this._getStatisticsMemoized(this.result,this.effectiveUnits)}get hoveredPoint(){var i;const e=(i=this._viewModel)==null?void 0:i.hoveredChartPosition;return e!=null?this._getPoint(e):null}get available(){return!0}get hasZ(){const e=this.result;return e!=null&&e.hasZ}get minDemResolution(){return F().defaultDemResolution}queryElevation(){throw new Error("not implemented")}attach(e){return this._viewModel=e,_e([x(()=>e.effectiveUnits,i=>{this.effectiveUnits=i},ne),x(()=>[e.input],()=>this._onChange(),dt)])}toggleVisibility(e){this.visible=e===void 0?!this.visible:e}_onChange(){this.emit("change")}_getPoint(e){const{samples:i,result:n}=this;if(i==null||n==null)return null;const s=i.length;if(s===0)return null;const l=i[s-1].distance,a=mn(i,e*l,p=>p.distance);if(a==null)return null;const{x:c,y:u,z:h}=a;return h==null?null:new ti({x:c,y:u,z:h,spatialReference:n.spatialReference})}};o([r({nonNullable:!0})],S.prototype,"id",void 0),o([r({nonNullable:!0})],S.prototype,"title",void 0),o([r({type:W,nonNullable:!0})],S.prototype,"color",void 0),o([r({nonNullable:!0})],S.prototype,"visible",void 0),o([r({readOnly:!0})],S.prototype,"progress",null),o([r({readOnly:!0})],S.prototype,"samples",null),o([r({readOnly:!0})],S.prototype,"statistics",null),o([r()],S.prototype,"hoveredPoint",null),o([r()],S.prototype,"viewVisualizationEnabled",void 0),o([r()],S.prototype,"available",null),o([r()],S.prototype,"result",void 0),o([r()],S.prototype,"effectiveUnits",void 0),o([r()],S.prototype,"numSamplesForPreview",void 0),o([r()],S.prototype,"numSamplesPerChunk",void 0),o([r()],S.prototype,"chartFillEnabled",void 0),o([r()],S.prototype,"chartStrokeWidth",void 0),o([r()],S.prototype,"chartStrokeOffsetY",void 0),o([r({readOnly:!0})],S.prototype,"hasZ",null),o([r({readOnly:!0})],S.prototype,"minDemResolution",null),o([r()],S.prototype,"_viewModel",void 0),S=o([I("esri.widgets.ElevationProfile.ElevationProfileLine")],S);const $e=S;function xt(t){var n;if(t==null)return null;if($i(t))return It(t);const e=t.tileInfo;if(e==null)return null;const i=(n=e.lods)==null?void 0:n.at(-1);return i==null?null:i.resolution*pe(e.spatialReference)}function It(t){if(t==null)return null;const e=t.layers.items.map(gn).filter(Ze);return pt(e)??null}function gn(t){return t&&"tileInfo"in t?xt(t):null}let Q=class extends $e{constructor(e){super(e),this.type="ground",this.color=new W("#ff7f00"),this.viewVisualizationEnabled=!0,this.numSamplesForPreview=50,this.numSamplesPerChunk=1e3,this._getQueryElevationDependencies=H((i,n)=>({ground:i,groundLayers:n}))}get available(){const e=this._ground;return e!=null&&e.layers.some(i=>i.visible)}get minDemResolution(){return It(this._ground)}get _queryElevationDependencies(){return this._getQueryElevationDependencies(this._ground,this._groundLayers)}get _ground(){var e,i,n;return(n=(i=(e=this._viewModel)==null?void 0:e.view)==null?void 0:i.map)==null?void 0:n.ground}get _groundLayers(){var e,i;return((i=(e=this._ground)==null?void 0:e.layers)==null?void 0:i.toArray())??[]}async queryElevation(e,i){const n=this._queryElevationDependencies;if(n==null)throw new Error("ElevationProfileLineGround: no dependencies");const{ground:s}=n;if(s==null)throw new Error("No ground configured in the view");const l=await s.queryElevation(e,i),a=he(e.spatialReference),c=he(s.layers.at(0).spatialReference);if(a!==c){const u=l.geometry;u.points=u.points.map(([h,p,v])=>[h,p,v===i.noDataValue?v:v*c/a])}return l}attach(e){return _e([super.attach(e),x(()=>this._queryElevationDependencies,()=>this._onChange())])}};o([r({type:W,nonNullable:!0})],Q.prototype,"color",void 0),o([r()],Q.prototype,"viewVisualizationEnabled",void 0),o([r()],Q.prototype,"available",null),o([r({readOnly:!0})],Q.prototype,"minDemResolution",null),o([r()],Q.prototype,"_queryElevationDependencies",null),o([r()],Q.prototype,"_ground",null),o([r()],Q.prototype,"_groundLayers",null),Q=o([I("esri.widgets.ElevationProfile.ElevationProfileLineGround")],Q);const Mt=Q;let te=class extends $e{constructor(e){super(e),this.type="input",this.color=new W("#00c8c8"),this.viewVisualizationEnabled=!1,this.numSamplesForPreview=50,this.numSamplesPerChunk=500,this.chartFillEnabled=!1,this.chartStrokeOffsetY=-1,this._getQueryElevationDependencies=H((i,n,s,l,a)=>i?{elevationInfo:i,visibleLayers:n,view:s,stationary:l,spatialReference:a}:null)}get queryElevationDependencies(){var i;const e=(i=this._viewModel)==null?void 0:i.view;return e==null?null:this._getQueryElevationDependencies(this._elevationInfo,this._visibleLayers,e,e.stationary,e.spatialReference)}get available(){var e;return!((e=this._viewModel)!=null&&e.inputIsSketched)}get _elevationInfo(){var i;const e=(i=this._viewModel)==null?void 0:i.input;return e?gt(e):null}get _visibleLayers(){var e,i,n,s;return((s=(n=(i=(e=this._viewModel)==null?void 0:e.view)==null?void 0:i.map)==null?void 0:n.allLayers)==null?void 0:s.filter(l=>l.visible).toArray())??[]}async queryElevation(e,{noDataValue:i,signal:n}){const s=this.queryElevationDependencies;if(s==null)throw new Error("ElevationProfileLineInput: no dependencies");const{view:l,elevationInfo:a,spatialReference:c}=s;if(a.mode==="on-the-ground"&&l.type==="3d"&&c){const u=await wt.fromGeometry(e).project(c,n);if(!u)return{geometry:e,noDataValue:i};const h=l.elevationProvider;return u.coordinates.forEach(p=>{p.z=h.getElevation(p.x,p.y,0,c,"ground")??0}),{geometry:u.export(),noDataValue:i}}return{geometry:e,noDataValue:i}}attach(e){const i=()=>this._onChange();return _e([super.attach(e),x(()=>this.queryElevationDependencies,i),vt(()=>e.elevationProvider,"elevation-change",i,{onListenerAdd:i,onListenerRemove:i})])}};o([r({type:W,nonNullable:!0})],te.prototype,"color",void 0),o([r()],te.prototype,"viewVisualizationEnabled",void 0),o([r()],te.prototype,"queryElevationDependencies",null),o([r()],te.prototype,"available",null),o([r()],te.prototype,"_elevationInfo",null),o([r()],te.prototype,"_visibleLayers",null),te=o([I("esri.widgets.ElevationProfile.ElevationProfileLineInput")],te);const yn=te;let le=class extends $e{constructor(e){super(e),this.type="query",this.color=new W("#db334a"),this.viewVisualizationEnabled=!0,this.source=null,this.numSamplesForPreview=50,this.numSamplesPerChunk=500}get minDemResolution(){return xt(this.source)}get available(){const e=this.source;return!!e&&(e.visible==null||e.visible)&&(e.layers==null||e.layers.some(i=>i.visible))}queryElevation(e,i){if(!this.source)throw new Error("No source configured for the elevation profile line");return this.source.queryElevation(e,i)}attach(e){return _e([super.attach(e),x(()=>this.source,()=>this._onChange(),dt)])}};o([r({type:W,nonNullable:!0})],le.prototype,"color",void 0),o([r()],le.prototype,"viewVisualizationEnabled",void 0),o([r()],le.prototype,"source",void 0),o([r({readOnly:!0})],le.prototype,"minDemResolution",null),o([r()],le.prototype,"available",null),le=o([I("esri.widgets.ElevationProfile.ElevationProfileLineQuery")],le);const bn=le,wn=2e5;let R=class extends $e{constructor(e){super(e),this.type="view",this.color=new W("#cf4ccf"),this.viewVisualizationEnabled=!0,this.include=null,this.exclude=null,this.numSamplesForPreview=50,this.numSamplesPerChunk=25,this._getQueryElevationDependencies=H((i,n,s,l,a,c,u)=>({inputGraphicUid:i!=null?Rt(i):null,visibleLayers:n,maxIntersectionDistance:s,intersectOptions:l,view:a,stationary:c,spatialReference:u})),this._vecA=Xe(),this._vecB=Xe(),this._ray=ki()}get minDemResolution(){var n,s,l;const e=(n=this._viewModel)==null?void 0:n.view;if(e==null||e.type!=="3d")return null;const i=(l=(s=e.pointsOfInterest)==null?void 0:s.focus)==null?void 0:l.worldUnitsPerContentPixel;return i==null?null:i*he(e.spatialReference)}get queryElevationDependencies(){var i;const e=this._view;return e?this._getQueryElevationDependencies((i=this._viewModel)==null?void 0:i.input,this._visibleLayers,this._maxIntersectionDistance,this._intersectOptions,e,e.stationary,e.spatialReference):null}get _visibleLayers(){var e,i,n;return((n=(i=(e=this._view)==null?void 0:e.map)==null?void 0:i.allLayers)==null?void 0:n.filter(s=>s.visible).toArray())??[]}get _intersectOptions(){const e=this._view;if(e==null||e.destroyed)return{};const i=Je(e,{include:this.include,exclude:this.exclude}),n=Je(e,{exclude:this._pointCloudLayers});return i.exclude=Ft(i.exclude,n.exclude),i}get _pointCloudLayers(){const e=this._view;return e==null?[]:e.allLayerViews.toArray().filter(i=>{var n;return((n=i.layer)==null?void 0:n.type)==="point-cloud"}).map(i=>i.layer)}get _view(){var i;const e=(i=this._viewModel)==null?void 0:i.view;return e!=null&&e.type==="3d"?e:null}get _maxIntersectionDistance(){const e=this._view;return e!=null&&e.renderCoordsHelper?ii(e.spatialReference).radius/e.renderCoordsHelper.unitInMeters:Number.POSITIVE_INFINITY}get _intersector(){const e=this._view;if(e==null)return null;const i=Ii(e.state.viewingMode),n=i.options;return n.hud=!1,n.invisibleTerrain=!1,n.backfacesTerrain=!1,n.selectionMode=!1,n.store=Mi.ALL,i}async queryElevation(e,{noDataValue:i,signal:n}){const s=this.queryElevationDependencies;if(s==null)throw new Error("ElevationProfileLineInput: no dependencies");const l=this._intersector;if(l==null)throw new Error("ElevationProfileLineInput: no view");const{intersectOptions:a,view:c,spatialReference:u}=s,h=c.renderCoordsHelper,p=c.sceneIntersectionHelper,v=this._vecA,d=this._vecA,_=this._vecB,b=this._ray;if(!u)return{geometry:e,noDataValue:i};const E=await wt.fromGeometry(e).project(u,n);if(!E)return{geometry:e,noDataValue:i};const f=E.coordinates,C=f.length;for(let U=0;U<C;++U){const M=f[U];mi(_,M.x,M.y,M.z??0),h.toRenderCoords(_,u,_),h.setAltitude(v,wn,_);const N=xi(v,_,b);p.computeIntersection(N,l,a,!0);const Y=Cn(s,l.results.all);Y?(Y.getIntersectionPoint(d),h.fromRenderCoords(d,d,u),M.z=d[2]):M.z=i}return{geometry:E.export(),noDataValue:i}}attach(e){const i=()=>this._onChange();return _e([super.attach(e),x(()=>this.queryElevationDependencies,i),vt(()=>e.elevationProvider,"elevation-change",i,{onListenerAdd:i,onListenerRemove:i})])}};function Cn({view:t,inputGraphicUid:e,maxIntersectionDistance:i},n){for(const s of n){if(!s.withinDistance(i))continue;const l=Ri(s,t);if(l==null||Rt(l)!==e)return s}return null}function Rt(t){if(t.layer&&"objectIdField"in t.layer){const e=t.attributes[t.layer.objectIdField];if(e)return`o-${t.layer.id}-${e}`}return`u-${t.uid}`}o([r({type:W,nonNullable:!0})],R.prototype,"color",void 0),o([r()],R.prototype,"viewVisualizationEnabled",void 0),o([r()],R.prototype,"include",void 0),o([r()],R.prototype,"exclude",void 0),o([r({readOnly:!0})],R.prototype,"minDemResolution",null),o([r()],R.prototype,"queryElevationDependencies",null),o([r()],R.prototype,"_visibleLayers",null),o([r()],R.prototype,"_intersectOptions",null),o([r()],R.prototype,"_pointCloudLayers",null),o([r()],R.prototype,"_view",null),o([r()],R.prototype,"_maxIntersectionDistance",null),o([r()],R.prototype,"_intersector",null),R=o([I("esri.widgets.ElevationProfile.ElevationProfileLineView")],R);const Sn=R,En={base:$e,key:"type",typeMap:{ground:Mt,input:yn,query:bn,view:Sn},errorContext:"elevation-profile-line"},Pn=Ne.ofType(En);var y,V;function $n(t){return t==="2d"?new Yt({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[5,4],lineDashEnding:"FullGap",controlPointEnding:"NoConstraint"}],enable:!0,capStyle:"Butt",joinStyle:"Round",width:1.5,color:[0,0,0,255]},{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",width:1.5,color:[255,255,255,255]}]}}}):new Oi({color:[0,0,0,0]})}(function(t){t.Ready="ready",t.Creating="creating",t.Reshaping="reshaping",t.ReshapingDisabled="reshaping-disabled",t.Selecting="selecting",t.Selected="selected"})(y||(y={})),function(t){t.View="view",t.Main="main",t.Interaction="interaction"}(V||(V={}));let T=class extends me{constructor(e){super(e),this.state=y.Ready,this._pendingStartOptions=null,this._previousInputInfo=null,this._shouldRemoveLastPoint=!1,this._sketchedGraphics=new WeakSet,this._creationToolPromise=null,this._updateToolPromise=null,this._updateDisabled=!1}initialize(){this.addHandles(x(()=>({view:this.tool.viewModel.view,visible:this.tool.visible}),({view:e,visible:i})=>{e!=null&&i?this._attach(e):this._detach()},ne),V.View)}destroy(){this._detach()}get canStopCreating(){const e=this._geometry,i=this._shouldRemoveLastPoint?3:2;return Pe(e)&&e.paths.length>0&&e.paths[0].length>=i}get _input(){return this.tool.viewModel.input}set _input(e){this.tool.viewModel.input=e}get _geometry(){var e;return(e=this._input)==null?void 0:e.geometry}get _visibleAndEditable(){return this.tool.visible&&this.tool.editable}get _view(){return this.tool.viewModel.view}get test(){}start(e={mode:"sketch"}){if(!this.tool.editable)return;const i=this._view;if(i!=null&&i.ready)switch(this._pendingStartOptions=null,this._stopInteraction(),this._previousInputInfo==null&&this._storePreviousInput(this._input),this._setSketchedGraphic(null),e.mode){case"sketch":this._set("state",y.Creating),this._startCreationInteraction();break;case"select":this._set("state",y.Selecting),this._startSelectionInteraction()}else this._pendingStartOptions=e}stop(){this._pendingStartOptions=null,this._stopInteractionAndUpdate(),this._clearPreviousInput()}cancel(){this._pendingStartOptions=null,this._stopInteractionAndUpdate(),this._restorePreviousInput()}clear(){this._stopInteractionAndUpdate(),this._set("state",y.Ready),this._clearPreviousInput(),this._input=null,this._pendingStartOptions=null}isSketchedGraphic(e){return e!=null&&this._sketchedGraphics.has(e)}_attach(e){this._detach();const i={mode:e.type==="3d"?"relative-to-ground":"on-the-ground",offset:null};this._graphicsLayer=new Di({listMode:"hide",internal:!0,elevationInfo:i});const n=$n(e.type);this._sketchVM=new Ui({layer:this._graphicsLayer,view:e,defaultCreateOptions:{mode:"click",hasZ:!1},updateOnGraphicClick:!1,defaultUpdateOptions:{reshapeOptions:{shapeOperation:"none"},enableRotation:!1,enableScaling:!1,enableMoveAllGraphics:!1,enableZ:!1,multipleSelectionEnabled:!1,toggleToolOnClick:!1,tool:"reshape"},polylineSymbol:n,activeLineSymbol:n}),this.addHandles([Wt(()=>e.ready,()=>{const s=this._pendingStartOptions;s&&this.start(s)},ne),x(()=>[this._input,this._visibleAndEditable],()=>this._update(),ne),x(()=>({map:e.map,graphicsLayer:this._graphicsLayer}),({map:s,graphicsLayer:l})=>{s!=null&&l!=null&&s.add(l),this._update()},ne)],V.Main)}_detach(){var n;this.removeHandles(V.Main),this._sketchVM=B(this._sketchVM),this._creationToolPromise=null,this._updateToolPromise=null;const e=(n=this._view)==null?void 0:n.map,i=this._graphicsLayer;e!=null&&i!=null&&e.remove(i),this._graphicsLayer=B(this._graphicsLayer),this._shouldRemoveLastPoint=!1,this._set("state",y.Ready)}_startCreationInteraction(){this._stopInteractionAndUpdate();const e=this._view,i=this._sketchVM;if(e==null||i==null)return;this._shouldRemoveLastPoint=!1;const n=i.on("create",l=>{var c;const a=l.graphic;switch(l.state){case"complete":this._shouldRemoveLastPoint=!1,this._setSketchedGraphic(a),this._stopInteractionAndUpdate(),this._clearPreviousInput();break;case"cancel":this.cancel();break;case"active":this._setSketchedGraphic(a),((c=l.toolEventInfo)==null?void 0:c.type)==="cursor-update"&&(this._shouldRemoveLastPoint=!0);break;case"start":this._setSketchedGraphic(a)}}),s=()=>{var c;n.remove();const l=this.canStopCreating,a=(c=this._geometry)==null?void 0:c.clone();i.cancel(),this._creationToolPromise=null,a!=null&&l?this._shouldRemoveLastPoint&&this._setSketchedGraphic(new mt({geometry:kn(a)})):this._input=null};this.removeHandles(V.Interaction),this.addHandles(xe(s),V.Interaction),this._creationToolPromise=ze(i.create("polyline"))}_startReshapeInteraction(){this._stopInteraction();const e=this._view,i=this._sketchVM;if(e==null||i==null)return;const n=i.on("update",a=>{const c=a.graphics[0];switch(a.state){case"complete":this._setSketchedGraphic(c),this._stopInteractionAndUpdate(),this._clearPreviousInput();break;case"active":case"start":this._setSketchedGraphic(c)}}),s=()=>{n.remove(),i.cancel(),this._updateToolPromise=null};this.removeHandles(V.Interaction),this.addHandles(xe(s),V.Interaction);const l=this._input;l&&(l.visible=!0,this._updateToolPromise=ze(i.update(l,{tool:"reshape"})))}_startSelectionInteraction(){this._stopInteraction();const e=this._view;if(e==null)return;const i=e.cursor,n=xe(()=>e.cursor=i);e.cursor="crosshair",e.closePopup();let s=null;const l=xe(()=>ue(s)),a=e.on("immediate-click",u=>{u.async(async()=>{ue(s),s=Oe(async h=>{const{results:p}=await e.hitTest(u);oe(h);const v=p.filter(d=>d.type==="graphic").map(d=>d.graphic).find(d=>d.geometry!=null&&d.geometry.type==="polyline");v&&(u.preventDefault(),u.stopPropagation(),this._input=v,this._clearPreviousInput(),this._stopInteractionAndUpdate())}),await s.promise})},Li.TOOL),c=e.on("key-down",u=>{u.key==="Escape"&&this.cancel()});this.removeHandles(V.Interaction),this.addHandles([a,c,l,n],V.Interaction),e.ready&&e.focus()}_stopInteraction(){this.removeHandles(V.Interaction)}_stopInteractionAndUpdate(){this.hasHandles(V.Interaction)&&(this._updateDisabled=!0,this._stopInteraction(),this._updateDisabled=!1,this._triggerUpdate())}_triggerUpdate(){this._set("state",y.Ready),this._update()}_update(){if(this._updateDisabled)return;const e=this.state;if(e!==y.Selecting){if(this._visibleAndEditable){if(e===y.Creating||e===y.Reshaping&&this.isSketchedGraphic(this._input))return}else this.cancel();this._set("state",this._getNextState()),this._updateVisuals()}else this.stop()}_getNextState(){return this._input==null?y.Ready:this.isSketchedGraphic(this._input)?this.state===y.Creating?y.Creating:this._visibleAndEditable?y.Reshaping:y.ReshapingDisabled:y.Selected}_updateVisuals(){switch(this.state){case y.Creating:break;case y.Reshaping:this._startReshapeInteraction();break;case y.ReshapingDisabled:{this._stopInteractionAndUpdate();const e=this._input;e!=null&&this.isSketchedGraphic(e)&&(e.visible=!1);break}case y.Ready:case y.Selected:this._stopInteractionAndUpdate();case y.Selecting:}this._updateSketchedGraphic()}_storePreviousInput(e){this._previousInputInfo={graphic:e}}_restorePreviousInput(){const e=this._previousInputInfo;e!=null&&(this._clearPreviousInput(),this._input=e.graphic,this._triggerUpdate())}_clearPreviousInput(){this._previousInputInfo=null}_updateSketchedGraphic(){const e=this._graphicsLayer;if(e==null)return;const i=e.graphics,n=this._input;if(n==null||!this.isSketchedGraphic(n))return void i.removeAll();if(i.indexOf(n)===-1)i.removeAll(),i.add(n);else if(i.length!==1){const s=i.filter(l=>l!==n);i.removeMany(s)}}_setSketchedGraphic(e){e!=null&&this._sketchedGraphics.add(e),this._input=e,this._updateSketchedGraphic()}};function kn(t){if(Pe(t)){const e=t.clone();return e.paths=[e.paths[0].slice(0,-1)],e}return t}o([r({nonNullable:!0})],T.prototype,"state",void 0),o([r({nonNullable:!0})],T.prototype,"tool",void 0),o([r()],T.prototype,"canStopCreating",null),o([r()],T.prototype,"_graphicsLayer",void 0),o([r()],T.prototype,"_sketchVM",void 0),o([r()],T.prototype,"_input",null),o([r()],T.prototype,"_geometry",null),o([r()],T.prototype,"_visibleAndEditable",null),o([r()],T.prototype,"_view",null),o([r()],T.prototype,"_shouldRemoveLastPoint",void 0),T=o([I("esri.widgets.ElevationProfile.ElevationProfileInteraction")],T);let Re=class extends me{constructor(t){super(t),this._implementation=null,this._loadingTask=null}initialize(){this.addHandles(x(()=>{var t;return{tool:this.tool,view:this.tool.viewModel.view,visible:this.tool.visible&&!!((t=this.tool.viewModel.view)!=null&&t.ready)}},({tool:t,view:e,visible:i})=>{e!=null&&i?this._show(e,t):this._hide()},ne))}destroy(){this._hide()}_show(t,e){this._loadingTask=ue(this._loadingTask),this._loadingTask=Oe(async i=>{if(t.type==="2d"){const n=D(()=>import("./ElevationProfileView2D-CRVBkJ1k.js"),__vite__mapDeps([17,2,18,19,4,20,21,22,6,7,23,11,5,8,12,14,15,16,24,25,26,27,28,29,10,30,31,32,33,34,13,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,9,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,3,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142]),import.meta.url),s=(await Qe(n,i)).ElevationProfileView2D;this._implementation=new s(t,e)}else if(t.type==="3d"){const n=D(()=>import("./ElevationProfileView3D-k0k4kPo4.js"),__vite__mapDeps([143,2,18,19,4,20,21,22,6,7,23,11,5,8,12,14,15,16,24,25,100,58,59,144,31,32,41,42,43,44,145,75,146,74,56,76,77,78,79,80,81,82,147,148,101,149,83,150,34,151,95,71,72,73,84,85,152,153,154,155,105,156,157,158,159,160,161,162,163,29,10,164,165,166,167,168,169,37,170,171,172,173,174,175,92,176,30,177,178,179,180,181,182,183,184,185,186,106,107,187,188,189,40,190,191,192,193,194,195,196,197,67,68,57,198,94,87,86,199,27,28,33,13,35,36,38,39,200,201,202,203,204,205,26,45,60,61,9,62,63,64,65,66,69,70,88,89,90,91,93,96,97,98,99,102,103,3,104,108,109,110,111,112,113,46,47,48,49,50,51,52,53,54,55,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142]),import.meta.url),s=(await Qe(n,i)).ElevationProfileView3D;this._implementation=new s(t,e)}})}_hide(){this._loadingTask=ue(this._loadingTask),this._implementation=B(this._implementation)}};o([r()],Re.prototype,"tool",void 0),Re=o([I("esri.widgets.ElevationProfile.support.ElevationProfileView")],Re);let ie=class extends me{constructor(t){super(t),this.editable=!0,this.visible=!0,this.highlightEnabled=!0}initialize(){this.view=new Re({tool:this}),this.interaction=new T({tool:this})}destroy(){this.interaction.destroy(),this.view.destroy()}get state(){var e;switch((e=this.interaction)==null?void 0:e.state){case y.Ready:return L.Ready;case y.Creating:return L.Creating;case y.Selecting:return L.Selecting;case y.Selected:return L.Selected;case y.Reshaping:case y.ReshapingDisabled:return L.Created}}};o([r({nonNullable:!0})],ie.prototype,"viewModel",void 0),o([r()],ie.prototype,"view",void 0),o([r()],ie.prototype,"interaction",void 0),o([r()],ie.prototype,"editable",void 0),o([r()],ie.prototype,"visible",void 0),o([r()],ie.prototype,"highlightEnabled",void 0),ie=o([I("esri.widgets.ElevationProfile.ElevationProfileTool")],ie);let g=class extends me{constructor(t){super(t),this.view=null,this.input=null,this._getEffectiveUnitsMemoized=H((e,i)=>({distance:e,elevation:i})),this.hoveredChartPosition=null,this.uniformChartScaling=!1,this.defaultUnit=null,this.queue=null,this._currentTileCache=null,this.error=null,this._defaultProfileLineGround=new Mt,this._userUnitOptions=null,this._userUnit=null,t!=null&&t.profiles||(this.profiles=new Ne([this._defaultProfileLineGround]))}initialize(){this.addHandles(x(()=>this.view,t=>{var n;if(t==null)return void jt.getLogger(this).warnOnce("no view. Widget will be disabled until a view is provided.");this.removeHandles(ut);const e=t.type==="3d"?t.resourceController:void 0;(n=this.queue)==null||n.destroy(),this.queue=ln(e==null?void 0:e.scheduler);const i=e==null?void 0:e.addUpdatingObject(this);i&&this.addHandles(i,ut)},ne)),this.tool=new ie({viewModel:this}),this._controller=new re({viewModel:this})}destroy(){this._defaultProfileLineGround=B(this._defaultProfileLineGround),this._controller=B(this._controller),this._currentTileCache=B(this._currentTileCache),this.tool=B(this.tool),this.queue=B(this.queue)}get profiles(){return this._get("profiles")}set profiles(t){const e=this._get("profiles"),i=t??new Ne;this._set("profiles",Kt(i,e))}get state(){const t=this.view;return t!=null&&t.ready?this.tool.state:L.Disabled}get progress(){let t=0,e=0;for(const i of this.visibleProfiles)t++,e+=i.progress;return t>0?e/t:0}set unitOptions(t){this._userUnitOptions=t,this._set("unitOptions",this._filteredOrAllUnits(this._userUnitOptions))}get unitOptions(){return this._filteredOrAllUnits(this._userUnitOptions)}set unit(t){this._userUnit=t?this._findSelectableUnit(t,this._userUnit):null,this.notifyChange("unit")}get unit(){return this._userUnit?(this._userUnit=this._findSelectableUnit(this._userUnit,this.defaultUnit),this._userUnit):this._findSelectableUnit(this.defaultUnit)}get effectiveUnits(){const t=sn(this.visibleProfiles.map(n=>n.result)),e=ni(t.maxDistance,"meters",this.unit),i=si(t.maxElevation,"meters",this.unit);return this._getEffectiveUnitsMemoized(e,i)}get highlightEnabled(){return this.tool.highlightEnabled}set highlightEnabled(t){this.tool.highlightEnabled=t}get hasVertices(){var e;const t=(e=this.input)==null?void 0:e.geometry;return Pe(t)&&t.paths.reduce((i,n)=>i+n.length,0)>0}get hoveredPoints(){return this.input!=null&&this.visible&&this.tool.editable?this.visibleProfiles.map(t=>{const e=t.hoveredPoint;return e!=null?{hoveredPoint:e,color:t.color}:null}).filter(Ze):[]}get statistics(){return nn(this.visibleProfiles.map(t=>t.statistics))}get chartData(){if(this.input==null)return null;const{effectiveUnits:t,progress:e,statistics:i,visibleProfiles:n,uniformChartScaling:s}=this,l=n.filter(a=>a.hasZ).map(a=>({id:a.id,type:a.type,title:a.title,color:a.color,samples:a.samples,progress:a.progress,chartFillEnabled:a.chartFillEnabled,chartStrokeWidth:a.chartStrokeWidth,chartStrokeOffsetY:a.chartStrokeOffsetY,viewVisualizationEnabled:a.viewVisualizationEnabled}));return l.length===0?null:{lines:l,effectiveUnits:t,statistics:i,refined:e===1,dynamicElevationRange:n.some(a=>a.type==="view"),uniformScaling:s}}get visibleProfiles(){return this.profiles.toArray().filter(t=>t.available&&t.visible)}get minDemResolutions(){const t=[];for(const{minDemResolution:e}of this.visibleProfiles)e!=null&&t.push(e);return t}get minDemResolution(){return pt(this.minDemResolutions)}get errorState(){var e;const t=(e=this.input)==null?void 0:e.geometry;if(!He(t))return $.NoValidInput;if(this.error!=null){if(Gi(this.error))switch(this.error.cause){case z.TooComplex:return $.TooComplex;case z.InvalidGeometry:return $.InvalidGeometry;case z.InvalidElevationInfo:return $.InvalidElevationInfo;case z.ElevationQueryError:return $.NoValidInput}return $.UnknownError}return this.visibleProfiles.length===0?$.NoVisibleProfiles:this.chartData==null&&this.progress===1?$.RefinedButNoChartData:$.None}get tileCache(){var e;this._currentTileCache=B(this._currentTileCache);const t=this.view;if(t!=null&&(t==null?void 0:t.type)==="3d"){const i=(e=t.basemapTerrain)==null?void 0:e.elevationQueryCache;if(i!=null)return i}return this._currentTileCache==null&&(this._currentTileCache=new oi(new Xt(20*Jt.MEGABYTES))),this._currentTileCache}get visible(){return this.tool.visible}set visible(t){this.tool.visible=t}get selectAvailable(){var t,e,i,n;for(const s of((e=(t=this.view)==null?void 0:t.map)==null?void 0:e.allLayers)??[])if(s.type==="graphics"&&!s.internal&&s.graphics.some(l=>{var a;return((a=l.geometry)==null?void 0:a.type)==="polyline"})||"geometryType"in s&&s.geometryType==="polyline")return!0;return!!((n=(i=this.view)==null?void 0:i.graphics)!=null&&n.some(s=>{var l;return((l=s.geometry)==null?void 0:l.type)==="polyline"}))}get inputIsSketched(){return this.tool.interaction.isSketchedGraphic(this.input)}get elevationProvider(){const t=this.view;return t!=null&&t.type==="3d"?t.elevationProvider:null}get updating(){var i;const{progress:t}=this,e=!!((i=this.queue)!=null&&i.updating);return t>0&&t<1||e}start(t){this.tool.interaction.start(t)}stop(){this.tool.interaction.stop()}cancel(){this.tool.interaction.cancel()}clear(){this.tool.interaction.clear()}_findSelectableUnit(t,e){const i=this.unitOptions;return t!=null&&i.includes(t)?t:e?this._findSelectableUnit(e):i[0]}_filteredOrAllUnits(t){const e=(t??[]).filter(i=>Ye.includes(i));return e.length===0?Ye.slice():e}};o([r()],g.prototype,"view",void 0),o([r({type:mt})],g.prototype,"input",void 0),o([r({type:Pn,nonNullable:!0})],g.prototype,"profiles",null),o([r({readOnly:!0})],g.prototype,"state",null),o([r({readOnly:!0})],g.prototype,"progress",null),o([r()],g.prototype,"unitOptions",null),o([r()],g.prototype,"unit",null),o([r({readOnly:!0})],g.prototype,"effectiveUnits",null),o([r()],g.prototype,"hoveredChartPosition",void 0),o([r()],g.prototype,"uniformChartScaling",void 0),o([r()],g.prototype,"highlightEnabled",null),o([r({readOnly:!0})],g.prototype,"hoveredPoints",null),o([r({readOnly:!0})],g.prototype,"statistics",null),o([r()],g.prototype,"chartData",null),o([r()],g.prototype,"visibleProfiles",null),o([r()],g.prototype,"minDemResolutions",null),o([r({readOnly:!0})],g.prototype,"minDemResolution",null),o([r({readOnly:!0})],g.prototype,"errorState",null),o([r(ri)],g.prototype,"defaultUnit",void 0),o([r()],g.prototype,"queue",void 0),o([r()],g.prototype,"tileCache",null),o([r()],g.prototype,"tool",void 0),o([r()],g.prototype,"visible",null),o([r()],g.prototype,"error",void 0),o([r()],g.prototype,"selectAvailable",null),o([r()],g.prototype,"inputIsSketched",null),o([r()],g.prototype,"elevationProvider",null),o([r()],g.prototype,"updating",null),o([r()],g.prototype,"_defaultProfileLineGround",void 0),o([r()],g.prototype,"_userUnitOptions",void 0),o([r()],g.prototype,"_controller",void 0),o([r()],g.prototype,"_userUnit",void 0),g=o([I("esri.widgets.ElevationProfile.ElevationProfileViewModel")],g);const ut=Symbol("updating-object"),Dt=g;let Z=class extends me{constructor(){super(...arguments),this.legend=!0,this.chart=!0,this.clearButton=!0,this.settingsButton=!0,this.sketchButton=!0,this.selectButton=!0,this.unitSelector=!0,this.uniformChartScalingToggle=!0}};o([r()],Z.prototype,"legend",void 0),o([r()],Z.prototype,"chart",void 0),o([r()],Z.prototype,"clearButton",void 0),o([r()],Z.prototype,"settingsButton",void 0),o([r()],Z.prototype,"sketchButton",void 0),o([r()],Z.prototype,"selectButton",void 0),o([r()],Z.prototype,"unitSelector",void 0),o([r()],Z.prototype,"uniformChartScalingToggle",void 0),Z=o([I("esri.widgets.ElevationProfile.ElevationProfileVisibleElements")],Z);const Ot=Z,xn=100;let ae=class extends Ee{constructor(t,e){super(t,e),this._updateLayout=i=>{const n=i.parentElement,s=i.style.display;n==null||n.removeChild(i),document.body.appendChild(i),i.style.display="block";let l=80;for(const a of i.childNodes)a instanceof HTMLElement&&(l=Math.max(l,a.offsetWidth));document.body.removeChild(i),n==null||n.appendChild(i),i.style.display=s,i.style.setProperty("--max-width",`${l}px`)},this._updateLayoutThrottled=ft(this._updateLayout,xn)}loadDependencies(){return Le({icon:()=>D(()=>import("./index-73bQemcW.js").then(t=>t.i),__vite__mapDeps([206,61,2,9,10,5,6,7,8,19,18,4,62,207,208,209]),import.meta.url)})}initialize(){this.addHandles(this._updateLayoutThrottled)}render(){return m("div",{afterCreate:this._updateLayout,afterUpdate:this._updateLayoutThrottled,bind:this,class:be.base},this._renderStatistics())}_renderStatistics(){var e;const t=(e=this._messages)==null?void 0:e.statistics;return t?[this._renderDistanceStatistic("maxDistance",t.maxDistance),this._renderElevationStatistic("elevationGain",t.gain),this._renderElevationStatistic("elevationLoss",t.loss),this._renderElevationStatistic("minElevation",t.minElevation),this._renderElevationStatistic("maxElevation",t.maxElevation),this._renderElevationStatistic("avgElevation",t.avgElevation),this._renderSlopeStatistic("maxPositiveSlope","maxNegativeSlope",t.maxSlope),this._renderSlopeStatistic("avgPositiveSlope","avgNegativeSlope",t.avgSlope)]:[]}_renderDistanceStatistic(t,e){const i=F().formatPrecision,n=this._renderValue(t,s=>{const l=this.effectiveUnits.distance;return et(this._messagesUnits,s,l,i)});return this._renderStatistic(e,n)}_renderElevationStatistic(t,e){const i=F().formatPrecision,n=this._renderValue(t,s=>{const l=this.effectiveUnits.elevation;return et(this._messagesUnits,s,l,i)});return this._renderStatistic(e,n)}_renderSlopeStatistic(t,e,i){const n=F().formatPrecision,s=m("div",{class:be.slopeValue,key:"slope-up"},m("calcite-icon",{icon:"arrow-up",scale:"s"}),this._renderValue(t,l=>tt(l,"degrees","geographic","geographic",n)),m("calcite-icon",{icon:"arrow-down",scale:"s"}),this._renderValue(e,l=>tt(l,"degrees","geographic","geographic",n)));return this._renderStatistic(i,s)}_renderStatistic(t,e){return m("div",{class:be.statistic},m("label",{class:be.statisticLabel},t),m("div",{class:be.statisticValue},e))}_renderValue(t,e){const i=this.line,n=i.progress===1?i.statistics:null,s=n==null?void 0:n[t];return s!=null?e(s):zi}};o([r()],ae.prototype,"effectiveUnits",void 0),o([r()],ae.prototype,"line",void 0),o([r(),Ce("esri/widgets/ElevationProfile/t9n/ElevationProfile")],ae.prototype,"_messages",void 0),o([r(),Ce("esri/core/t9n/Units")],ae.prototype,"_messagesUnits",void 0),ae=o([I("esri.widgets.ElevationProfile.components.Statistics")],ae);function ht(t,{profiles:e}){const i=t.title;if(i!=null)return i;switch(t.type){case"ground":return e.ground;case"input":return e.input;case"query":return e.query;case"view":return e.view;default:return""}}let q=class extends Ee{constructor(t,e){super(t,e),this.checkboxVisible=!0,this.expanded=!1}loadDependencies(){return Le({action:()=>D(()=>import("./index-DVEy4f7w.js"),__vite__mapDeps([210,211,61,2,9,10,5,6,7,8,19,18,4,62,208,212,206,207,209,213,214,215,216,217,218]),import.meta.url),checkbox:()=>D(()=>import("./index-B7QXL93z.js"),__vite__mapDeps([219,61,2,9,10,5,6,7,8,19,18,4,62,215,214,207,208,220,216,221,222,217]),import.meta.url),label:()=>D(()=>import("./index-D130RxMY.js"),__vite__mapDeps([223,61,2,9,10,5,6,7,8,19,18,4,62,222,207,208]),import.meta.url)})}initialize(){this._statistics=new ae(this._statisticsProps),this.addHandles(x(()=>this._statisticsProps,t=>this._statistics.set(t)))}destroy(){this._statistics=B(this._statistics)}render(){const t=this.expanded;return m("div",{class:this.classes(ee.base,{[ee.disabled]:this.disabled,[ee.expanded]:t}),key:this},this._renderColorIndicator(),m("div",{class:ee.header,key:"header"},this._renderLabelWithCheckbox(),this._renderCollapseToggleButton()),t?m("div",{class:ee.content,key:"content"},this._statistics.render()):null)}get disabled(){return!this.line.available}get _statisticsProps(){return{line:this.line,effectiveUnits:this.effectiveUnits}}_renderColorIndicator(){return m("div",{class:ee.colorIndicator,key:"color-indicator",styles:{backgroundColor:this.line.color.toCss()}})}_renderCollapseToggleButton(){const{expanded:t,messages:e}=this,i=t?e.hideDetails:e.showDetails;return m("calcite-action",{appearance:"transparent",bind:this,class:ee.collapseToggle,"data-testid":"legend-toggle",icon:t?"chevron-up":"chevron-down",key:"collapse-toggle",onclick:this._onCollapseToggleClick,scale:"s",text:i,title:i})}_onCollapseToggleClick(){this.onExpandedToggle()}_renderLabelWithCheckbox(){const{line:t,checkboxVisible:e,disabled:i,messages:n}=this;return m("calcite-label",{class:ee.label,disabled:i,key:`label-${t.id}`,layout:"inline"},e?this._renderCheckbox():null,ht(t,n))}_renderCheckbox(){const{disabled:t,line:e,messages:i}=this,n=e.visible,s=n?i.hideProfile:i.showProfile,l=Ti(s,{name:ht(e,i)});return m("calcite-checkbox",{checked:n,class:ee.checkbox,disabled:t,title:l,onCalciteCheckboxChange:()=>e.toggleVisibility()})}};o([r()],q.prototype,"checkboxVisible",void 0),o([r()],q.prototype,"disabled",null),o([r({nonNullable:!0})],q.prototype,"effectiveUnits",void 0),o([r()],q.prototype,"expanded",void 0),o([r({nonNullable:!0})],q.prototype,"line",void 0),o([r()],q.prototype,"messages",void 0),o([r()],q.prototype,"onExpandedToggle",void 0),o([r()],q.prototype,"_statistics",void 0),q=o([I("esri.widgets.ElevationProfile.components.LegendItem")],q);let ce=class extends Ee{constructor(){super(...arguments),this._expandedLine=null}render(){const{profiles:t,messages:e,effectiveUnits:i,_expandedLine:n}=this;return m("div",{class:Bi.base},t.map(s=>m(q,{checkboxVisible:t.length>1,effectiveUnits:i,expanded:s===n,line:s,messages:e,onExpandedToggle:()=>this._onExpandedToggle(s)})))}_onExpandedToggle(t){this._expandedLine=t===this._expandedLine?null:t}};o([r()],ce.prototype,"effectiveUnits",void 0),o([r()],ce.prototype,"messages",void 0),o([r()],ce.prototype,"profiles",void 0),o([r()],ce.prototype,"_expandedLine",void 0),ce=o([I("esri.widgets.ElevationProfile.components.Legend")],ce);let A=class extends Ee{constructor(){super(...arguments),this.messages=null,this._popoverIsOpen=!1,this._referenceElement=null,this._onUniformChartScalingChange=e=>{this.onUniformChartScalingChange(e.currentTarget.checked)}}loadDependencies(){return Le({action:()=>D(()=>import("./index-DVEy4f7w.js"),__vite__mapDeps([210,211,61,2,9,10,5,6,7,8,19,18,4,62,208,212,206,207,209,213,214,215,216,217,218]),import.meta.url),checkbox:()=>D(()=>import("./index-B7QXL93z.js"),__vite__mapDeps([219,61,2,9,10,5,6,7,8,19,18,4,62,215,214,207,208,220,216,221,222,217]),import.meta.url),label:()=>D(()=>import("./index-D130RxMY.js"),__vite__mapDeps([223,61,2,9,10,5,6,7,8,19,18,4,62,222,207,208]),import.meta.url),popover:()=>D(()=>import("./index-DIp-v4qk.js").then(e=>e.i),__vite__mapDeps([224,211,61,2,9,10,5,6,7,8,19,18,4,62,208,212,206,207,209,210,213,214,215,216,217,218,225,226,227,228,229,230,231,221]),import.meta.url)})}render(){const{id:e,messages:i,visibleElements:n}=this,{unitSelector:s,uniformChartScalingToggle:l}=n;if(!i||!s&&!l)return m("div",{key:`${e}-empty`});const a=this._popoverIsOpen?i.hideSettings:i.showSettings;return m("div",{class:Me.base,key:this},m("calcite-action",{afterCreate:c=>{this._referenceElement=c},appearance:"transparent","data-testid":"settings-button",icon:"gear",scale:"s",text:a,title:a}),this._referenceElement?m("calcite-popover",{autoClose:!0,label:a,placement:"bottom-end",referenceElement:this._referenceElement,onCalcitePopoverClose:()=>{this._popoverIsOpen=!1},onCalcitePopoverOpen:()=>{this._popoverIsOpen=!0}},this._renderPopoverContent()):null)}_renderPopoverContent(){const{unitSelector:e,uniformChartScalingToggle:i}=this.visibleElements;return m("div",{class:Me.popoverContent},e?this._renderUnitSelector():null,i?this._renderUniformChartScalingToggle():null)}_renderUnitSelector(){const{messages:e}=this;return m(Vi,{key:"unit-selector-label",options:this.unitOptions,selectLabel:(e==null?void 0:e.unitSelectLabel)??"",value:this.unit,onChange:this.onUnitChange})}_renderUniformChartScalingToggle(){const{messages:e}=this,i=this.uniformChartScaling,n=(e==null?void 0:e[i?"uniformChartScalingDisable":"uniformChartScalingEnable"])??"";return m("calcite-label",{class:Me.uniformChartScalingLabel,key:"uniform-chart-scaling-label",layout:"inline"},m("calcite-checkbox",{checked:i,class:Me.uniformChartScalingCheckbox,title:n,onCalciteCheckboxChange:this._onUniformChartScalingChange}),e==null?void 0:e.uniformChartScalingLabel)}};o([r()],A.prototype,"messages",void 0),o([r()],A.prototype,"onUniformChartScalingChange",void 0),o([r()],A.prototype,"onUnitChange",void 0),o([r()],A.prototype,"uniformChartScaling",void 0),o([r()],A.prototype,"unit",void 0),o([r()],A.prototype,"unitOptions",void 0),o([r()],A.prototype,"visibleElements",void 0),o([r()],A.prototype,"_popoverIsOpen",void 0),o([r()],A.prototype,"_referenceElement",void 0),A=o([I("esri.widgets.ElevationProfile.components.SettingsButton")],A);var O;(function(t){t.Sketch="sketch",t.SketchCancel="sketch-cancel",t.SketchDone="sketch-done",t.Select="select",t.SelectCancel="select-cancel"})(O||(O={}));const we=[{type:O.Select},{type:O.Sketch}],In={[$.None]:null,[$.NoValidInput]:"noProfile",[$.NoVisibleProfiles]:"noProfile",[$.RefinedButNoChartData]:"noProfile",[$.TooComplex]:"tooComplex",[$.UnknownError]:"unknown",[$.InvalidGeometry]:"invalidGeometry",[$.InvalidElevationInfo]:"invalidElevationInfo"};let w=class extends Ee{constructor(t,e){super(t,e),this.viewModel=null,this.visibleElements=new Ot,this.messages=null,this.messagesCommon=null,this.messagesUnits=null,this._chartContainer=null,this._chart=null,this._chartInitTask=null,this._chartIsRefined=!1,this._zoomOutButtonVisible=!1,this._getChartUpdateParamsMemoized=H((i,n,s,l)=>({chart:i,data:n,stationary:s,messages:l})),this._onZoomOutButtonClick=()=>{var i;(i=this._chart)==null||i.zoomOut()},this._onClearButtonClick=()=>{this.viewModel.clear()},t!=null&&t.viewModel||(this._defaultViewModel=new Dt({view:t==null?void 0:t.view}),this.viewModel=this._defaultViewModel)}loadDependencies(){return Le({action:()=>D(()=>import("./index-DVEy4f7w.js"),__vite__mapDeps([210,211,61,2,9,10,5,6,7,8,19,18,4,62,208,212,206,207,209,213,214,215,216,217,218]),import.meta.url),button:()=>D(()=>import("./index-BtF7Kdcs.js"),__vite__mapDeps([232,211,61,2,9,10,5,6,7,8,19,18,4,62,208,212,206,207,209,215,214,228,220,216,222,217,218]),import.meta.url),loader:()=>D(()=>import("./index-CjrYEQXz.js"),__vite__mapDeps([211,61,2,9,10,5,6,7,8,19,18,4,62,208,212]),import.meta.url)})}postInitialize(){this.addHandles([x(()=>({container:this._chartContainer}),({container:t})=>{this._destroyChart(),t!=null&&this._initializeChart(t)},We),x(()=>this._chartUpdateParams,()=>this._updateChart(this._chartUpdateParams),We)])}destroy(){this._destroyChart(),this._defaultViewModel!=null&&this.viewModel!==this._defaultViewModel&&this._defaultViewModel.destroy()}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}get input(){return this.viewModel.input}set input(t){this.viewModel.input=t}get profiles(){return this.viewModel.profiles}set profiles(t){this.viewModel.profiles=t}get unitOptions(){return this.viewModel.unitOptions}set unitOptions(t){this.viewModel.unitOptions=t}get unit(){return this.viewModel.unit}set unit(t){this.viewModel.unit=t}get icon(){return"altitude"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get visible(){return this.viewModel.visible}set visible(t){this.viewModel.visible=t}get test(){return{chart:this._chart}}get _selectButtonVisible(){return this.visibleElements.selectButton===!0&&this.viewModel.selectAvailable}get _chartUpdateParams(){const t=this.view;return this._getChartUpdateParamsMemoized(this._chart,this.viewModel.chartData,t==null||t.stationary,this._chartMessages)}get _chartMessages(){return{...this.messagesUnits,...this.messages}}get _profilesArray(){return this.profiles.toArray()}render(){const{viewModel:t,visible:e}=this;return m("div",{"aria-label":this.messages.widgetLabel,class:this.classes({[P.base]:e,[Ae.widget]:e,[Ae.panel]:e,[Ae.widgetDisabled]:e&&t.state==="disabled",[P.refined]:t.progress===1}),key:this},m("div",{bind:this,key:"content-wrapper"},e?this._renderContentForState():null))}_renderContentForState(){switch(this.viewModel.state){case L.Ready:return this._renderContentForReadyState();case L.Selecting:return this._renderContentForSelectingState();case L.Creating:return this._renderContentForCreatingState();case L.Selected:return this._renderContentForSelectedState();case L.Created:return this._renderContentForCreatedState();case L.Disabled:return this._renderContentForReadyState()}}_renderContentForReadyState(){var l;const{messages:t,visibleElements:e,_selectButtonVisible:i}=this,{sketchButton:n}=e;let s;return s=n&&i?t.readyPrompt:n?t.readyPromptCreateOnly:i?t.readyPromptSelectOnly:(l=t.errors)==null?void 0:l.noProfile,this._renderContent({prompt:s,chart:!1,actions:we})}_renderContentForSelectingState(){const{view:t}=this;if(t==null)return null;const e=this.messages[`selectingPrompt-${t.type}`];return this._renderContent({prompt:e,chart:!1,actions:[{type:O.SelectCancel}]})}_renderContentForCreatingState(){const{view:t,viewModel:e}=this;if(t==null)return null;const i=e.hasVertices?[{type:O.SketchCancel},{type:O.SketchDone,disabled:!e.tool.interaction.canStopCreating}]:[{type:O.Select},{type:O.Sketch,disabled:!0}];if(e.errorState===$.NoValidInput){const s=this.messages[`creatingPrompt-${t.type}`];return this._renderContent({chart:!1,actions:i,prompt:s})}const n=this._getErrorMessage();return n?this._renderContent({chart:!1,actions:i,prompt:n}):this._renderContent({chart:!0,actions:i})}_renderContentForSelectedState(){const t=this._getErrorMessage();return t?this._renderContent({chart:!1,actions:we,prompt:t}):this._renderContent({chart:!0,actions:we})}_renderContentForCreatedState(){const t=this._getErrorMessage();return t?this._renderContent({chart:!1,actions:we,prompt:t}):this._renderContent({chart:!0,actions:we})}_getErrorMessage(){var e,i;const t=In[this.viewModel.errorState];return t?(i=(e=this.messages)==null?void 0:e.errors)==null?void 0:i[t]:null}_renderContent(t){const e=t.prompt!=null?this._renderPrompt(t.prompt):t.chart&&this._renderChart(),{viewModel:i}=this,n=i.input!=null;return m(Ve,null,m("header",{class:P.header,key:"header"},this._zoomOutButtonVisible?this._renderZoomOutButton():null,this.visibleElements.clearButton&&n?this._renderClearButton():null,this.visibleElements.settingsButton?m(A,{messages:this.messages,uniformChartScaling:i.uniformChartScaling,unit:i.unit,unitOptions:i.unitOptions,visibleElements:this.visibleElements,onUniformChartScalingChange:s=>i.uniformChartScaling=s,onUnitChange:s=>i.unit=s}):null),m("div",{class:P.mainContainer,key:"main-container"},e),this.visibleElements.legend?m(ce,{effectiveUnits:i.effectiveUnits,messages:this.messages,profiles:this._profilesArray}):null,this._renderActions(t))}_renderZoomOutButton(){const t=this.messages.zoomOut;return m("calcite-action",{appearance:"transparent",class:P.zoomOutButton,"data-testid":"zoom-out-button",icon:"magnifying-glass-minus",key:"zoom-out",onclick:this._onZoomOutButtonClick,scale:"s",text:t,title:t})}_renderClearButton(){const t=this.messages.clearProfile;return m("calcite-action",{appearance:"transparent",class:P.clearButton,"data-testid":"clear-button",icon:"trash",key:"clear-profile",onclick:this._onClearButtonClick,scale:"s",text:t,title:t})}_renderPrompt(t){return[m("div",{bind:this,class:P.promptContainer,key:"prompt-container"},m("p",null,t))]}_renderChart(){if(!this.visibleElements.chart)return m("div",{class:P.chartContainer,key:"empty-chart-container"});const{chartData:t,progress:e}=this.viewModel,i=this._chartIsRefined||this._canRenderChart(),n=t!=null&&e<1;return i?m(Ve,null,this._renderSpinner({size:i?"small":"large",visible:n}),m("div",{afterCreate:this._onChartContainerUpdate,afterRemoved:this._onChartContainerRemoved,afterUpdate:this._onChartContainerUpdate,bind:this,class:P.chartContainer,key:"chart-container"})):m(Ve,null,this._renderSpinner({size:"large",visible:n}),m("div",{class:P.chartContainer,key:"chart-container-empty"}))}_renderSpinner(t){const e=t.size==="small",i=t.visible??!0;return m("calcite-loader",{class:this.classes(P.chartSpinner,e&&P.chartSpinnerSmall,i&&P.chartSpinnerVisible),"data-testid":"chart-spinner",inline:e,key:"spinner",label:"",scale:"s"})}_canRenderChart(){const t=this.viewModel.chartData;if(t==null)return!1;if(!this.viewModel.inputIsSketched)return t.refined;let e=0;for(const{samples:i}of t.lines)e+=i!=null?i.length:0;return t.refined||e<=F().largeChartSamples}_renderActions({actions:t}){const e=t.map(i=>{switch(i.type){case O.Sketch:return this.visibleElements.sketchButton&&this._renderAction({action:i,className:P.sketchButton,label:this.messages.sketchButtonLabel,onClick:this._onSketchButtonClick,primary:!0});case O.SketchCancel:return this.visibleElements.sketchButton&&this._renderAction({action:i,onClick:this._onCancelButtonClick,className:P.sketchCancelButton,label:this.messagesCommon.cancel,primary:!1});case O.SketchDone:return this.visibleElements.sketchButton&&this._renderAction({action:i,onClick:this._onDoneButtonClick,className:P.sketchDoneButton,label:this.messagesCommon.done,primary:!0});case O.Select:return this._selectButtonVisible&&this._renderAction({action:i,onClick:this._onSelectButtonClick,className:P.selectButton,label:this.messages.selectButtonLabel,primary:!1});case O.SelectCancel:return this._selectButtonVisible&&this._renderAction({action:i,onClick:this._onCancelButtonClick,className:P.selectCancelButton,label:this.messagesCommon.cancel,primary:!1})}}).filter(Boolean);return e.length?m("footer",{class:P.footer,key:"footer"},e):null}_renderAction({action:t,className:e,label:i,onClick:n,primary:s}){return m("calcite-button",{appearance:s?"solid":"outline-fill",bind:this,class:this.classes(P.actionButton,e),disabled:t.disabled,key:`action-${t.type}`,onclick:n},i)}_onSketchButtonClick(){this.viewModel.start({mode:"sketch"})}_onSelectButtonClick(){this.viewModel.start({mode:"select"})}_onCancelButtonClick(){this.viewModel.cancel()}_onDoneButtonClick(){this.viewModel.stop()}_updateChart(t){const{data:e,chart:i,messages:n,stationary:s}=t;i!=null&&n!=null&&s&&this._canRenderChart()&&(i.update(t),this._chartIsRefined=e!=null&&e.refined)}_onChartContainerUpdate(t){this._chartContainer=t}_onChartContainerRemoved(){this._chartContainer=null}_initializeChart(t){ue(this._chartInitTask),this._chartInitTask=Oe(async e=>{const{createChart:i}=await D(()=>import("./chartUtils-BLBLfLEl.js"),__vite__mapDeps([233,234,235,2,9,10,5,6,7,8,105,4,136,63,122,16,123,11,12,43,236,237,238,61,19,18,62,239,240,241,242,243,137,60,27,28,29,30,31,32,33,34,13,14,15,35,36,37,38,39,23,40,64,65,66,67,24,25,68,22,69,70,71,72,73,74,56,75,42,44,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,45,100,58,59,101,102,103,3,104,106,107,108,109,110,111,112,113,46,47,48,49,50,51,52,53,54,55,57,114,115,116,117,118,119,120,121,124,125,126,127,128,129,130,131,132,133,134,135,138,139,140,141,142]),import.meta.url);oe(e);const n=await i({container:t,abortOptions:{signal:e},onRangeChange:(s,l)=>{this._zoomOutButtonVisible=s!==1||l!==1},onCursorPositionChange:s=>{this.viewModel.hoveredChartPosition=s}});if(e.aborted)throw B(n),Qt();this._chart=n,this._updateChart(this._chartUpdateParams)})}_destroyChart(){this._chartInitTask=ue(this._chartInitTask),this._chart=B(this._chart),this._chartIsRefined=!1}};o([r({type:Dt})],w.prototype,"viewModel",void 0),o([r()],w.prototype,"view",null),o([r()],w.prototype,"input",null),o([r()],w.prototype,"profiles",null),o([r()],w.prototype,"unitOptions",null),o([r()],w.prototype,"unit",null),o([r({type:Ot,nonNullable:!0})],w.prototype,"visibleElements",void 0),o([r()],w.prototype,"icon",null),o([r()],w.prototype,"label",null),o([r()],w.prototype,"visible",null),o([r(),Ce("esri/widgets/ElevationProfile/t9n/ElevationProfile")],w.prototype,"messages",void 0),o([r(),Ce("esri/t9n/common")],w.prototype,"messagesCommon",void 0),o([r(),Ce("esri/core/t9n/Units")],w.prototype,"messagesUnits",void 0),o([r()],w.prototype,"_chartContainer",void 0),o([r()],w.prototype,"_chart",void 0),o([r()],w.prototype,"_chartInitTask",void 0),o([r()],w.prototype,"_chartIsRefined",void 0),o([r()],w.prototype,"_zoomOutButtonVisible",void 0),o([r()],w.prototype,"_selectButtonVisible",null),o([r()],w.prototype,"_chartUpdateParams",null),o([r()],w.prototype,"_chartMessages",null),o([r()],w.prototype,"_profilesArray",null),w=o([I("esri.widgets.ElevationProfile")],w);const Mn=w;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.12 */const Rn=Ut`@layer{arcgis-elevation-profile{display:block}}`,Dn=Ai(Mn),Se=class Se extends Tt{constructor(){super(...arguments),this.widget=Dn(this),this.viewModel=this.widget.viewModel,this.autoDestroyDisabled=!1,this.effectiveUnits=this.viewModel.effectiveUnits,this.hideChart=this.widget.visibleElements.chart,this.hideClearButton=this.widget.visibleElements.clearButton,this.hideLegend=this.widget.visibleElements.legend,this.hideSelectButton=this.widget.visibleElements.selectButton,this.hideSettingsButton=this.widget.visibleElements.settingsButton,this.hideSketchButton=this.widget.visibleElements.sketchButton,this.hideUniformChartScalingToggle=this.widget.visibleElements.uniformChartScalingToggle,this.hideUnitSelector=this.widget.visibleElements.unitSelector,this.highlightEnabled=this.viewModel.highlightEnabled,this.hoveredChartPosition=this.viewModel.hoveredChartPosition,this.icon=this.widget.icon,this.input=this.widget.input,this.label=this.widget.label,this.position="bottom-left",this.profiles=this.widget.profiles,this.progress=this.viewModel.progress,this.state=this.viewModel.state,this.uniformChartScaling=this.viewModel.uniformChartScaling,this.unit=this.widget.unit,this.unitOptions=this.widget.unitOptions,this.arcgisPropertyChange=Vt()("input","effectiveUnits","progress","state"),this.arcgisReady=At()}async destroy(){await this.manager.destroy()}async start(){this.widget.viewModel.start()}async stop(){this.widget.viewModel.stop()}};Se.properties={autoDestroyDisabled:5,effectiveUnits:0,hideChart:5,hideClearButton:5,hideLegend:5,hideSelectButton:5,hideSettingsButton:5,hideSketchButton:5,hideUniformChartScalingToggle:5,hideUnitSelector:5,highlightEnabled:5,hoveredChartPosition:9,icon:1,input:0,label:1,position:1,profiles:0,progress:8,referenceElement:1,state:3,uniformChartScaling:5,unit:1,unitOptions:0},Se.shadowRootOptions=Bt,Se.styles=Rn;let De=Se;zt("arcgis-elevation-profile",De);const Ls=Object.freeze(Object.defineProperty({__proto__:null,ArcgisElevationProfile:De},Symbol.toStringTag,{value:"Module"}));export{mn as T,Ls as c,ht as e,F as n,zi as s,L as t};
