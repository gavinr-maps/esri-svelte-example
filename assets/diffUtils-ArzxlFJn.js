import{V,Y as A,$ as D}from"./index-B1qcMJFy.js";const k=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function y(e){return e instanceof D}function h(e){return e instanceof V?Object.keys(e.items):y(e)?A(e).keys():e?Object.keys(e):[]}function a(e,n){return e instanceof V?e.items[n]:e[n]}function S(e,n){return!(!Array.isArray(e)||!Array.isArray(n))&&e.length!==n.length}function c(e){return e?e.declaredClass:null}function g(e,n){var b;const o=e.diff;if(o&&typeof o=="function")return o(e,n);const i=h(e),f=h(n);if(i.length===0&&f.length===0)return;if(!i.length||!f.length||S(e,n))return{type:"complete",oldValue:e,newValue:n};const s=f.filter(t=>!i.includes(t)),j=i.filter(t=>!f.includes(t)),m=i.filter(t=>f.includes(t)&&a(e,t)!==a(n,t)).concat(s,j).sort(),d=c(e);if(d&&k.has(d)&&m.length)return{type:"complete",oldValue:e,newValue:n};let p;const w=y(e)&&y(n);for(const t of m){const l=a(e,t),r=a(n,t);let u;if((w||typeof l!="function"&&typeof r!="function")&&l!==r&&(l!=null||r!=null)){if(o&&o[t]&&typeof o[t]=="function")u=(b=o[t])==null?void 0:b.call(o,l,r);else if(l instanceof Date&&r instanceof Date){if(l.getTime()===r.getTime())continue;u={type:"complete",oldValue:l,newValue:r}}else u=typeof l=="object"&&typeof r=="object"&&c(l)===c(r)?g(l,r):{type:"complete",oldValue:l,newValue:r};u!=null&&(p!=null?p.diff[t]=u:p={type:"partial",diff:{[t]:u}})}}return p}function C(e,n){return O(e,n)}function O(e,n){if(e==null)return!1;const o=n.split(".");let i=e;for(const f of o){if(i.type==="complete")return!0;if(i.type!=="partial")return!1;{const s=i.diff[f];if(!s)return!1;i=s}}return!0}function T(e,n){if(!e)return!1;if(e.type==="partial"){const o=Object.keys(e.diff);return o.length===1&&o[0]===n}return!1}function x(e,n){if(typeof e!="function"&&typeof n!="function"&&(e!=null||n!=null))return e==null||n==null||typeof e=="object"&&typeof n=="object"&&c(e)!==c(n)?{type:"complete",oldValue:e,newValue:n}:g(e,n)}export{T as d,x as m,O as p,C as s};
