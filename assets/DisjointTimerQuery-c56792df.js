import{n as y}from"./WGLContainer-c34de5f8.js";class _{constructor(T,e,E,i,u,n,s,X,Q){this.createQuery=T,this.deleteQuery=e,this.resultAvailable=E,this.getResult=i,this.disjoint=u,this.beginTimeElapsed=n,this.endTimeElapsed=s,this.createTimestamp=X,this.timestampBits=Q}}let r=!1;function l(t,T){if(T.disjointTimerQuery)return null;let e=t.getExtension("EXT_disjoint_timer_query_webgl2");return e&&y(t)?new _(()=>t.createQuery(),E=>{t.deleteQuery(E),r=!1},E=>t.getQueryParameter(E,t.QUERY_RESULT_AVAILABLE),E=>t.getQueryParameter(E,t.QUERY_RESULT),()=>t.getParameter(e.GPU_DISJOINT_EXT),E=>{r||(r=!0,t.beginQuery(e.TIME_ELAPSED_EXT,E))},()=>{t.endQuery(e.TIME_ELAPSED_EXT),r=!1},E=>e.queryCounterEXT(E,e.TIMESTAMP_EXT),()=>t.getQuery(e.TIMESTAMP_EXT,e.QUERY_COUNTER_BITS_EXT)):(e=t.getExtension("EXT_disjoint_timer_query"),e?new _(()=>e.createQueryEXT(),E=>{e.deleteQueryEXT(E),r=!1},E=>e.getQueryObjectEXT(E,e.QUERY_RESULT_AVAILABLE_EXT),E=>e.getQueryObjectEXT(E,e.QUERY_RESULT_EXT),()=>t.getParameter(e.GPU_DISJOINT_EXT),E=>{r||(r=!0,e.beginQueryEXT(e.TIME_ELAPSED_EXT,E))},()=>{e.endQueryEXT(e.TIME_ELAPSED_EXT),r=!1},E=>e.queryCounterEXT(E,e.TIMESTAMP_EXT),()=>e.getQueryEXT(e.TIMESTAMP_EXT,e.QUERY_COUNTER_BITS_EXT)):null)}export{l as T};
