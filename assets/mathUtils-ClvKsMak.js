function l(){return[0,0,0]}function k(n){return[n[0],n[1],n[2]]}function $(n,r,e){return[n,r,e]}function C(n,r=l()){const e=Math.min(3,n.length);for(let u=0;u<e;++u)r[u]=n[u];return r}function H(n,r){return new Float64Array(n,r,3)}function P(){return l()}function O(){return $(1,1,1)}function A(){return $(1,0,0)}function j(){return $(0,1,0)}function S(){return $(0,0,1)}const J=P(),K=O(),W=A(),nn=j(),rn=S();Object.freeze(Object.defineProperty({__proto__:null,ONES:K,UNIT_X:W,UNIT_Y:nn,UNIT_Z:rn,ZEROS:J,clone:k,create:l,createView:H,fromArray:C,fromValues:$,ones:O,unitX:A,unitY:j,unitZ:S,zeros:P},Symbol.toStringTag,{value:"Module"}));let x=1e-6;function T(){return x}function en(n){x=n}const w=Math.random,un=Math.PI/180,tn=180/Math.PI;function an(n){return n*un}function on(n){return n*tn}function sn(n,r){return Math.abs(n-r)<=x*Math.max(1,Math.abs(n),Math.abs(r))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:w,equals:sn,getEpsilon:T,setEpsilon:en,toDegree:on,toRadian:an},Symbol.toStringTag,{value:"Module"}));function p(n){const r=n[0],e=n[1],u=n[2];return Math.sqrt(r*r+e*e+u*u)}function cn(n,r){return n[0]=r[0],n[1]=r[1],n[2]=r[2],n}function v(n,r,e,u){return n[0]=r,n[1]=e,n[2]=u,n}function fn(n,r,e){return n[0]=r[0]+e[0],n[1]=r[1]+e[1],n[2]=r[2]+e[2],n}function z(n,r,e){return n[0]=r[0]-e[0],n[1]=r[1]-e[1],n[2]=r[2]-e[2],n}function B(n,r,e){return n[0]=r[0]*e[0],n[1]=r[1]*e[1],n[2]=r[2]*e[2],n}function D(n,r,e){return n[0]=r[0]/e[0],n[1]=r[1]/e[1],n[2]=r[2]/e[2],n}function Mn(n,r){return n[0]=Math.ceil(r[0]),n[1]=Math.ceil(r[1]),n[2]=Math.ceil(r[2]),n}function hn(n,r){return n[0]=Math.floor(r[0]),n[1]=Math.floor(r[1]),n[2]=Math.floor(r[2]),n}function ln(n,r){return n[0]=Math.abs(r[0]),n[1]=Math.abs(r[1]),n[2]=Math.abs(r[2]),n}function $n(n,r){return n[0]=Math.sign(r[0]),n[1]=Math.sign(r[1]),n[2]=Math.sign(r[2]),n}function bn(n,r,e){return n[0]=Math.min(r[0],e[0]),n[1]=Math.min(r[1],e[1]),n[2]=Math.min(r[2],e[2]),n}function mn(n,r,e){return n[0]=Math.max(r[0],e[0]),n[1]=Math.max(r[1],e[1]),n[2]=Math.max(r[2],e[2]),n}function dn(n,r){return n[0]=Math.round(r[0]),n[1]=Math.round(r[1]),n[2]=Math.round(r[2]),n}function gn(n,r,e){return n[0]=r[0]*e,n[1]=r[1]*e,n[2]=r[2]*e,n}function _n(n,r,e,u){return n[0]=r[0]+e[0]*u,n[1]=r[1]+e[1]*u,n[2]=r[2]+e[2]*u,n}function L(n,r){const e=r[0]-n[0],u=r[1]-n[1],t=r[2]-n[2];return Math.sqrt(e*e+u*u+t*t)}function R(n,r){const e=r[0]-n[0],u=r[1]-n[1],t=r[2]-n[2];return e*e+u*u+t*t}function U(n){const r=n[0],e=n[1],u=n[2];return r*r+e*e+u*u}function yn(n,r){return n[0]=-r[0],n[1]=-r[1],n[2]=-r[2],n}function xn(n,r){return n[0]=1/r[0],n[1]=1/r[1],n[2]=1/r[2],n}function _(n,r){const e=r[0],u=r[1],t=r[2];let a=e*e+u*u+t*t;return a>0&&(a=1/Math.sqrt(a),n[0]=r[0]*a,n[1]=r[1]*a,n[2]=r[2]*a),n}function V(n,r){return n[0]*r[0]+n[1]*r[1]+n[2]*r[2]}function pn(n,r,e){const u=r[0],t=r[1],a=r[2],o=e[0],i=e[1],s=e[2];return n[0]=t*s-a*i,n[1]=a*o-u*s,n[2]=u*i-t*o,n}function In(n,r,e,u){const t=r[0],a=r[1],o=r[2];return n[0]=t+u*(e[0]-t),n[1]=a+u*(e[1]-a),n[2]=o+u*(e[2]-o),n}function Nn(n,r,e,u,t,a){const o=a*a,i=o*(2*a-3)+1,s=o*(a-2)+a,c=o*(a-1),f=o*(3-2*a);return n[0]=r[0]*i+e[0]*s+u[0]*c+t[0]*f,n[1]=r[1]*i+e[1]*s+u[1]*c+t[1]*f,n[2]=r[2]*i+e[2]*s+u[2]*c+t[2]*f,n}function En(n,r,e,u,t,a){const o=1-a,i=o*o,s=a*a,c=i*o,f=3*a*i,M=3*s*o,h=s*a;return n[0]=r[0]*c+e[0]*f+u[0]*M+t[0]*h,n[1]=r[1]*c+e[1]*f+u[1]*M+t[1]*h,n[2]=r[2]*c+e[2]*f+u[2]*M+t[2]*h,n}function qn(n,r){r=r||1;const e=w,u=2*e()*Math.PI,t=2*e()-1,a=Math.sqrt(1-t*t)*r;return n[0]=Math.cos(u)*a,n[1]=Math.sin(u)*a,n[2]=t*r,n}function Fn(n,r,e){const u=r[0],t=r[1],a=r[2];return n[0]=e[0]*u+e[4]*t+e[8]*a+e[12],n[1]=e[1]*u+e[5]*t+e[9]*a+e[13],n[2]=e[2]*u+e[6]*t+e[10]*a+e[14],n}function Pn(n,r,e){const u=r[0],t=r[1],a=r[2];return n[0]=u*e[0]+t*e[3]+a*e[6],n[1]=u*e[1]+t*e[4]+a*e[7],n[2]=u*e[2]+t*e[5]+a*e[8],n}function On(n,r,e){const u=e[0],t=e[1],a=e[2],o=e[3],i=r[0],s=r[1],c=r[2],f=t*c-a*s,M=a*i-u*c,h=u*s-t*i,X=t*h-a*M,G=a*f-u*h,Q=u*M-t*f,d=2*o;return n[0]=i+f*d+2*X,n[1]=s+M*d+2*G,n[2]=c+h*d+2*Q,n}function An(n,r,e,u){const t=[],a=[];return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],a[0]=t[0],a[1]=t[1]*Math.cos(u)-t[2]*Math.sin(u),a[2]=t[1]*Math.sin(u)+t[2]*Math.cos(u),n[0]=a[0]+e[0],n[1]=a[1]+e[1],n[2]=a[2]+e[2],n}function jn(n,r,e,u){const t=[],a=[];return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],a[0]=t[2]*Math.sin(u)+t[0]*Math.cos(u),a[1]=t[1],a[2]=t[2]*Math.cos(u)-t[0]*Math.sin(u),n[0]=a[0]+e[0],n[1]=a[1]+e[1],n[2]=a[2]+e[2],n}function Sn(n,r,e,u){const t=[],a=[];return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],a[0]=t[0]*Math.cos(u)-t[1]*Math.sin(u),a[1]=t[0]*Math.sin(u)+t[1]*Math.cos(u),a[2]=t[2],n[0]=a[0]+e[0],n[1]=a[1]+e[1],n[2]=a[2]+e[2],n}function Tn(n,r){_(N,n),_(E,r);const e=V(N,E);return e>1?0:e<-1?Math.PI:Math.acos(e)}const N=l(),E=l();function wn(n){return"vec3("+n[0]+", "+n[1]+", "+n[2]+")"}function vn(n,r){return n[0]===r[0]&&n[1]===r[1]&&n[2]===r[2]}function zn(n,r){if(n===r)return!0;const e=n[0],u=n[1],t=n[2],a=r[0],o=r[1],i=r[2],s=T();return Math.abs(e-a)<=s*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(u-o)<=s*Math.max(1,Math.abs(u),Math.abs(o))&&Math.abs(t-i)<=s*Math.max(1,Math.abs(t),Math.abs(i))}function Bn(n,r,e){const u=e[0]-r[0],t=e[1]-r[1],a=e[2]-r[2];let o=u*u+t*t+a*a;return o>0?(o=1/Math.sqrt(o),n[0]=u*o,n[1]=t*o,n[2]=a*o,n):(n[0]=0,n[1]=0,n[2]=0,n)}const Dn=z,Ln=B,Rn=D,Un=L,Vn=R,Yn=p,Zn=U,Cn=Object.freeze(Object.defineProperty({__proto__:null,abs:ln,add:fn,angle:Tn,bezier:En,ceil:Mn,copy:cn,cross:pn,direction:Bn,dist:Un,distance:L,div:Rn,divide:D,dot:V,equals:zn,exactEquals:vn,floor:hn,hermite:Nn,inverse:xn,len:Yn,length:p,lerp:In,max:mn,min:bn,mul:Ln,multiply:B,negate:yn,normalize:_,random:qn,rotateX:An,rotateY:jn,rotateZ:Sn,round:dn,scale:gn,scaleAndAdd:_n,set:v,sign:$n,sqrDist:Vn,sqrLen:Zn,squaredDistance:R,squaredLength:U,str:wn,sub:Dn,subtract:z,transformMat3:Pn,transformMat4:Fn,transformQuat:On},Symbol.toStringTag,{value:"Module"})),q=new Float32Array(1);function Hn(n){--n;for(let r=1;r<32;r<<=1)n|=n>>r;return n+1}function I(n,r,e){return Math.min(Math.max(n,r),e)}function Jn(n,r){return r===0?0:Math.round(n/r)*r}function Kn(n){return!(n&n-1)}function Wn(n){return n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,++n}function nr(n){return 10**Math.ceil(Math.LOG10E*Math.log(n))}function Xn(n,r,e){return n+(r-n)*e}function rr(n,r,e,u,t){return Xn(u,t,(n-r)/(e-r))}function er(n){return n*Math.PI/180}function ur(n){return 180*n/Math.PI}function tr(n,r=1e-6){return(n<0?-1:1)/Math.max(Math.abs(n),r)}function ar(n){return Math.acos(I(n,-1,1))}function Gn(n){return Math.asin(I(n,-1,1))}function g(n,r,e=1e-6){return n===r?!0:!Number.isFinite(n)||!Number.isFinite(r)?!1:(n>r?n-r:r-n)<=e}const m=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function y(n){return m.setFloat64(0,n),m.getBigInt64(0)}function Qn(n){return m.setBigInt64(0,n),m.getFloat64(0)}const b=BigInt("1000000"),kn=Y(1);function Y(n){const r=y(n=Math.abs(n)),e=Qn(r<=b?b:r-b);return Math.abs(n-e)}function or(n,r,e=kn){if(n===r)return!0;if(!Number.isFinite(n)||!Number.isFinite(r))return!1;if(e!=null&&Y(Math.min(Math.abs(n),Math.abs(r)))<e)return Math.abs(n-r)<=e;const u=y(n),t=y(r);return u<0!=t<0?!1:!((u<t?t-u:u-t)>b)}function sr(n,r,e=1e-6){if(n===r)return!0;if(!Number.isFinite(n)||!Number.isFinite(r))return!1;const u=Math.abs(n-r),t=Math.abs(n),a=Math.abs(r);if(n===0||r===0||t<1e-12&&a<1e-12){if(u>.01*e)return!1}else if(u/(t+a)>e)return!1;return!0}function ir(n){return Z(Math.max(-F,Math.min(n,F)))}function Z(n){return q[0]=n,q[0]}function cr(n,r,e){const u=I((e-n)/(r-n),0,1);return u*u*(3-2*u)}function fr(n,r){const e=p(n),u=Gn(n[2]/e),t=Math.atan2(n[1]/e,n[0]/e);return v(r,e,u,t),r}function Mr(n){const r=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],e=n[3]*n[3]+n[4]*n[4]+n[5]*n[5],u=n[6]*n[6]+n[7]*n[7]+n[8]*n[8];return!(g(r,1)&&g(e,1)&&g(u,1))}function hr(n,r){return(n%r+r)%r}const F=Z(34028234663852886e22);export{$n as $,In as A,Mr as B,J as C,yn as D,C as E,g as F,vn as G,or as H,ir as I,Bn as J,On as K,Wn as L,ur as M,Xn as N,Fn as O,V as P,bn as Q,mn as R,Pn as S,Dn as T,K as U,fr as V,ln as W,Vn as X,Yn as Y,Zn as Z,pn as _,T as a,B as a0,Un as a1,zn as a2,sr as a3,F as a4,rr as a5,xn as a6,hr as a7,Sn as a8,Jn as a9,on as aa,D as ab,P as ac,nr as ad,tr as ae,cr as af,hn as ag,S as ah,Kn as ai,Cn as aj,$ as b,fn as c,v as d,I as e,z as f,gn as g,er as h,W as i,nn as j,Hn as k,Gn as l,ar as m,l as n,w as o,R as p,_n as q,cn as r,p as s,k as t,an as u,U as v,Tn as w,L as x,rn as y,_ as z};
