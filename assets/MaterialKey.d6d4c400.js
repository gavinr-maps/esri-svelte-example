var Z=Object.defineProperty,X=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var y=(i,e,t)=>e in i?Z(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,c=(i,e)=>{for(var t in e||(e={}))K.call(e,t)&&y(i,t,e[t]);if(b)for(var t of b(e))k.call(e,t)&&y(i,t,e[t]);return i},u=(i,e)=>X(i,G(e));import{z as j}from"./vendor.85f7dae5.js";import{b as n,e as o,_ as d}from"./Utils.c81af201.js";var s,r;function ee(i){switch(i){case"left":return s.Left;case"right":return s.Right;case"center":case"justify":return s.Center}}function te(i){switch(i){case"top":return r.Top;case"middle":return r.Center;case"baseline":return r.Baseline;case"bottom":return r.Bottom}}function ie(i){switch(i){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[s.Right,r.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[s.Center,r.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[s.Left,r.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[s.Right,r.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[s.Center,r.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[s.Left,r.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[s.Right,r.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[s.Center,r.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[s.Left,r.Top];default:return console.debug(`Found invalid placement type ${i}`),[s.Center,r.Center]}}function se(i){switch(i){case s.Right:return-1;case s.Center:return 0;case s.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${i}`),0}}function re(i){switch(i){case r.Top:return 1;case r.Center:return 0;case r.Bottom:case r.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${i}`),0}}function ae(i){switch(i){case"left":return s.Left;case"right":return s.Right;case"center":case"justify":return s.Center}}function H(i){switch(i){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}(function(i){i[i.Left=-1]="Left",i[i.Center=0]="Center",i[i.Right=1]="Right"})(s||(s={})),function(i){i[i.Top=1]="Top",i[i.Center=0]="Center",i[i.Bottom=-1]="Bottom",i[i.Baseline=2]="Baseline"}(r||(r={}));function Y(i,e){const t=o.SIZE_FIELD_STOPS|o.SIZE_MINMAX_VALUE|o.SIZE_SCALE_STOPS|o.SIZE_UNIT_VALUE,a=(i&(d.FIELD_TARGETS_OUTLINE|d.MINMAX_TARGETS_OUTLINE|d.SCALE_TARGETS_OUTLINE|d.UNIT_TARGETS_OUTLINE))>>>4;return e.isOutline||e.isOutlinedFill?t&a:t&~a}const T=0,C=8,q=7,A=8,B=11,E=11,M=12,F=13,_=14,w=15,O=15,R=16,P=17,I=18,x=19,U=20,N=21,$=22;function ne(i,e){switch(i){case n.FILL:return g.from(e);case n.LINE:return z.from(e);case n.MARKER:return m.from(e);case n.TEXT:return f.from(e);case n.LABEL:return L.from(e);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${i}`)}}class v{constructor(e){this._data=0,this._data=e}static load(e){const t=this.shared;return t.data=e,t}set data(e){this._data=e}get data(){return this._data}get geometryType(){return this.bits(A,B)}set geometryType(e){this.setBits(e,A,B)}get mapAligned(){return!!this.bit(U)}set mapAligned(e){this.setBit(U,e)}get sdf(){return!!this.bit(E)}set sdf(e){this.setBit(E,e)}get pattern(){return!!this.bit(M)}set pattern(e){this.setBit(M,e)}get textureBinding(){return this.bits(T,C)}set textureBinding(e){this.setBits(e,T,C)}get geometryTypeString(){switch(this.geometryType){case n.FILL:return"fill";case n.MARKER:return"marker";case n.LINE:return"line";case n.TEXT:return"text";case n.LABEL:return"label";default:throw new j(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(e,t){const a=1<<e;t?this._data|=a:this._data&=~a}bit(e){return(this._data&1<<e)>>e}setBits(e,t,a){for(let l=t,h=0;l<a;l++,h++)this.setBit(l,(e&1<<h)!=0)}bits(e,t){let a=0;for(let l=e,h=0;l<t;l++,h++)a|=this.bit(l)<<h;return a}hasVV(){return!1}setVV(e,t){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}}getVariationHash(){return this._data&~(q&this.textureBinding)}}v.shared=new v(0);const S=i=>class extends i{get vvSizeMinMaxValue(){return this.bit(R)!==0}set vvSizeMinMaxValue(e){this.setBit(R,e)}get vvSizeScaleStops(){return this.bit(P)!==0}set vvSizeScaleStops(e){this.setBit(P,e)}get vvSizeFieldStops(){return this.bit(I)!==0}set vvSizeFieldStops(e){this.setBit(I,e)}get vvSizeUnitValue(){return this.bit(x)!==0}set vvSizeUnitValue(e){this.setBit(x,e)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(e,t){super.setVV(e,t);const a=Y(e,t)&e;this.vvSizeMinMaxValue=!!(a&o.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(a&o.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(a&o.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(a&o.SIZE_SCALE_STOPS)}},D=i=>class extends i{get vvRotation(){return this.bit(w)!==0}set vvRotation(e){this.setBit(w,e)}hasVV(){return super.hasVV()||this.vvRotation}setVV(e,t){super.setVV(e,t),this.vvRotation=!t.isOutline&&!!(e&o.ROTATION)}},p=i=>class extends i{get vvColor(){return this.bit(F)!==0}set vvColor(e){this.setBit(F,e)}hasVV(){return super.hasVV()||this.vvColor}setVV(e,t){super.setVV(e,t),this.vvColor=!t.isOutline&&!!(e&o.COLOR)}},V=i=>class extends i{get vvOpacity(){return this.bit(_)!==0}set vvOpacity(e){this.setBit(_,e)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(e,t){super.setVV(e,t),this.vvOpacity=!t.isOutline&&!!(e&o.OPACITY)}};class g extends p(V(S(v))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=n.FILL,t.dotDensity=e.stride.fill==="dot-density",t.simple=e.stride.fill==="simple",t.outlinedFill=e.isOutlinedFill,t.dotDensity||t.setVV(e.vvFlags,e),t.data}getVariation(){return u(c({},super.getVariation()),{dotDensity:this.dotDensity,outlinedFill:this.outlinedFill,simple:this.simple,vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}get dotDensity(){return!!this.bit(O)}set dotDensity(e){this.setBit(O,e)}get simple(){return!!this.bit($)}set simple(e){this.setBit($,e)}get outlinedFill(){return!!this.bit(N)}set outlinedFill(e){this.setBit(N,e)}}g.shared=new g(0);class m extends p(V(D(S(v)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=n.MARKER,t.setVV(e.vvFlags,e),t.data}getVariation(){return u(c({},super.getVariation()),{vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}m.shared=new m(0);class z extends p(V(S(v))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=n.LINE,t.setVV(e.vvFlags,e),t.data}getVariation(){return u(c({},super.getVariation()),{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}z.shared=new z(0);class f extends p(V(D(S(v)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=n.TEXT,t.setVV(e.vvFlags,e),t.data}getVariation(){return u(c({},super.getVariation()),{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}f.shared=new f(0);class L extends S(v){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=n.LABEL,t.setVV(e.vvFlags,e),t.mapAligned=H(e.placement),t.data}getVariation(){return u(c({},super.getVariation()),{vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}L.shared=new L(0);export{z as B,ne as L,f as R,m as U,v as _,ie as a,L as b,se as c,s as e,H as i,te as n,re as o,ee as r,ae as s,r as t,g as x};
