import{O as U}from"./mat4-GpOFENPA.js";import{n as b}from"./vec3f64-BLpZdpfb.js";import{F as x}from"./aaBoundingBox-BE7cC1jD.js";import{N as L}from"./sphere-C77djCO6.js";import{a as u,i as c,o as g,b as $,c as o,d as s}from"./intersectorUtils-BK9EUwUf.js";import{n as w,o as d}from"./Intersector-wXoCuQ8W.js";import{i as h}from"./Intersector-BQ92CPLA.js";class O extends g{constructor(n,r,e,i){super(r,e),this.point=n,this.createGraphic=i}}function y(t){return u(t)&&t.intersector===c.PCL&&!!t.target}class v extends ${constructor(n,r,e,i,V){super(n),this.layerUid=n,this.sublayerUid=r,this.nodeIndex=e,this.componentIndex=i,this.triangleNr=V}}class C extends g{constructor(n,r,e){super(r,null),this.point=n,this.createVoxelGraphic=e}}let M=class extends g{constructor(n,r){super(n,null),this.createTiles3DGraphic=r}};function p(t){return u(t)&&t.intersector===c.I3S&&!!t.target}function m(t){return u(t)&&t.intersector===c.VOXEL&&!!t.target}function G(t){return u(t)&&t.intersector===c.TILES3D&&!!t.target}function W(t,n){var r,e;return o(t)||s(t)?a((r=t.target)==null?void 0:r.object,n):w(t)?(e=n.map)==null?void 0:e.ground:y(t)||p(t)||d(t)||m(t)?a(t.target,n):null}function X(t,n){const r=I(t,n);return r!=null&&r.type==="graphic"?r.graphic:null}function I(t,n){var r;if(t==null)return null;if(o(t)||s(t))return f((r=t.target)==null?void 0:r.object,n);if(y(t)){const e=t.target.createGraphic();return{type:"graphic",graphic:e,layer:e.layer}}if(m(t)){const e=t.target.createVoxelGraphic();return{type:"graphic",graphic:e,layer:e.layer}}if(G(t)){const e=t.target.createTiles3DGraphic();return{type:"graphic",graphic:e,layer:e.layer}}return d(t)||h(t)?f(t.target,n):p(t)?T(t.target,n):null}function f(t,n){if((t==null?void 0:t.graphicUid)==null)return null;const r=a(t,n);if(r==null)return null;if(r===n.graphics)return n.graphicsView==null||typeof t.graphicUid!="number"?null:n.graphicsView.getHit(t.graphicUid);const e=n.allLayerViews.find(i=>i.layer===r);return!e||e.suspended||t.graphicUid==null?null:"getHit"in e?e.getHit(t.graphicUid):null}function T(t,n){const r=a(t,n);if(r==null)return null;const e=n.allLayerViews.find(i=>i.layer===r);return e&&!e.suspended&&"getGraphicFromIntersectorTarget"in e?F(e.getGraphicFromIntersectorTarget(t)):null}function B(t,n){const r=a(t,n);if(r==null)return null;const e=n.allLayerViews.find(i=>i.layer===r);return e&&!e.suspended&&"getAABBFromIntersectorTarget"in e?e.getAABBFromIntersectorTarget(t):null}function F(t){return t!=null?{type:"graphic",graphic:t,layer:t.layer}:null}function a(t,n){return(t==null?void 0:t.layerUid)==null?null:n.graphicsView!=null&&t.layerUid===n.graphicsView.processor.layer.id?n.graphics:n.map.allLayers.find(r=>r.uid===t.layerUid)}function k(t,n){if(o(t)||s(t))return L(t.target.object.boundingVolumeWorldSpace.bounds);if(h(t)){U(l,t.transformation);const r=Math.max(l[0],l[1],l[2]);return t.target.baseBoundingSphere.radius*r}if(p(t)){const r=B(t.target,n);return r?.5*x(r):null}return null}function q(t){return!o(t)&&!s(t)&&(h(t)?t.target.numLodLevels>1:!!p(t))}const l=b();export{k as V,C as c,W as f,I as h,M as l,X as m,v as o,O as s,q as w};
