import{Q as y}from"./Point-Cz2JYYmX.js";import{x as g,l as d,m as z}from"./mat4-Fi6iAz29.js";import{e as v}from"./mat4f64-Dk4dwAN8.js";import{s as w,u as M}from"./vec3f64-BLpZdpfb.js";import{s as R}from"./vec42-YcqnINSP.js";import{t as P,N as b}from"./vec4f64-o2zAXfmz.js";import{n as F}from"./projection-CyCZAIaD.js";import{g as A,y as D,E as I}from"./aaBoundingBox-Dw3yBk2f.js";import{p as Z,h as E,o as S,a as k}from"./Polyline-s-JzsQqo.js";import{u as B}from"./meshVertexSpaceUtils-AgAbm20L.js";import{e as f}from"./projectVectorToVector-CCOy_B5J.js";import{o as G,x as N}from"./hydratedFeatures-CNHxsqRS.js";function $(n,e){if(n.type==="point")return s(n,e,!1);if(G(n))switch(n.type){case"extent":return s(n.center,e,!1);case"polygon":return s(n.centroid,e,!1);case"polyline":return s(h(n),e,!0);case"mesh":return s(B(n.vertexSpace,n.spatialReference)??n.extent.center,e,!1);case"multipoint":return}else switch(n.type){case"extent":return s(Q(n),e,!0);case"polygon":return s(U(n),e,!0);case"polyline":return s(h(n),e,!0);case"multipoint":return}}function h(n){const e=n.paths[0];if(!e||e.length===0)return null;const r=Z(e,E(e)/2);return f(r[0],r[1],r[2],n.spatialReference)}function Q(n){return f(.5*(n.xmax+n.xmin),.5*(n.ymax+n.ymin),n.zmin!=null&&n.zmax!=null&&isFinite(n.zmin)&&isFinite(n.zmax)?.5*(n.zmax+n.zmin):void 0,n.spatialReference)}function U(n){const e=n.rings[0];if(!e||e.length===0)return null;const r=S(n.rings,!!n.hasZ);return f(r[0],r[1],r[2],n.spatialReference)}function s(n,e,r){const i=r?n:N(n);return e&&n?F(n,i,e)?i:null:i}function nn(n){if(!n)return 0;switch(n.type){case"point":return n.z;case"extent":return n.zmax;case"polygon":return n.hasZ?n.rings.reduce((e,r)=>r.reduce((i,t)=>Math.max(i,t[2]),e),-1/0):void 0;case"polyline":return n.hasZ?n.paths.reduce((e,r)=>r.reduce((i,t)=>Math.max(i,t[2]),e),-1/0):void 0;case"mesh":return n.extent.zmax;case"multipoint":return}}function en(n,e,r,i=0){if(n){e||(e=k());const t=n;let o=.5*t.width*(r-1),u=.5*t.height*(r-1);return t.width<1e-7*t.height?o+=u/20:t.height<1e-7*t.width&&(u+=o/20),R(e,t.xmin-o-i,t.ymin-u-i,t.xmax+o+i,t.ymax+u+i),e}return null}function rn(n,e,r=null){const i=P(b);return n!=null&&(i[0]=n[0],i[1]=n[1],i[2]=n[2]),e!=null?i[3]=e:n!=null&&n.length>3&&(i[3]=n[3]),r&&(i[0]*=r,i[1]*=r,i[2]*=r,i[3]*=r),i}function tn(n,e,r,i,t,o){for(let u=0;u<3;++u)o[u]=(n==null?void 0:n[u])!=null?n[u]:(r==null?void 0:r[u])!=null?r[u]:t[u];return o[3]=e??i??t[3],o}function un(n=w,e,r,i=1){const t=new Array(3);if(e==null||r==null)t[0]=1,t[1]=1,t[2]=1;else{let o,u=0;for(let l=2;l>=0;l--){const m=n[l],p=m!=null,x=l===0&&!o&&!p,c=r[l];let a;m==="symbol-value"||x?a=c!==0?e[l]/c:1:p&&m!=="proportional"&&isFinite(m)&&(a=c!==0?m/c:1),a!=null&&(t[l]=a,o=a,u=Math.max(u,Math.abs(a)))}for(let l=2;l>=0;l--)t[l]==null?t[l]=o:t[l]===0&&(t[l]=.001*u)}for(let o=2;o>=0;o--)t[o]/=i;return M(t)}function j(n){return n.isPrimitive!=null}function on(n){return q(j(n)?[n.width,n.depth,n.height]:n)?null:"Symbol sizes may not be negative values"}function q(n){const e=r=>r==null||r>=0;return Array.isArray(n)?n.every(e):e(n)}function ln(n,e,r,i=v()){return n&&g(i,i,-n/180*Math.PI),e&&d(i,i,e/180*Math.PI),r&&z(i,i,r/180*Math.PI),i}function sn(n,e,r){if(r.minDemResolution!=null)return r.minDemResolution;const i=y(e),t=A(n)*i,o=D(n)*i,u=I(n)*(e.isGeographic?1:i);return t===0&&o===0&&u===0?r.minDemResolutionForPoints:.01*Math.max(t,o,u)}export{rn as A,tn as B,un as D,sn as E,nn as F,en as S,on as U,q as Z,$ as b,ln as k};
