import{c as E}from"./subclass-BR3PhgZG.js";import{z as k,B as M,C as _,_ as d,f as c,E as w,M as p,O as a,P as S,Q as u}from"./Point-DB4Hp4hH.js";import{o as g}from"./intl-Dpfm8vPB.js";function T(){return M()}function A(){return k()}function m(n,e){const o=[];n=(n=(n=n.replaceAll(/[\u00B0\u00BA]/g,"^")).replaceAll("′","'")).replaceAll("″",'"');const t=s(e);return _.dmsToGeog(t,1,[n],o)?new d(o[0][0],o[0][1],e||c.WGS84):null}function O(n){var e;return n&&T()?g(n)??((e=m(`0° 0' 0" N | ${n}`))==null?void 0:e.longitude)??null:null}function b(n){var e;return n&&T()?g(n)??((e=m(`${n} | 00° 00' 00" E`))==null?void 0:e.latitude)??null:null}function D(n,e,o){const t=[],r=P(o);if(r===-1)return console.warn(`invalid conversionMode: ${o}`),null;const i=s(e);return a.mgrsToGeogExtended(i,1,[n],r,t)?new d(t[0][0],t[0][1],e||c.WGS84):null}function L(n,e){const o=[];!e&&/\(.+27/.test(n)&&(e=c.GCS_NAD_1927);const t=s(e);return S.usngToGeog(t,1,[n],o)?new d(o[0][0],o[0][1],e||c.WGS84):null}function N(n,e,o){const t=[],r=G(o);if(r===-1)return console.warn(`invalid conversionMode: ${o}`),null;const i=s(e);return u.utmToGeog(i,1,[n],r,t)?new d(t[0][0],t[0][1],e||c.WGS84):null}function h(n,e,o=0){const t=[[n.x,n.y]],r=[],i=s(n.spatialReference);let l=0;switch(e){case"dd":l=_.geogToDd(i,1,t,o,r);break;case"ddm":l=_.geogToDdm(i,1,t,o,r);break;case"dms":l=_.geogToDms(i,1,t,o,r);break;default:return console.warn(`invalid format: ${e}`),null}return l?r[0]:null}function U(n,e,o=0,t=!1){const r=[[n.x,n.y]],i=[],l=s(n.spatialReference);let f=P(e);return f===-1?(console.warn(`invalid conversionMode: ${e}`),null):(t&&(f|=a.PE_MGRS_ADD_SPACES),a.geogToMgrsExtended(l,1,r,o,!1,f,i)?i[0]:null)}function x(n,e=0,o=!1){const t=[[n.x,n.y]],r=[],i=s(n.spatialReference);return S.geogToUsng(i,1,t,e,!1,o,r)?r[0]:null}function W(n,e,o=!1){const t=[[n.x,n.y]],r=[],i=s(n.spatialReference);let l=G(e);return l===-1?(console.warn(`invalid conversionMode: ${e}`),null):(o&&(l|=u.PE_UTM_OPTS_ADD_SPACES),u.geogToUtm(i,1,t,l,r)?r[0]:null)}function s(n){let e=null;if(n||(n=c.WGS84),n.wkid){if(e=w.geogcs(n.wkid),!e)throw new E("coordinate-formatter:invalid-spatial-reference","wkid is not valid")}else{if(!n.wkt2&&!n.wkt)throw new E("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing");if(e=w.fromString(p.PE_TYPE_GEOGCS,n.wkt2||n.wkt),!e)throw new E("coordinate-formatter:invalid-spatial-reference","wkt is not valid")}return e}function P(n){let e=-1;switch(n){case"automatic":e=a.PE_MGRS_STYLE_AUTO;break;case"new-180-in-zone-01":e=a.PE_MGRS_STYLE_NEW|a.PE_MGRS_180_ZONE_1_PLUS;break;case"new-180-in-zone-60":e=a.PE_MGRS_STYLE_NEW;break;case"old-180-in-zone-01":e=a.PE_MGRS_STYLE_OLD|a.PE_MGRS_180_ZONE_1_PLUS;break;case"old-180-in-zone-60":e=a.PE_MGRS_STYLE_OLD}return e}function G(n){let e=-1;switch(n){case"latitude-band-indicators":e=u.PE_UTM_OPTS_NONE;break;case"north-south-indicators":e=u.PE_UTM_OPTS_NS}return e}export{m as E,N as G,x as M,L as P,D as T,T as _,O as g,h as k,b as m,U as p,W as v,A as w};
