import{n}from"./subclass-BZA_h8Db.js";import{i as a,u as f}from"./Accessor-BLX9ikPh.js";import{m as c}from"./RefreshableLayer-D7lXUJRS.js";import{b as u}from"./terrainUtils-CPZNZdjg.js";async function d(t,r,o){const e=t.layer;if(u(e)){const m=await e.fetchTile(r[0],r[1],r[2],o);if(a(o))throw n.getLogger(t).warnOnce("A call to fetchTile resolved even though the request was aborted. fetchTile should not resolve if options.signal.aborted is true."),f();return m}let s=t.getTileUrl(r);c(e)&&e.refreshTimestamp&&(s+=`${s.includes("?")?"&":"?"}_ts=${e.refreshTimestamp}`);const i=t.hasMixedImageFormats?"image+type":"image";return o.requester.request(s,i,o)}export{d as i};
