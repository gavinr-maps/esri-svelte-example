import{fd as A,A as p,eU as v,eY as l,eP as h,a6 as $,a5 as a,eV as x,s as z,gs as E,fr as L,gt as C,eT as V,t as Q,eZ as U,eX as Z,gu as k,f5 as B,gr as D,eQ as F,gv as _,C as q,go as G}from"./index.ebaf2ed0.js";import{s as H,c as f,f as I}from"./vectorStacks.a23decb3.js";var g;(function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"})(g||(g={}));function yt(t){return t?{origin:A(t.origin),direction:A(t.direction)}:{origin:p(),direction:p()}}function Pt(t,e){const n=N.get();return n.origin=t,n.direction=e,n}function J(t,e,n){const o=v(t.direction,l(n,e,t.origin));return h(n,t.origin,$(n,t.direction,o)),n}function K(){return{origin:null,direction:null}}const N=new H(K);function W(t,e){const n=v(t,e)/(a(t)*a(e));return-x(n)}const tt=z.getLogger("esri.geometry.support.sphere");function R(){return E()}function T(t,e=R()){return L(e,t)}function nt(t,e){return C(t[0],t[1],t[2],e)}function et(t){return t}function ot(t){t[0]=t[1]=t[2]=t[3]=0}function rt(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t}function m(t){return t[3]}function it(t){return t}function st(t,e,n,o){return C(t,e,n,o)}function ct(t,e,n){return t!==n&&V(n,t),n[3]=t[3]+e,n}function ut(t,e,n){return tt.error("sphere.setExtent is not yet supported"),t===n?n:T(t,n)}function M(t,e,n){if(Q(e))return!1;const{origin:o,direction:r}=e,i=at;i[0]=o[0]-t[0],i[1]=o[1]-t[1],i[2]=o[2]-t[2];const s=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],c=2*(r[0]*i[0]+r[1]*i[1]+r[2]*i[2]),d=c*c-4*s*(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]-t[3]*t[3]);if(d<0)return!1;const b=Math.sqrt(d);let u=(-c-b)/(2*s);const y=(-c+b)/(2*s);return(u<0||y<u&&y>0)&&(u=y),!(u<0)&&(n&&(n[0]=o[0]+r[0]*u,n[1]=o[1]+r[1]*u,n[2]=o[2]+r[2]*u),!0)}const at=p();function ft(t,e){return M(t,e,null)}function gt(t,e,n){if(M(t,e,n))return n;const o=X(t,e,f.get());return h(n,e.origin,$(f.get(),e.direction,U(e.origin,o)/a(e.direction))),n}function X(t,e,n){const o=f.get(),r=I.get();Z(o,e.origin,e.direction);const i=m(t);Z(n,o,e.origin),$(n,n,1/a(n)*i);const s=j(t,e.origin),c=W(e.origin,n);return k(r,c+s,o),B(n,n,r),n}function lt(t,e,n){return M(t,e,n)?n:(J(e,t,n),Y(t,n,n))}function Y(t,e,n){const o=l(f.get(),e,t),r=$(f.get(),o,t[3]/a(o));return h(n,r,t)}function dt(t,e){const n=l(f.get(),e,t),o=D(n),r=t[3]*t[3];return Math.sqrt(Math.abs(o-r))}function j(t,e){const n=l(f.get(),e,t),o=a(n),r=m(t),i=r+Math.abs(r-o);return x(r/i)}const P=p();function w(t,e,n,o){const r=l(P,e,t);switch(n){case g.X:{const i=_(r,P)[2];return q(o,-Math.sin(i),Math.cos(i),0)}case g.Y:{const i=_(r,P),s=i[1],c=i[2],d=Math.sin(s);return q(o,-d*Math.cos(c),-d*Math.sin(c),Math.cos(s))}case g.Z:return F(o,r);default:return}}function O(t,e){const n=l(S,e,t);return a(n)-t[3]}function pt(t,e,n,o){const r=O(t,e),i=w(t,e,g.Z,S),s=$(S,i,n-r);return h(o,e,s)}function $t(t,e){const n=G(t,e),o=m(t);return n<=o*o}const S=p(),ht=R();Object.freeze(Object.defineProperty({__proto__:null,create:R,copy:T,fromCenterAndRadius:nt,wrap:et,clear:ot,fromRadius:rt,getRadius:m,getCenter:it,fromValues:st,elevate:ct,setExtent:ut,intersectRay:M,intersectsRay:ft,intersectRayClosestSilhouette:gt,closestPointOnSilhouette:X,closestPoint:lt,projectPoint:Y,distanceToSilhouette:dt,angleToSilhouette:j,axisAt:w,altitudeAt:O,setAltitudeAt:pt,containsPoint:$t,tmpSphere:ht},Symbol.toStringTag,{value:"Module"}));export{it as E,$t as Q,ft as X,R as _,yt as d,Pt as j,m as k,T as q};
