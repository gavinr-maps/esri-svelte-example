import{c as h}from"./subclass-BZA_h8Db.js";class a{constructor(n,t={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=n,this._options=t,this.apiValues=[],this.jsonValues=[],this._apiToJSON=c(n),this.apiValues=r(this._apiToJSON),this.jsonValues=r(this._jsonToAPI),this.read=s=>this.fromJSON(s),this.write=(s,e,u)=>{const o=this.toJSON(s);o!==void 0&&h(u,o,e)},this.write.isJSONMapWriter=!0}toJSON(n){if(n==null)return null;if(this._apiToJSON.hasOwnProperty(n)){const t=this._apiToJSON[n];return this._options.useNumericKeys?+t:t}return this._options.ignoreUnknown?void 0:n}fromJSON(n){return n!=null&&this._jsonToAPI.hasOwnProperty(n)?this._jsonToAPI[n]:this._options.ignoreUnknown?void 0:n}}function c(i){const n={};for(const t in i)n[i[t]]=t;return n}function r(i){const n=[];for(const t in i)n.push(t);return n.sort(),n}function _(){return function(i,n){return new a(i,{ignoreUnknown:!0,...n})}}export{_ as i,a as n};
