import{q as S,c as C}from"./dom-DPjEIMvi.js";import{b_ as V}from"./index-B1qcMJFy.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.6.0
 */const y=["calcite-input","calcite-input-number","calcite-input-text","calcite-text-area"];function L(e){return`${e.split("-").map((a,r)=>r===0?a:`${a[0].toUpperCase()}${a.slice(1)}`).join("")}${y.includes(e)?"Input":"Change"}`}const f="hidden-form-input";function v(e){return"checked"in e}const m=new WeakMap,h=new WeakSet;function R(e,t){if(C(t.parentElement,"[form]"))return!0;const a="calciteInternalFormComponentRegister";let r=!1;return e.addEventListener(a,i=>{r=i.composedPath().some(o=>h.has(o)),i.stopPropagation()},{once:!0}),t.dispatchEvent(new CustomEvent(a,{bubbles:!0,composed:!0})),r}function I(e){"status"in e&&(e.status="idle"),"validationIcon"in e&&(e.validationIcon=!1),"validationMessage"in e&&(e.validationMessage="")}function H(e,t){"status"in e&&(e.status="invalid"),"validationIcon"in e&&!e.validationIcon&&(e.validationIcon=!0),"validationMessage"in e&&!e.validationMessage&&(e.validationMessage=t)}function F(e){var o;const t=e==null?void 0:e.target,s=t==null?void 0:t.parentElement,a=(o=s==null?void 0:s.nodeName)==null?void 0:o.toLowerCase(),r=a==null?void 0:a.split("-");if(r.length<2||r[0]!=="calcite"||(e==null||e.preventDefault(),H(s,t==null?void 0:t.validationMessage),(s==null?void 0:s.validationMessage)!==(t==null?void 0:t.validationMessage)))return;const i=L(a);s.addEventListener(i,()=>I(s),{once:!0})}function $(e){const{formEl:t}=e;return t?(t.addEventListener("invalid",F,!0),t.requestSubmit(),t.removeEventListener("invalid",F,!0),requestAnimationFrame(()=>{const s=t.querySelectorAll("[status=invalid]");for(const a of s)if(a!=null&&a.validationMessage){a==null||a.setFocus();break}}),!0):!1}function N(e){var t;(t=e.formEl)==null||t.reset()}function D(e){const{el:t,value:s}=e,a=q(e);if(!a||R(a,t))return;e.formEl=a,e.defaultValue=s,v(e)&&(e.defaultChecked=e.checked);const r=(e.onFormReset||w).bind(e);a.addEventListener("reset",r),m.set(e.el,r),h.add(t)}function q(e){const{el:t,form:s}=e;return s?S(t,{id:s}):C(t,"form")}function w(){if(I(this),v(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue}function O(e){const{el:t,formEl:s}=e;if(!s)return;const a=m.get(t);s.removeEventListener("reset",a),m.delete(t),e.formEl=null,h.delete(t)}const A="calciteInternalHiddenInputInput",k=e=>{e.target.dispatchEvent(new CustomEvent(A,{bubbles:!0}))},g=e=>e.removeEventListener("input",k);function P(e){const{el:t,formEl:s,name:a,value:r}=e,{ownerDocument:i}=t,o=t.querySelectorAll(`input[slot="${f}"]`);if(!s||!a){o.forEach(n=>{g(n),n.remove()});return}const c=Array.isArray(r)?r:[r],d=[],E=new Set;o.forEach(n=>{const l=c.find(M=>M==n.value);l!=null?(E.add(l),b(e,n,l)):d.push(n)});let u;c.forEach(n=>{if(E.has(n))return;let l=d.pop();l||(l=i.createElement("input"),l.slot=f),u||(u=i.createDocumentFragment()),u.append(l),l.addEventListener("input",k),b(e,l,n)}),u&&t.append(u),d.forEach(n=>{g(n),n.remove()})}function b(e,t,s){var d;const{defaultValue:a,disabled:r,form:i,name:o,required:c}=e;t.defaultValue=a,t.disabled=r,t.name=o,t.required=c,t.tabIndex=-1,i?t.setAttribute("form",i):t.removeAttribute("form"),v(e)?(t.checked=e.checked,t.defaultChecked=e.defaultChecked,t.value=e.checked?s||"on":""):t.value=s||"",(d=e.syncHiddenFormInput)==null||d.call(e,t)}const j=({component:e})=>(P(e),V("slot",{name:f}));export{j as H,D as c,O as d,q as f,A as i,N as r,$ as s};
