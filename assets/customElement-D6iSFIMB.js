import{i as G,L as Z,c as V,n as H,a as J}from"./index-tefRSezt.js";import{r as h,a as K,m as O}from"./index-BkKcLxWB.js";import{d as S}from"./reactiveUtils-BR0C1Kq4.js";import{r,m as o,$ as U,a as v,ab as _,s as y}from"./Accessor-BHnuXKD2.js";import q from"./Basemap-BHdJ6wQH.js";import{f as Q,C as X}from"./WebDocument2D-osGUtKC7.js";import{c as Y,r as tt,d as it,e as et,w as rt,x as ot}from"./supportUtils-CYitzarn.js";import{a as f}from"./Clonable-DvJsj5LF.js";import{S as x}from"./JSONSupport-CGdeqxpk.js";import{r as z}from"./enumeration-Cr5WIZs4.js";import{w as at,g as st}from"./resourceSerializationUtils-rMuIWQjQ.js";import{m as nt}from"./MultiOriginJSONSupport-nGLpCFeg.js";import{p as $,m as j,V as pt}from"./cast-BA_-jlhc.js";import{n as ht}from"./uuid-Cl5lrJ4c.js";import{o as T,r as I}from"./writer-B2bQV2uU.js";import{n as lt,s as mt}from"./utils-D02V2_jH.js";import{g as M}from"./Point-XGrwlf63.js";import{e as ct}from"./View2D-CIpCSKxG.js";import{O as B,N as yt}from"./component-utils-DWY0IMHC.js";import"./Evented-DCWccWGU.js";import"./SimpleObservable-7oieNGD8.js";import"./collectionUtils-CbaToa73.js";import"./Portal-CTRRujjZ.js";import"./Promise-CmQqe-ke.js";import"./Extent-CBBGeHb-.js";import"./loadAll-Do8S8AWH.js";import"./PortalItem-CXk7DqVv.js";import"./basemapDefinitions-BmB40s1J.js";import"./intl-Do3GEEJ7.js";import"./writeUtils-C3ZSK02Z.js";import"./layerUtils-dJgsXxkC.js";import"./DefaultUI-DqLHkAzt.js";import"./jsxFactory-CLjKarlq.js";import"./UpdatingHandles-ptqz1ck8.js";import"./InputManager-Bs9UE-jw.js";import"./Queue-BOnccek2.js";import"./signal-DSa0yokC.js";import"./Color-gncXBiLc.js";import"./colorUtils-Rxh2V3ai.js";import"./mathUtils-DV9iOXpW.js";import"./groundInstanceUtils-Ben03ZCf.js";import"./opacityUtils-CSd4XoR2.js";import"./CollectionFlattener-B9CFCLSp.js";import"./editableLayers-BZGjz8nI.js";import"./catalogUtils-CK4eMvD1.js";import"./basemapEnsureType-BVU7UGJp.js";import"./basemapUtils-DQr5T1wn.js";import"./utils-DYurMneM.js";import"./screenUtils-_ZIvrt5o.js";import"./mat4f32-DcsiF_Rp.js";import"./mat4-Fi6iAz29.js";import"./vec3f64-BLpZdpfb.js";import"./common-DQOJ18NT.js";import"./TablesMixin-BzMj7HDl.js";import"./Layer-C9uQlTBT.js";import"./Identifiable-BrT7zvUW.js";import"./TimeExtent-J5qnUFx_.js";import"./timeUtils-D2X862bk.js";import"./GraphicsCollection-CkliHSk1.js";import"./Graphic-CFXUQZlS.js";import"./ActionToggle-__-l4AdQ.js";import"./jsonUtils-Cu7OBRmN.js";import"./Polyline-BmuD2-ZN.js";import"./typeUtils-BSg8Y507.js";import"./TextSymbol-BQ_NW9Xo.js";import"./aaBoundingBox-CeBivBRq.js";import"./HeightModelInfo-B3GZyQFz.js";import"./timeZoneUtils-COos5xIr.js";import"./ReactiveMap-Dwhwbx9R.js";import"./Query-DCBIeen2.js";import"./Field-Cyk7Ur5d.js";import"./fieldType-L-VlbZqy.js";import"./FullTextSearch-BWm_kPUE.js";import"./selectionUtils-DYi6daQO.js";import"./ViewEvents-Hl5AOQnu.js";import"./IViewEvents-Bci6PjlS.js";import"./interfaces-D6pIddIh.js";import"./screenUtils-DyhV4TAA.js";import"./HighlightDefaults-ESbuT2uR.js";import"./a11yUtils-CSYUX1kC.js";import"./heightModelInfoUtils-CMg1cdju.js";import"./ViewingMode-Dodu7ZZk.js";import"./projection-B2I9Bzj_.js";import"./projectBuffer-DOU0xvVi.js";import"./geodesicConstants-yASAK_zX.js";import"./vec32-Dvg_eL9J.js";import"./unitBezier-B1N-tmtC.js";import"./imageUtils-brik-GLm.js";import"./capabilities-DwlKKScG.js";import"./themeUtils-C3zvZbsE.js";import"./globalCss-CZa70j6i.js";import"./accessibleHandler-rIBXQ52V.js";import"./CompassViewModel-BAJa4WdS.js";import"./GoTo-BsXOAO95.js";import"./ZoomViewModel-BZXEbLSs.js";import"./Viewpoint-Cv8Otrne.js";import"./Camera-DJtV7zYb.js";import"./Cyclical-CPiNl4ru.js";import"./portalItemUtils-rm7sAgcm.js";import"./Viewing-BEd2CNs6.js";import"./interfaces-CL2NbQte.js";import"./Widgets-Bgpt11Wu.js";import"./TimeInterval-BDTTJ9Uw.js";import"./jsonContext-CdRtpU_S.js";import"./project-BoEABhcm.js";import"./utils-Cy8wFNQo.js";import"./utils-CkSELPnj.js";import"./Bookmark-DQLl8nc5.js";import"./timeProperties-2ojMrJEd.js";import"./GraphicsLayer-Acqd2VFm.js";import"./ScaleRangeLayer-C59zG_yk.js";import"./layerContainerType-C5CzMsLd.js";import"./jsonUtils-TjZmCq6l.js";import"./ElevationInfo-Di4W6v5U.js";import"./unitConversionUtils-C4AR5obr.js";import"./lengthUtils-DjJgJFRg.js";import"./knowledgeGraphService-BDS0AlFK.js";import"./submitJob-Cqg9t7s8.js";import"./normalizeUtils-XRAPXbWa.js";import"./normalizeUtilsCommon-D0zPTJCj.js";import"./networkEnums-n7t8Au-e.js";import"./FeatureSet-DpCN730g.js";import"./GPMessage-ttuUMj6y.js";import"./Path-BzF4EEAV.js";import"./GraphQueryStreaming-DnnY4k6p.js";import"./featureConversionUtils-DpmsPUmt.js";import"./OptimizedFeature-DcMLlxvB.js";import"./memoryEstimations-5gFNwkKK.js";import"./OptimizedGeometry-7IxBWtHr.js";import"./OptimizedFeatureSet-Blu9Ckm7.js";import"./Version-9k2AOv05.js";import"./workers-D8Q3pEzK.js";import"./TileInfo-CRfZy5zq.js";import"./TileKey-DZd6gJy7.js";import"./vec2-maR1OrZI.js";import"./vec2f64-Dy6m9Nrb.js";import"./viewpointUtils-DmJh_Ev7.js";import"./mat2d-D9DBP-jx.js";import"./mat2df64-CBKYtunK.js";import"./mat2df32-orApM5a3.js";import"./mat3-CR8GKnhD.js";import"./vec2f32-BbH2jxlN.js";import"./Scheduler-B_GuBefw.js";import"./debugFlags-ZrDyTcDc.js";import"./TileStrategy-DlGVvP4C.js";import"./TileKey-BtGhNUzq.js";import"./ScheduledQueueProcessor-DfrR8pp0.js";import"./Tile-CkUxg4dk.js";import"./quickselect-QQC62dOK.js";import"./definitions-LJaw2n5Z.js";import"./enums-D9v74xTE.js";import"./Texture-D-SqNa4i.js";import"./getDataTypeBytes-BTGR5GyG.js";let p=class extends f.ClonableMixin(x){constructor(t){super(t),this.durationLineWidth=5,this.entityPositionAtDurationRatio=1,this.eventsTicksVisualization="start-and-end",this.lineSeparationMultiplier=1,this.moveFirstBends=!0,this.secondBendRatio=.3,this.separateTimeOverlaps=!0,this.separateTimelineOverlaps=!0,this.separatedLineShapeRatio=0,this.showDurationLineForNonZeroDurationEntityEvents=!1,this.showNonZeroDurationIntervalBounds=!1,this.spaceSeparatedLinesEvenly=!1,this.timeBannerUTCOffsetInMinutes=0,this.timeDirection="right",this.useBezierCurves=!1}};r([o({type:U,range:{min:1,max:10},json:{write:!0}})],p.prototype,"durationLineWidth",void 0),r([o({type:Number,range:{min:0,max:1},json:{write:!0}})],p.prototype,"entityPositionAtDurationRatio",void 0),r([z(Y)],p.prototype,"eventsTicksVisualization",void 0),r([o({type:Number,range:{min:0},json:{write:!0}})],p.prototype,"lineSeparationMultiplier",void 0),r([o({type:Boolean,json:{write:!0}})],p.prototype,"moveFirstBends",void 0),r([o({type:Number,range:{min:0,max:1},json:{write:!0}})],p.prototype,"secondBendRatio",void 0),r([o({type:Boolean,json:{write:!0}})],p.prototype,"separateTimeOverlaps",void 0),r([o({type:Boolean,json:{write:!0}})],p.prototype,"separateTimelineOverlaps",void 0),r([o({type:Number,range:{min:0,max:1},json:{write:!0}})],p.prototype,"separatedLineShapeRatio",void 0),r([o({type:Boolean,json:{write:!0}})],p.prototype,"showDurationLineForNonZeroDurationEntityEvents",void 0),r([o({type:Boolean,json:{write:!0}})],p.prototype,"showNonZeroDurationIntervalBounds",void 0),r([o({type:Boolean,json:{write:!0}})],p.prototype,"spaceSeparatedLinesEvenly",void 0),r([o({type:U,json:{write:!0}})],p.prototype,"timeBannerUTCOffsetInMinutes",void 0),r([o({type:["bottom","left","right","top"],json:{write:!0}})],p.prototype,"timeDirection",void 0),r([o({type:Boolean,json:{write:!0}})],p.prototype,"useBezierCurves",void 0),p=r([v("esri.linkChart.ChronologicalLayoutSettings")],p);const dt=p;let g=class extends f.ClonableMixin(x){constructor(e){super(e),this.absoluteIdealEdgeLength=1,this.autoRepulsionRadius=!0,this.computationBudgetTime=2,this.idealEdgeLengthType="multiplier",this.multiplicativeIdealEdgeLength=1,this.repulsionRadiusMultiplier=1}};r([o({type:Number,range:{min:0,max:360},json:{write:!0}})],g.prototype,"absoluteIdealEdgeLength",void 0),r([o({type:Boolean,json:{write:!0}})],g.prototype,"autoRepulsionRadius",void 0),r([o({type:Number,json:{write:!1}})],g.prototype,"computationBudgetTime",void 0),r([z(tt)],g.prototype,"idealEdgeLengthType",void 0),r([o({type:Number,range:{min:0,max:5},json:{write:!0}})],g.prototype,"multiplicativeIdealEdgeLength",void 0),r([o({type:Number,range:{min:1,max:99},json:{write:!0}})],g.prototype,"repulsionRadiusMultiplier",void 0),g=r([v("esri.linkChart.OrganicLayoutSettings")],g);const ut=g;let L=class extends f.ClonableMixin(x){constructor(t){super(t),this.chronologicalLayoutSettings=null,this.organicLayoutSettings=null}};r([o({type:dt,json:{write:!0}})],L.prototype,"chronologicalLayoutSettings",void 0),r([o({type:ut,json:{write:!0}})],L.prototype,"organicLayoutSettings",void 0),L=r([v("esri.linkChart.LayoutSettings")],L);const W=L;let E=class extends f.ClonableMixin(x){constructor(e){super(e),this.mode="visible"}};r([o({type:["hidden","visible"],json:{write:!0}})],E.prototype,"mode",void 0),E=r([v("esri.linkChart.NonspatialDataDisplay")],E);const F=E;let m=class extends f.ClonableMixin(nt){constructor(t){super(t),this.aggregatedEntitiesUrl=null,this.aggregatedRelationshipsUrl=null,this.autoCollapseRelationships=!0,this.centralityIsUpToDate=!0,this.entitiesUrl=null,this.layoutSettings=null,this.layoutType="organic-standard",this.nonspatialDataDisplay=null,this.relationshipsUrl=null}readEntitiesUrl(t,i,s){return $(t,s)}writeEntitiesUrl(t,i,s,a){var d;const n=a==null?void 0:a.portalItem,u=a==null?void 0:a.resources,c=_(a==null?void 0:a.origin),l=(d=a==null?void 0:a.webmap)==null?void 0:d.activeLinkChartLayer;n&&u&&c!=null&&l&&l.membershipModified?this._saveUrlAsNewResource(i,s,u,n,l):t&&(i[s]=j(t,a))}readRelationshipsUrl(t,i,s){return $(t,s)}writeRelationshipsUrl(t,i,s,a){var d;const n=a==null?void 0:a.portalItem,u=a==null?void 0:a.resources,c=_(a==null?void 0:a.origin),l=(d=a==null?void 0:a.webmap)==null?void 0:d.activeLinkChartLayer;n&&u&&c!=null&&l&&l.membershipModified?this._saveUrlAsNewResource(i,s,u,n,l):t&&(i[s]=j(t,a))}_saveUrlAsNewResource(t,i,s,a,n){t[i]="<pending>";const u=(n.knowledgeGraph.dataModel.relationshipTypes??[]).map(c=>c.name).reduce((c,l)=>{if(!l)return c;const{members:d}=n.dataManager.inclusionModeDefinition.namedTypeDefinitions.get(l)||{members:void 0};if(!d)return c;for(const[b]of d)c.push({id:b,typeName:l});return c},[]);s.pendingOperations.push(new Promise(c=>{it(u,n.knowledgeGraph).then(l=>{gt(n.dataManager.inclusionModeDefinition,i,n.knowledgeGraph,l).then(d=>{const b=wt(a,i==="entitiesUrl"?"entitiesUrl":"relationshipsUrl");t[i]=b.itemRelativeUrl,s.toAdd.push({resource:b,content:{type:"blob",blob:d},compress:!1,finish:R=>{i==="entitiesUrl"?this.entitiesUrl=R.url:this.relationshipsUrl=R.url}}),c()})})}))}};r([o({type:String,json:{write:!0}})],m.prototype,"aggregatedEntitiesUrl",void 0),r([o({type:String,json:{write:!0}})],m.prototype,"aggregatedRelationshipsUrl",void 0),r([o({type:Boolean,json:{write:!0}})],m.prototype,"autoCollapseRelationships",void 0),r([o({type:Boolean,json:{write:!0}})],m.prototype,"centralityIsUpToDate",void 0),r([o({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0}}})],m.prototype,"entitiesUrl",void 0),r([T("entitiesUrl")],m.prototype,"readEntitiesUrl",null),r([I("entitiesUrl")],m.prototype,"writeEntitiesUrl",null),r([o({type:W,json:{write:!0}})],m.prototype,"layoutSettings",void 0),r([o({type:et,json:{write:!0}})],m.prototype,"layoutType",void 0),r([o({type:F,json:{write:!0}})],m.prototype,"nonspatialDataDisplay",void 0),r([o({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0}}})],m.prototype,"relationshipsUrl",void 0),r([T("relationshipsUrl")],m.prototype,"readRelationshipsUrl",null),r([I("relationshipsUrl")],m.prototype,"writeRelationshipsUrl",null),m=r([v("esri.linkChart.LinkChartProperties")],m);const A=m;function wt(e,t){const i=`${t}-${ht()}.dat`,s=pt("linkChart",i);return e.resourceFromPath(s)}async function gt(e,t,i,s){let a;return a=t==="entitiesUrl"?await at(e,i,s):await st(e,i,s),new Blob([a],{type:"application/x-protobuf"})}var D;const vt={currentVersion:lt,createInitialViewProperties:()=>new Q,parseVersion:mt.parse,itemType:"Web Link Chart",name:"linkchart",origin:"link-chart"};let w=D=class extends X{constructor(e){super(e),this.mapType="webLinkChart",this.linkChartProperties=new A}get activeLinkChartLayer(){return this.layers.find(({type:e})=>e==="link-chart")}get context(){return vt}async applyLayout(e="organic-standard",t){var i,s,a,n,u,c,l,d;if(await this.load(),!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return e!=="geographic-organic-standard"||(s=(i=this.basemap)==null?void 0:i.baseLayers)!=null&&s.length||(this.basemap=q.fromId("topo-vector"),await((a=this.basemap)==null?void 0:a.load())),this.linkChartProperties.layoutType=e,(n=t==null?void 0:t.layoutSettings)!=null&&n.chronologicalLayoutSettings&&t.layoutSettings.organicLayoutSettings||!this.linkChartProperties.layoutSettings?this.linkChartProperties.layoutSettings=t==null?void 0:t.layoutSettings:this.linkChartProperties.layoutSettings=new W({organicLayoutSettings:((u=t==null?void 0:t.layoutSettings)==null?void 0:u.organicLayoutSettings)??((c=this.linkChartProperties.layoutSettings)==null?void 0:c.organicLayoutSettings),chronologicalLayoutSettings:((l=t==null?void 0:t.layoutSettings)==null?void 0:l.chronologicalLayoutSettings)??((d=this.linkChartProperties.layoutSettings)==null?void 0:d.chronologicalLayoutSettings)}),this.activeLinkChartLayer.applyNewLinkChartLayout(e,t)}changeNonspatialDataDisplay(e){if(!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");this.linkChartProperties.nonspatialDataDisplay||(this.linkChartProperties.nonspatialDataDisplay=new F),this.linkChartProperties.nonspatialDataDisplay.mode=e}async addRecords(e,t){if(await this.load(),!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.addRecords(e,t)}async removeRecords(e){if(await this.load(),!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.removeRecords(e)}async expand(e,t){if(await this.load(),!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");const i=await this.activeLinkChartLayer.expand(e,t);return(i==null?void 0:i.records)??[]}async refreshLinkChartData(e){if(await this.load(),!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.refreshLinkChartCache(e)}async connectBetweenEntities(e,t){if(await this.load(),!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");const i=await this.activeLinkChartLayer.connectBetweenEntities(e,t);return(i==null?void 0:i.records)??[]}async connectFromEntities(e,t){if(await this.load(),!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");const i=await this.activeLinkChartLayer.connectFromEntities(e,t);return(i==null?void 0:i.records)??[]}getMemberIdsByType(e){var t,i;if(!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return Array.from(((i=(t=this.activeLinkChartLayer)==null?void 0:t.dataManager.sublayerCaches.get(e))==null?void 0:i.keys())??[])}get diagramNodesExtent(){if(!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.linkChartExtent}get entityCount(){if(!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.entityLinkChartDiagramLookup.size}get relationshipCount(){if(!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.relationshipLinkChartDiagramLookup.size}get knowledgeGraph(){var e;if(!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return(e=this.activeLinkChartLayer)==null?void 0:e.knowledgeGraph}add(e,t){var i,s;if(this.activeLinkChartLayer&&"type"in e&&e.type==="link-chart")throw new y("linkchart:one-link-chart-layer","Web Link Charts can only have one Link Chart Layer, another cannot be added");if(super.add(e,t),"type"in e&&e.type==="link-chart"){const a=(i=e.initializationLinkChartConfig)==null?void 0:i.layoutMode;a&&(this.linkChartProperties.layoutType=a);const n=(s=e.initializationLinkChartConfig)==null?void 0:s.layoutSettings;n&&(this.linkChartProperties.layoutSettings=n)}}static fromJSON(e){if(e)return new D({resourceInfo:e});throw new y("linkchart:empty-resource","Expected a JSON resource but got nothing")}handleChronologicalOverlay(){if(!this.activeLinkChartLayer)return;const e=this.activeLinkChartLayer,t=this.findLayerById(rt());if(t&&this.remove(t),this.linkChartProperties.layoutType==="chronological-mono-timeline"||this.linkChartProperties.layoutType==="chronological-multi-timeline"){const i=ot(e);this.add(i,0)}}};r([o({readOnly:!0})],w.prototype,"activeLinkChartLayer",null),r([o({json:{write:{ignoreOrigin:!0}}})],w.prototype,"mapType",void 0),r([o({type:A,nonNullable:!0,json:{write:{ignoreOrigin:!0}}})],w.prototype,"linkChartProperties",void 0),r([o({readOnly:!0})],w.prototype,"diagramNodesExtent",null),r([o({readOnly:!0})],w.prototype,"entityCount",null),r([o({readOnly:!0})],w.prototype,"relationshipCount",null),r([o({readOnly:!0})],w.prototype,"knowledgeGraph",null),w=D=r([v("esri.WebLinkChart")],w);const P=w;let k=class extends ct{constructor(e){super(e),this.map=null,this.view2dType="linkchart",this.addHandles(S(()=>e.map.linkChartProperties.layoutType,t=>{var i;this.spatialReference=t==="geographic-organic-standard"?((i=this.map.basemap)==null?void 0:i.spatialReference)??M.WebMercator:M.WGS84}))}get inGeographicLayout(){var e;return((e=this.map)==null?void 0:e.linkChartProperties.layoutType)==="geographic-organic-standard"}};r([o()],k.prototype,"inGeographicLayout",null),r([o({type:P})],k.prototype,"map",void 0),r([o({readOnly:!0})],k.prototype,"view2dType",void 0),k=r([v("esri.views.LinkChartView")],k);const kt=k;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.12 */const Lt=G`@layer{.arcgis-link-chart{padding:0;margin:0;height:100%;width:100%}}`,Ct=O(P),ft=O(kt),C=class C extends Z{constructor(){super(...arguments),this._center=void 0,this._extent=void 0,this._itemId=void 0,this._scale=void 0,this._viewpoint=void 0,this._zoom=void 0,this._map=Ct(this,{editConstructorProperties:this._editMapProperties}),this.view=ft(this,{editConstructorProperties:this._editViewProperties}),this.allLayerViews=this.view.allLayerViews,this.autoDestroyDisabled=!1,this.background=this.view.background,this.basemap=this._map.basemap,this.basemapView=this.view.basemapView,this.constraints=this.view.constraints,this.displayFilterDisabled=this.view.displayFilterEnabled,this.fatalError=this.view.fatalError,this.graphics=this.view.graphics,this.highlights=this.view.highlights,this.layerViews=this.view.layerViews,this.magnifier=this.view.magnifier,this.map=this.view.map,this.navigation=this.view.navigation,this.padding=this.view.padding,this.popup=this.view.popup,this.popupDisabled=this.view.popupEnabled,this.ready=this.view.ready,this.resizeAlign=this.view.resizeAlign,this.resolution=this.view.resolution,this.rotation=this.view.rotation,this.spatialReference=this.view.spatialReference,this.suspended=this.view.suspended,this.theme=this.view.theme,this.timeExtent=this.view.timeExtent,this.timeZone=this.view.timeZone,this.updating=this.view.updating,this.arcgisViewChange=V(),this.arcgisViewClick=h(()=>this.view,"click"),this.arcgisViewDoubleClick=h(()=>this.view,"double-click"),this.arcgisViewDrag=h(()=>this.view,"drag"),this.arcgisViewHold=h(()=>this.view,"hold"),this.arcgisViewImmediateClick=h(()=>this.view,"immediate-click"),this.arcgisViewImmediateDoubleClick=h(()=>this.view,"immediate-double-click"),this.arcgisViewKeyDown=h(()=>this.view,"key-down"),this.arcgisViewKeyUp=h(()=>this.view,"key-up"),this.arcgisViewLayerviewCreate=h(()=>this.view,"layerview-create"),this.arcgisViewLayerviewCreateError=h(()=>this.view,"layerview-create-error"),this.arcgisViewLayerviewDestroy=h(()=>this.view,"layerview-destroy"),this.arcgisViewMouseWheel=h(()=>this.view,"mouse-wheel"),this.arcgisViewPointerDown=h(()=>this.view,"pointer-down"),this.arcgisViewPointerEnter=h(()=>this.view,"pointer-enter"),this.arcgisViewPointerLeave=h(()=>this.view,"pointer-leave"),this.arcgisViewPointerMove=h(()=>this.view,"pointer-move"),this.arcgisViewPointerUp=h(()=>this.view,"pointer-up"),this.arcgisViewReadyChange=V()}get center(){return this.view.center??this._center}set center(t){const i=B(t,this.ready?this.view:void 0);i&&(this.ready&&(this.view.center=i),this._center=i)}get extent(){return this.view.extent??this._extent}set extent(t){var i;this.view.ready&&!((i=this.extent)!=null&&i.equals(t))&&(this.view.extent=t),this._extent=t}get interacting(){return this.view.interacting}get itemId(){var t;return((t=this._map.portalItem)==null?void 0:t.id)??this._itemId}set itemId(t){this._itemId=t,this.ready?K.reCreate(this._map,this).then(()=>{this.view.map=this._map}).catch(console.error):this.view.ready!=null&&(this._map.destroy(),this._map=new P(this._editMapProperties({portalItem:{id:this._itemId}})),this.view.map=this._map)}get navigating(){return this.view.navigating}get scale(){return this.view.scale??this._scale}set scale(t){this.ready&&(this.view.scale=t),this._scale=t}get stationary(){return this.view.stationary}get viewpoint(){return this.view.viewpoint??this._viewpoint}set viewpoint(t){this.ready&&yt(this.viewpoint,t)&&(this.view.viewpoint=t),this._viewpoint=t}get zoom(){return this.view.zoom??this._zoom}set zoom(t){this.ready&&(this.view.zoom=t),this._zoom=t}async addLayer(t,i){var s;(s=this.map)==null||s.add(t,i)}async addLayers(t,i){var s;(s=this.map)==null||s.addMany(t,i)}async closePopup(){var t;(t=this.view)==null||t.closePopup()}async destroy(){await this.manager.destroy()}async goTo(t,i){var s;return await((s=this.view)==null?void 0:s.goTo(t,i))}async openPopup(t){var i;await((i=this.view)==null?void 0:i.openPopup(t))}toMap(t){return this.view.toMap(t)}toScreen(t,i){return this.view.toScreen(t,i)}async tryFatalErrorRecovery(){var t;(t=this.view)==null||t.tryFatalErrorRecovery()}async whenLayerView(t){var i;return await((i=this.view)==null?void 0:i.whenLayerView(t))}load(){var t;this.el.childElem=document.createElement("div"),this.el.childElem.classList.add("arcgis-link-chart"),this.el.append(this.el.childElem),(t=this.view).container??(t.container=this.el.childElem)}loaded(){this.manager.onLifecycle(()=>[S(()=>this.view.stationary,()=>{this.arcgisViewChange.emit()},{initial:!0}),S(()=>this.view.ready,()=>{this.arcgisViewReadyChange.emit()},{initial:this.view.ready})])}_editMapProperties(t){this.map&&(this._map=this.map),this.itemId&&(t.portalItem={id:this.itemId});const{basemap:i,...s}=t;i||(t=s);const{ground:a,...n}=t;return a||(t=n),t}async _editViewProperties(t){await this.manager.use(this._map),this.view.ui||(t.ui={components:["attribution"]}),t.map??(t.map=this._map);const i=B(this.center,void 0);return i&&(t.center=i),this.viewpoint&&(t.viewpoint=this.viewpoint),this.scale!==void 0&&(t.scale=this.scale),this.extent&&(t.extent=this.extent),this.zoom!==void 0&&(t.zoom=this.zoom),t}};C.properties={_map:16,view:32,allLayerViews:0,autoDestroyDisabled:5,background:0,basemap:1,basemapView:0,center:1,constraints:0,displayFilterDisabled:5,extent:0,fatalError:0,graphics:0,highlights:0,interacting:32,itemId:3,layerViews:0,magnifier:0,map:0,navigating:32,navigation:0,padding:0,popup:0,popupDisabled:5,ready:4,resizeAlign:1,resolution:8,rotation:9,scale:9,spatialReference:0,stationary:32,suspended:7,theme:0,timeExtent:0,timeZone:1,updating:7,viewpoint:0,zoom:9},C.shadowRootOptions=H,C.styles=Lt;let N=C;J("arcgis-link-chart",N);export{N as ArcgisLinkChart};
