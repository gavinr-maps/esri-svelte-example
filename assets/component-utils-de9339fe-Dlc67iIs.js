/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.30/esri/copyright.txt for details.
 * v4.30.7
 */function P(s,a){Array.isArray(a)?s._watchHandles=[...s._watchHandles,...a]:s._watchHandles.push(a)}function T(s){const a=y(s);if(!a){const l=e(s.referenceElement);return l?(f(l,s,!1),l):void 0}return b(a,s.el.parent)||(s.el.parent=a,s.el.childElem&&(s.el.childElem.ownedBy=s.el),a.tagName.toLowerCase()==="arcgis-expand"?E(a,s):a.tagName.toLowerCase()==="arcgis-placement"?C(a,s):f(a,s,!0)),a}function y({el:s}){for(let a=s.parentElement;a;a=(a==null?void 0:a.parentElement)??null){if(g.has(a.tagName.toLowerCase()))return a;if("ownedBy"in a&&a.ownedBy instanceof HTMLElement&&g.has(a.ownedBy.tagName.toLowerCase()))return a.ownedBy}}const g=new Set(["arcgis-map","arcgis-scene","arcgis-expand","arcgis-placement"]);function b(s,a){if(s!==a)return!1;const l=s.tagName.toLowerCase();return l==="arcgis-expand"||l==="arcgis-placement"}function u(s,a,l="arcgisReady"){var t;const d=s;typeof((t=d.view)==null?void 0:t.ready)=="boolean"?a(d.view):s.addEventListener(l,()=>u(s,a,l),{once:!0})}const E=(s,a)=>u(s,l=>{var d,t;a.el.childElem&&typeof s.content=="object"&&((d=s.content)==null||d.append(a.el.childElem)),s.expandIcon=a.icon||((t=a.widget)==null?void 0:t.icon)||s.expandIcon,a.position=s.position,a.el.view=l}),C=(s,a)=>u(s,l=>{a.el.childElem&&a.el.append(a.el.childElem),a.position=s.position,a.el.view=l}),f=(s,a,l)=>u(s,d=>{l?S(s,a):a.el.childElem&&a.el.append(a.el.childElem),a.el.view=d},"arcgisViewReadyChange");function S(s,a){var c;const l=a.el.childElem??a.el,d=[...s.children],t={};for(const i of d){const r=i.getAttribute("position")??"manual";t[r]??(t[r]=[]),t[r].push({child:i,position:r,index:d.indexOf(i)})}const h=(c=t[a.position??"manual"])==null?void 0:c.findIndex(({child:i})=>i===a.el);s.view.ui.remove(l),s.view.ui.add(l,{position:a.position,index:h})}function O(s){let a=!1,l=s.el.view;const d=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(s.el),"view")??{get:()=>l,set:t=>l=t};Object.defineProperty(s.el,"view",{get:d.get.bind(s),set:t=>{d.set.call(s,t),t&&!a&&(a=!0,s.arcgisReady.emit())},configurable:!0,enumerable:!0}),l&&(s.el.view=l)}function x(s){return s==null||s===""}function L(s,a){return a===void 0||s.position!==a.position||s.heading!==a.heading||s.tilt!==a.tilt}function H(s,a){return a===void 0||(a==null?void 0:a.atmosphereEnabled)!==(s==null?void 0:s.atmosphereEnabled)||(a==null?void 0:a.lighting).date!==(s==null?void 0:s.lighting).date||(a==null?void 0:a.lighting).directShadowsEnabled!==(s==null?void 0:s.lighting).directShadowsEnabled||(a==null?void 0:a.lighting).cameraTrackingEnabled!==(s==null?void 0:s.lighting).cameraTrackingEnabled||(a==null?void 0:a.lighting).date!==(s==null?void 0:s.lighting).date||(a==null?void 0:a.lighting).displayUTCOffset!==(s==null?void 0:s.lighting).displayUTCOffset}function A(s,a){return a===void 0||(s==null?void 0:s.targetGeometry)!==(a==null?void 0:a.targetGeometry)||(s==null?void 0:s.rotation)!==(a==null?void 0:a.rotation)||(s==null?void 0:s.scale)!==(a==null?void 0:a.scale)}function B(s,a){if(typeof s=="string"){const l=s.split(",").map(Number);if(l[0]!==(a==null?void 0:a.center.longitude)&&l[1]!==(a==null?void 0:a.center.latitude))return l}else if(Array.isArray(s)){if(s[0]!==(a==null?void 0:a.center.longitude)&&s[1]!==(a==null?void 0:a.center.latitude))return s}else if(s&&!(a!=null&&a.center.equals(s)))return s}async function j(s,a){a!=null&&(typeof a=="string"?s.el.view=await N(a):s.widget&&(s.el.view=a.view))}async function N(s){const a=e(s);return await new Promise(l=>{var d;typeof((d=a==null?void 0:a.view)==null?void 0:d.ready)=="boolean"?l(a.view):a&&a.addEventListener("arcgisViewReadyChange",()=>l(a.view),{once:!0})})}function e(s){return typeof s!="string"?s??void 0:(s.includes("#")||s.includes(".")||s.includes("[")?void 0:document.querySelector(`#${s}`))??document.querySelector(s)??void 0}export{x as a,T as b,L as c,O as d,H as e,P as f,A as i,B as p,j as r};
