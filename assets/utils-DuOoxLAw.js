import{s as d,P as l}from"./cast-CsZslgGN.js";async function f(e,r,t){var o,c;if(!((o=d)==null?void 0:o.findCredential(e.restUrl)))return null;if(e.loadStatus==="loaded"&&r===""&&((c=e.user)!=null&&c.sourceJSON)&&t===!1)return e.user.sourceJSON;const n={responseType:"json",query:{f:"json"}};if(t&&(n.query.returnUserLicenseTypeExtensions=!0),r===""){const u=await l(e.restUrl+"/community/self",n);if(u.data){const a=u.data;if(a!=null&&a.username)return a}return null}const i=await l(e.restUrl+"/community/users/"+r,n);if(i.data){const u=i.data;return u.error?null:u}return null}async function m(e,r,t){var n;const s=await f(e,r,!0);return((n=s==null?void 0:s.privileges)==null?void 0:n.includes(t))??!1}async function p(e,r,t){var n;const s=await f(e,r,!0);return((n=s==null?void 0:s.userLicenseTypeExtensions)==null?void 0:n.includes(t))??!1}export{f as r,p as s,m as t};
