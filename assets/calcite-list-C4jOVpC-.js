import{p as ut,H as pt,h as b,a as gn,c as le,D as vn}from"./jsxFactory-CJa39Fro.js";import{e as de,t as bn}from"./dom-D_AJDzAj.js";import{u as Lt,I as Ot}from"./interactive-y84HQRWL.js";import{c as En}from"./observers-D2xgmA06.js";import{M as yn}from"./resources4-DXHY1U7R.js";import{u as Sn,a as Cn}from"./utils3-BrU6GrkI.js";import{s as Ft,a as Pt,c as kt}from"./loadable-DM18hPdE.js";import{u as Mt,s as Nt,c as Rt,d as Ht}from"./t9n-D0ry3MEw.js";import{c as zt,d as Xt,n as Et}from"./locale-A4FuYD8q.js";import{f as yt}from"./filter-yN6-jZOU.js";import{d as Yt}from"./icon-BQO9J86c.js";import{d as Bt}from"./input2-BReyTnf4.js";import{d as Gt}from"./input-message-CWvsvdFk.js";import{d as Wt}from"./progress-BXyickl_.js";import{d as $t}from"./debounce-BOqmhDXu.js";import{d as In}from"./loader-C-zIPscB.js";import{d as wn}from"./scrim-DPa2aeKh.js";import"./tslib.es6-B3Jf3DVX.js";import"./intl-CChhNOV8.js";import"./date-DlqISzcw.js";import"./jsonMap-0cxwUWs2.js";import"./subclass-BZA_h8Db.js";import"./locale-C9TlLpzi.js";import"./messages-OmQvZhAg.js";import"./Accessor-BLX9ikPh.js";import"./assets-C43MgM-v.js";import"./index-Bh2oEzTI.js";import"./Evented-BHRw9x22.js";import"./Promise-B2Hu02L7.js";import"./reactiveUtils-C5zUhJQJ.js";import"./asyncUtils-CWX51uTe.js";import"./Collection-CEdjem1-.js";import"./shared-B3wH2qpO.js";import"./SimpleObservable-KocWTzVy.js";import"./uuid-fwrPAdZb.js";import"./cast-Bjksrh93.js";import"./key-D63ExP77.js";import"./form-BZPQ5PUM.js";import"./label-DEe8AW1C.js";import"./component-6CIDVndn.js";import"./Validation-Bz9yoU6e.js";import"./input-j1u1wOBY.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 *//**!
 * Sortable 1.15.3
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function St(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,n)}return t}function $(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?St(Object(t),!0).forEach(function(n){Dn(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):St(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Xe(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xe=function(e){return typeof e}:Xe=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(i)}function Dn(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function q(){return q=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},q.apply(this,arguments)}function _n(i,e){if(i==null)return{};var t={},n=Object.keys(i),a,r;for(r=0;r<n.length;r++)a=n[r],!(e.indexOf(a)>=0)&&(t[a]=i[a]);return t}function xn(i,e){if(i==null)return{};var t=_n(i,e),n,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(t[n]=i[n])}return t}var Tn="1.15.3";function K(i){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(i)}var V=K(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Fe=K(/Edge/i),Ct=K(/firefox/i),xe=K(/safari/i)&&!K(/chrome/i)&&!K(/android/i),Ut=K(/iP(ad|od|hone)/i),jt=K(/chrome/i)&&K(/android/i),Kt={capture:!1,passive:!1};function C(i,e,t){i.addEventListener(e,t,!V&&Kt)}function S(i,e,t){i.removeEventListener(e,t,!V&&Kt)}function $e(i,e){if(e){if(e[0]===">"&&(e=e.substring(1)),i)try{if(i.matches)return i.matches(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e)}catch{return!1}return!1}}function qt(i){return i.host&&i!==document&&i.host.nodeType?i.host:i.parentNode}function B(i,e,t,n){if(i){t=t||document;do{if(e!=null&&(e[0]===">"?i.parentNode===t&&$e(i,e):$e(i,e))||n&&i===t)return i;if(i===t)break}while(i=qt(i))}return null}var It=/\s+/g;function N(i,e,t){if(i&&e)if(i.classList)i.classList[t?"add":"remove"](e);else{var n=(" "+i.className+" ").replace(It," ").replace(" "+e+" "," ");i.className=(n+(t?" "+e:"")).replace(It," ")}}function u(i,e,t){var n=i&&i.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(t=i.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function ve(i,e){var t="";if(typeof i=="string")t=i;else do{var n=u(i,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(i=i.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function Vt(i,e,t){if(i){var n=i.getElementsByTagName(e),a=0,r=n.length;if(t)for(;a<r;a++)t(n[a],a);return n}return[]}function W(){var i=document.scrollingElement;return i||document.documentElement}function x(i,e,t,n,a){if(!(!i.getBoundingClientRect&&i!==window)){var r,o,s,l,c,f,h;if(i!==window&&i.parentNode&&i!==W()?(r=i.getBoundingClientRect(),o=r.top,s=r.left,l=r.bottom,c=r.right,f=r.height,h=r.width):(o=0,s=0,l=window.innerHeight,c=window.innerWidth,f=window.innerHeight,h=window.innerWidth),(e||t)&&i!==window&&(a=a||i.parentNode,!V))do if(a&&a.getBoundingClientRect&&(u(a,"transform")!=="none"||t&&u(a,"position")!=="static")){var g=a.getBoundingClientRect();o-=g.top+parseInt(u(a,"border-top-width")),s-=g.left+parseInt(u(a,"border-left-width")),l=o+r.height,c=s+r.width;break}while(a=a.parentNode);if(n&&i!==window){var E=ve(a||i),y=E&&E.a,v=E&&E.d;E&&(o/=v,s/=y,h/=y,f/=v,l=o+f,c=s+h)}return{top:o,left:s,bottom:l,right:c,width:h,height:f}}}function wt(i,e,t){for(var n=ne(i,!0),a=x(i)[e];n;){var r=x(n)[t],o=void 0;if(o=a>=r,!o)return n;if(n===W())break;n=ne(n,!1)}return!1}function be(i,e,t,n){for(var a=0,r=0,o=i.children;r<o.length;){if(o[r].style.display!=="none"&&o[r]!==p.ghost&&(n||o[r]!==p.dragged)&&B(o[r],t.draggable,i,!1)){if(a===e)return o[r];a++}r++}return null}function mt(i,e){for(var t=i.lastElementChild;t&&(t===p.ghost||u(t,"display")==="none"||e&&!$e(t,e));)t=t.previousElementSibling;return t||null}function H(i,e){var t=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==p.clone&&(!e||$e(i,e))&&t++;return t}function Dt(i){var e=0,t=0,n=W();if(i)do{var a=ve(i),r=a.a,o=a.d;e+=i.scrollLeft*r,t+=i.scrollTop*o}while(i!==n&&(i=i.parentNode));return[e,t]}function An(i,e){for(var t in i)if(i.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===i[t][n])return Number(t)}return-1}function ne(i,e){if(!i||!i.getBoundingClientRect)return W();var t=i,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=u(t);if(t.clientWidth<t.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return W();if(n||e)return t;n=!0}}while(t=t.parentNode);return W()}function Ln(i,e){if(i&&e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function Qe(i,e){return Math.round(i.top)===Math.round(e.top)&&Math.round(i.left)===Math.round(e.left)&&Math.round(i.height)===Math.round(e.height)&&Math.round(i.width)===Math.round(e.width)}var Te;function Zt(i,e){return function(){if(!Te){var t=arguments,n=this;t.length===1?i.call(n,t[0]):i.apply(n,t),Te=setTimeout(function(){Te=void 0},e)}}}function On(){clearTimeout(Te),Te=void 0}function Qt(i,e,t){i.scrollLeft+=e,i.scrollTop+=t}function Jt(i){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(i).cloneNode(!0):t?t(i).clone(!0)[0]:i.cloneNode(!0)}function en(i,e,t){var n={};return Array.from(i.children).forEach(function(a){var r,o,s,l;if(!(!B(a,e.draggable,i,!1)||a.animated||a===t)){var c=x(a);n.left=Math.min((r=n.left)!==null&&r!==void 0?r:1/0,c.left),n.top=Math.min((o=n.top)!==null&&o!==void 0?o:1/0,c.top),n.right=Math.max((s=n.right)!==null&&s!==void 0?s:-1/0,c.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var P="Sortable"+new Date().getTime();function Fn(){var i=[],e;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(a){if(!(u(a,"display")==="none"||a===p.ghost)){i.push({target:a,rect:x(a)});var r=$({},i[i.length-1].rect);if(a.thisAnimationDuration){var o=ve(a,!0);o&&(r.top-=o.f,r.left-=o.e)}a.fromRect=r}})}},addAnimationState:function(n){i.push(n)},removeAnimationState:function(n){i.splice(An(i,{target:n}),1)},animateAll:function(n){var a=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,o=0;i.forEach(function(s){var l=0,c=s.target,f=c.fromRect,h=x(c),g=c.prevFromRect,E=c.prevToRect,y=s.rect,v=ve(c,!0);v&&(h.top-=v.f,h.left-=v.e),c.toRect=h,c.thisAnimationDuration&&Qe(g,h)&&!Qe(f,h)&&(y.top-h.top)/(y.left-h.left)===(f.top-h.top)/(f.left-h.left)&&(l=kn(y,g,E,a.options)),Qe(h,f)||(c.prevFromRect=f,c.prevToRect=h,l||(l=a.options.animation),a.animate(c,y,h,l)),l&&(r=!0,o=Math.max(o,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},o):typeof n=="function"&&n(),i=[]},animate:function(n,a,r,o){if(o){u(n,"transition",""),u(n,"transform","");var s=ve(this.el),l=s&&s.a,c=s&&s.d,f=(a.left-r.left)/(l||1),h=(a.top-r.top)/(c||1);n.animatingX=!!f,n.animatingY=!!h,u(n,"transform","translate3d("+f+"px,"+h+"px,0)"),this.forRepaintDummy=Pn(n),u(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),u(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){u(n,"transition",""),u(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},o)}}}}function Pn(i){return i.offsetWidth}function kn(i,e,t,n){return Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var he=[],Je={initializeByDefault:!0},Pe={mount:function(e){for(var t in Je)Je.hasOwnProperty(t)&&!(t in e)&&(e[t]=Je[t]);he.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),he.push(e)},pluginEvent:function(e,t,n){var a=this;this.eventCanceled=!1,n.cancel=function(){a.eventCanceled=!0};var r=e+"Global";he.forEach(function(o){t[o.pluginName]&&(t[o.pluginName][r]&&t[o.pluginName][r]($({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e]($({sortable:t},n)))})},initializePlugins:function(e,t,n,a){he.forEach(function(s){var l=s.pluginName;if(!(!e.options[l]&&!s.initializeByDefault)){var c=new s(e,t,e.options);c.sortable=e,c.options=e.options,e[l]=c,q(n,c.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var o=this.modifyOption(e,r,e.options[r]);typeof o<"u"&&(e.options[r]=o)}},getEventProperties:function(e,t){var n={};return he.forEach(function(a){typeof a.eventProperties=="function"&&q(n,a.eventProperties.call(t[a.pluginName],e))}),n},modifyOption:function(e,t,n){var a;return he.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(a=r.optionListeners[t].call(e[r.pluginName],n))}),a}};function Mn(i){var e=i.sortable,t=i.rootEl,n=i.name,a=i.targetEl,r=i.cloneEl,o=i.toEl,s=i.fromEl,l=i.oldIndex,c=i.newIndex,f=i.oldDraggableIndex,h=i.newDraggableIndex,g=i.originalEvent,E=i.putSortable,y=i.extraEventProperties;if(e=e||t&&t[P],!!e){var v,z=e.options,U="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!V&&!Fe?v=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(n,!0,!0)),v.to=o||t,v.from=s||t,v.item=a||t,v.clone=r,v.oldIndex=l,v.newIndex=c,v.oldDraggableIndex=f,v.newDraggableIndex=h,v.originalEvent=g,v.pullMode=E?E.lastPutMode:void 0;var L=$($({},y),Pe.getEventProperties(n,e));for(var X in L)v[X]=L[X];t&&t.dispatchEvent(v),z[U]&&z[U].call(e,v)}}var Nn=["evt"],F=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.evt,r=xn(n,Nn);Pe.pluginEvent.bind(p)(e,t,$({dragEl:d,parentEl:D,ghostEl:m,rootEl:I,nextEl:ce,lastDownEl:Ye,cloneEl:w,cloneHidden:te,dragStarted:we,putSortable:T,activeSortable:p.active,originalEvent:a,oldIndex:me,oldDraggableIndex:Ae,newIndex:R,newDraggableIndex:ee,hideGhostForTarget:rn,unhideGhostForTarget:on,cloneNowHidden:function(){te=!0},cloneNowShown:function(){te=!1},dispatchSortableEvent:function(s){O({sortable:t,name:s,originalEvent:a})}},r))};function O(i){Mn($({putSortable:T,cloneEl:w,targetEl:d,rootEl:I,oldIndex:me,oldDraggableIndex:Ae,newIndex:R,newDraggableIndex:ee},i))}var d,D,m,I,ce,Ye,w,te,me,R,Ae,ee,Me,T,pe=!1,Ue=!1,je=[],oe,Y,et,tt,_t,xt,we,fe,Le,Oe=!1,Ne=!1,Be,A,nt=[],lt=!1,Ke=[],Ve=typeof document<"u",Re=Ut,Tt=Fe||V?"cssFloat":"float",Rn=Ve&&!jt&&!Ut&&"draggable"in document.createElement("div"),tn=function(){if(Ve){if(V)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}}(),nn=function(e,t){var n=u(e),a=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=be(e,0,t),o=be(e,1,t),s=r&&u(r),l=o&&u(o),c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+x(r).width,f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+x(o).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s.float&&s.float!=="none"){var h=s.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return r&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||c>=a&&n[Tt]==="none"||o&&n[Tt]==="none"&&c+f>a)?"vertical":"horizontal"},Hn=function(e,t,n){var a=n?e.left:e.top,r=n?e.right:e.bottom,o=n?e.width:e.height,s=n?t.left:t.top,l=n?t.right:t.bottom,c=n?t.width:t.height;return a===s||r===l||a+o/2===s+c/2},zn=function(e,t){var n;return je.some(function(a){var r=a[P].options.emptyInsertThreshold;if(!(!r||mt(a))){var o=x(a),s=e>=o.left-r&&e<=o.right+r,l=t>=o.top-r&&t<=o.bottom+r;if(s&&l)return n=a}}),n},an=function(e){function t(r,o){return function(s,l,c,f){var h=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(r==null&&(o||h))return!0;if(r==null||r===!1)return!1;if(o&&r==="clone")return r;if(typeof r=="function")return t(r(s,l,c,f),o)(s,l,c,f);var g=(o?s:l).options.group.name;return r===!0||typeof r=="string"&&r===g||r.join&&r.indexOf(g)>-1}}var n={},a=e.group;(!a||Xe(a)!="object")&&(a={name:a}),n.name=a.name,n.checkPull=t(a.pull,!0),n.checkPut=t(a.put),n.revertClone=a.revertClone,e.group=n},rn=function(){!tn&&m&&u(m,"display","none")},on=function(){!tn&&m&&u(m,"display","")};Ve&&!jt&&document.addEventListener("click",function(i){if(Ue)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),Ue=!1,!1},!0);var se=function(e){if(d){e=e.touches?e.touches[0]:e;var t=zn(e.clientX,e.clientY);if(t){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[P]._onDragOver(n)}}},Xn=function(e){d&&d.parentNode[P]._isOutsideThisEl(e.target)};function p(i,e){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=e=q({},e),i[P]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return nn(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,s){o.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&!xe,emptyInsertThreshold:5};Pe.initializePlugins(this,i,t);for(var n in t)!(n in e)&&(e[n]=t[n]);an(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:Rn,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?C(i,"pointerdown",this._onTapStart):(C(i,"mousedown",this._onTapStart),C(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(C(i,"dragover",this),C(i,"dragenter",this)),je.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),q(this,Fn())}p.prototype={constructor:p,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(fe=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,d):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,a=this.options,r=a.preventOnFilter,o=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(s||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,f=a.filter;if(Kn(n),!d&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||a.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&xe&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=B(l,a.draggable,n,!1),!(l&&l.animated)&&Ye!==l)){if(me=H(l),Ae=H(l,a.draggable),typeof f=="function"){if(f.call(this,e,l,this)){O({sortable:t,rootEl:c,name:"filter",targetEl:l,toEl:n,fromEl:n}),F("filter",t,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(h){if(h=B(c,h.trim(),n,!1),h)return O({sortable:t,rootEl:h,name:"filter",targetEl:l,fromEl:n,toEl:n}),F("filter",t,{evt:e}),!0}),f)){r&&e.cancelable&&e.preventDefault();return}a.handle&&!B(c,a.handle,n,!1)||this._prepareDragStart(e,s,l)}}},_prepareDragStart:function(e,t,n){var a=this,r=a.el,o=a.options,s=r.ownerDocument,l;if(n&&!d&&n.parentNode===r){var c=x(n);if(I=r,d=n,D=d.parentNode,ce=d.nextSibling,Ye=n,Me=o.group,p.dragged=d,oe={target:d,clientX:(t||e).clientX,clientY:(t||e).clientY},_t=oe.clientX-c.left,xt=oe.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,d.style["will-change"]="all",l=function(){if(F("delayEnded",a,{evt:e}),p.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Ct&&a.nativeDraggable&&(d.draggable=!0),a._triggerDragStart(e,t),O({sortable:a,name:"choose",originalEvent:e}),N(d,o.chosenClass,!0)},o.ignore.split(",").forEach(function(f){Vt(d,f.trim(),it)}),C(s,"dragover",se),C(s,"mousemove",se),C(s,"touchmove",se),C(s,"mouseup",a._onDrop),C(s,"touchend",a._onDrop),C(s,"touchcancel",a._onDrop),Ct&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),F("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Fe||V))){if(p.eventCanceled){this._onDrop();return}C(s,"mouseup",a._disableDelayedDrag),C(s,"touchend",a._disableDelayedDrag),C(s,"touchcancel",a._disableDelayedDrag),C(s,"mousemove",a._delayedDragTouchMoveHandler),C(s,"touchmove",a._delayedDragTouchMoveHandler),o.supportPointer&&C(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&it(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._disableDelayedDrag),S(e,"touchend",this._disableDelayedDrag),S(e,"touchcancel",this._disableDelayedDrag),S(e,"mousemove",this._delayedDragTouchMoveHandler),S(e,"touchmove",this._delayedDragTouchMoveHandler),S(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?C(document,"pointermove",this._onTouchMove):t?C(document,"touchmove",this._onTouchMove):C(document,"mousemove",this._onTouchMove):(C(d,"dragend",this),C(I,"dragstart",this._onDragStart));try{document.selection?Ge(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(pe=!1,I&&d){F("dragStarted",this,{evt:t}),this.nativeDraggable&&C(document,"dragover",Xn);var n=this.options;!e&&N(d,n.dragClass,!1),N(d,n.ghostClass,!0),p.active=this,e&&this._appendGhost(),O({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Y){this._lastX=Y.clientX,this._lastY=Y.clientY,rn();for(var e=document.elementFromPoint(Y.clientX,Y.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Y.clientX,Y.clientY),e!==t);)t=e;if(d.parentNode[P]._isOutsideThisEl(e),t)do{if(t[P]){var n=void 0;if(n=t[P]._onDragOver({clientX:Y.clientX,clientY:Y.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=qt(t));on()}},_onTouchMove:function(e){if(oe){var t=this.options,n=t.fallbackTolerance,a=t.fallbackOffset,r=e.touches?e.touches[0]:e,o=m&&ve(m,!0),s=m&&o&&o.a,l=m&&o&&o.d,c=Re&&A&&Dt(A),f=(r.clientX-oe.clientX+a.x)/(s||1)+(c?c[0]-nt[0]:0)/(s||1),h=(r.clientY-oe.clientY+a.y)/(l||1)+(c?c[1]-nt[1]:0)/(l||1);if(!p.active&&!pe){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(m){o?(o.e+=f-(et||0),o.f+=h-(tt||0)):o={a:1,b:0,c:0,d:1,e:f,f:h};var g="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");u(m,"webkitTransform",g),u(m,"mozTransform",g),u(m,"msTransform",g),u(m,"transform",g),et=f,tt=h,Y=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!m){var e=this.options.fallbackOnBody?document.body:I,t=x(d,!0,Re,!0,e),n=this.options;if(Re){for(A=e;u(A,"position")==="static"&&u(A,"transform")==="none"&&A!==document;)A=A.parentNode;A!==document.body&&A!==document.documentElement?(A===document&&(A=W()),t.top+=A.scrollTop,t.left+=A.scrollLeft):A=W(),nt=Dt(A)}m=d.cloneNode(!0),N(m,n.ghostClass,!1),N(m,n.fallbackClass,!0),N(m,n.dragClass,!0),u(m,"transition",""),u(m,"transform",""),u(m,"box-sizing","border-box"),u(m,"margin",0),u(m,"top",t.top),u(m,"left",t.left),u(m,"width",t.width),u(m,"height",t.height),u(m,"opacity","0.8"),u(m,"position",Re?"absolute":"fixed"),u(m,"zIndex","100000"),u(m,"pointerEvents","none"),p.ghost=m,e.appendChild(m),u(m,"transform-origin",_t/parseInt(m.style.width)*100+"% "+xt/parseInt(m.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,a=e.dataTransfer,r=n.options;if(F("dragStart",this,{evt:e}),p.eventCanceled){this._onDrop();return}F("setupClone",this),p.eventCanceled||(w=Jt(d),w.removeAttribute("id"),w.draggable=!1,w.style["will-change"]="",this._hideClone(),N(w,this.options.chosenClass,!1),p.clone=w),n.cloneId=Ge(function(){F("clone",n),!p.eventCanceled&&(n.options.removeCloneOnHide||I.insertBefore(w,d),n._hideClone(),O({sortable:n,name:"clone"}))}),!t&&N(d,r.dragClass,!0),t?(Ue=!0,n._loopId=setInterval(n._emulateDragOver,50)):(S(document,"mouseup",n._onDrop),S(document,"touchend",n._onDrop),S(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",r.setData&&r.setData.call(n,a,d)),C(document,"drop",n),u(d,"transform","translateZ(0)")),pe=!0,n._dragStartId=Ge(n._dragStarted.bind(n,t,e)),C(document,"selectstart",n),we=!0,xe&&u(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,a,r,o,s=this.options,l=s.group,c=p.active,f=Me===l,h=s.sort,g=T||c,E,y=this,v=!1;if(lt)return;function z(Ie,pn){F(Ie,y,$({evt:e,isOwner:f,axis:E?"vertical":"horizontal",revert:o,dragRect:a,targetRect:r,canSort:h,fromSortable:g,target:n,completed:L,onMove:function(bt,mn){return He(I,t,d,a,bt,x(bt),e,mn)},changed:X},pn))}function U(){z("dragOverAnimationCapture"),y.captureAnimationState(),y!==g&&g.captureAnimationState()}function L(Ie){return z("dragOverCompleted",{insertion:Ie}),Ie&&(f?c._hideClone():c._showClone(y),y!==g&&(N(d,T?T.options.ghostClass:c.options.ghostClass,!1),N(d,s.ghostClass,!0)),T!==y&&y!==p.active?T=y:y===p.active&&T&&(T=null),g===y&&(y._ignoreWhileAnimating=n),y.animateAll(function(){z("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(n===d&&!d.animated||n===t&&!n.animated)&&(fe=null),!s.dragoverBubble&&!e.rootEl&&n!==document&&(d.parentNode[P]._isOutsideThisEl(e.target),!Ie&&se(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),v=!0}function X(){R=H(d),ee=H(d,s.draggable),O({sortable:y,name:"change",toEl:t,newIndex:R,newDraggableIndex:ee,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=B(n,s.draggable,t,!0),z("dragOver"),p.eventCanceled)return v;if(d.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||y._ignoreWhileAnimating===n)return L(!1);if(Ue=!1,c&&!s.disabled&&(f?h||(o=D!==I):T===this||(this.lastPutMode=Me.checkPull(this,c,d,e))&&l.checkPut(this,c,d,e))){if(E=this._getDirection(e,n)==="vertical",a=x(d),z("dragOverValid"),p.eventCanceled)return v;if(o)return D=I,U(),this._hideClone(),z("revert"),p.eventCanceled||(ce?I.insertBefore(d,ce):I.appendChild(d)),L(!0);var k=mt(t,s.draggable);if(!k||Wn(e,E,this)&&!k.animated){if(k===d)return L(!1);if(k&&t===e.target&&(n=k),n&&(r=x(n)),He(I,t,d,a,n,r,e,!!n)!==!1)return U(),k&&k.nextSibling?t.insertBefore(d,k.nextSibling):t.appendChild(d),D=t,X(),L(!0)}else if(k&&Gn(e,E,this)){var ie=be(t,0,s,!0);if(ie===d)return L(!1);if(n=ie,r=x(n),He(I,t,d,a,n,r,e,!1)!==!1)return U(),t.insertBefore(d,ie),D=t,X(),L(!0)}else if(n.parentNode===t){r=x(n);var G=0,ae,Ee=d.parentNode!==t,M=!Hn(d.animated&&d.toRect||a,n.animated&&n.toRect||r,E),ye=E?"top":"left",Z=wt(n,"top","top")||wt(d,"top","top"),Se=Z?Z.scrollTop:void 0;fe!==n&&(ae=r[ye],Oe=!1,Ne=!M&&s.invertSwap||Ee),G=$n(e,n,r,E,M?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Ne,fe===n);var j;if(G!==0){var re=H(d);do re-=G,j=D.children[re];while(j&&(u(j,"display")==="none"||j===m))}if(G===0||j===n)return L(!1);fe=n,Le=G;var Ce=n.nextElementSibling,Q=!1;Q=G===1;var ke=He(I,t,d,a,n,r,e,Q);if(ke!==!1)return(ke===1||ke===-1)&&(Q=ke===1),lt=!0,setTimeout(Bn,30),U(),Q&&!Ce?t.appendChild(d):n.parentNode.insertBefore(d,Q?Ce:n),Z&&Qt(Z,0,Se-Z.scrollTop),D=d.parentNode,ae!==void 0&&!Ne&&(Be=Math.abs(ae-x(n)[ye])),X(),L(!0)}if(t.contains(d))return L(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){S(document,"mousemove",this._onTouchMove),S(document,"touchmove",this._onTouchMove),S(document,"pointermove",this._onTouchMove),S(document,"dragover",se),S(document,"mousemove",se),S(document,"touchmove",se)},_offUpEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._onDrop),S(e,"touchend",this._onDrop),S(e,"pointerup",this._onDrop),S(e,"touchcancel",this._onDrop),S(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(R=H(d),ee=H(d,n.draggable),F("drop",this,{evt:e}),D=d&&d.parentNode,R=H(d),ee=H(d,n.draggable),p.eventCanceled){this._nulling();return}pe=!1,Ne=!1,Oe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ct(this.cloneId),ct(this._dragStartId),this.nativeDraggable&&(S(document,"drop",this),S(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),xe&&u(document.body,"user-select",""),u(d,"transform",""),e&&(we&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),m&&m.parentNode&&m.parentNode.removeChild(m),(I===D||T&&T.lastPutMode!=="clone")&&w&&w.parentNode&&w.parentNode.removeChild(w),d&&(this.nativeDraggable&&S(d,"dragend",this),it(d),d.style["will-change"]="",we&&!pe&&N(d,T?T.options.ghostClass:this.options.ghostClass,!1),N(d,this.options.chosenClass,!1),O({sortable:this,name:"unchoose",toEl:D,newIndex:null,newDraggableIndex:null,originalEvent:e}),I!==D?(R>=0&&(O({rootEl:D,name:"add",toEl:D,fromEl:I,originalEvent:e}),O({sortable:this,name:"remove",toEl:D,originalEvent:e}),O({rootEl:D,name:"sort",toEl:D,fromEl:I,originalEvent:e}),O({sortable:this,name:"sort",toEl:D,originalEvent:e})),T&&T.save()):R!==me&&R>=0&&(O({sortable:this,name:"update",toEl:D,originalEvent:e}),O({sortable:this,name:"sort",toEl:D,originalEvent:e})),p.active&&((R==null||R===-1)&&(R=me,ee=Ae),O({sortable:this,name:"end",toEl:D,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){F("nulling",this),I=d=D=m=ce=w=Ye=te=oe=Y=we=R=ee=me=Ae=fe=Le=T=Me=p.dragged=p.ghost=p.clone=p.active=null,Ke.forEach(function(e){e.checked=!0}),Ke.length=et=tt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":d&&(this._onDragOver(e),Yn(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,a=0,r=n.length,o=this.options;a<r;a++)t=n[a],B(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||jn(t));return e},sort:function(e,t){var n={},a=this.el;this.toArray().forEach(function(r,o){var s=a.children[o];B(s,this.options.draggable,a,!1)&&(n[r]=s)},this),t&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(a.removeChild(n[r]),a.appendChild(n[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return B(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var a=Pe.modifyOption(this,e,t);typeof a<"u"?n[e]=a:n[e]=t,e==="group"&&an(n)},destroy:function(){F("destroy",this);var e=this.el;e[P]=null,S(e,"mousedown",this._onTapStart),S(e,"touchstart",this._onTapStart),S(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(S(e,"dragover",this),S(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),je.splice(je.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!te){if(F("hideClone",this),p.eventCanceled)return;u(w,"display","none"),this.options.removeCloneOnHide&&w.parentNode&&w.parentNode.removeChild(w),te=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(te){if(F("showClone",this),p.eventCanceled)return;d.parentNode==I&&!this.options.group.revertClone?I.insertBefore(w,d):ce?I.insertBefore(w,ce):I.appendChild(w),this.options.group.revertClone&&this.animate(d,w),u(w,"display",""),te=!1}}};function Yn(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function He(i,e,t,n,a,r,o,s){var l,c=i[P],f=c.options.onMove,h;return window.CustomEvent&&!V&&!Fe?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=i,l.dragged=t,l.draggedRect=n,l.related=a||e,l.relatedRect=r||x(e),l.willInsertAfter=s,l.originalEvent=o,i.dispatchEvent(l),f&&(h=f.call(c,l,o)),h}function it(i){i.draggable=!1}function Bn(){lt=!1}function Gn(i,e,t){var n=x(be(t.el,0,t.options,!0)),a=en(t.el,t.options,m),r=10;return e?i.clientX<a.left-r||i.clientY<n.top&&i.clientX<n.right:i.clientY<a.top-r||i.clientY<n.bottom&&i.clientX<n.left}function Wn(i,e,t){var n=x(mt(t.el,t.options.draggable)),a=en(t.el,t.options,m),r=10;return e?i.clientX>a.right+r||i.clientY>n.bottom&&i.clientX>n.left:i.clientY>a.bottom+r||i.clientX>n.right&&i.clientY>n.top}function $n(i,e,t,n,a,r,o,s){var l=n?i.clientY:i.clientX,c=n?t.height:t.width,f=n?t.top:t.left,h=n?t.bottom:t.right,g=!1;if(!o){if(s&&Be<c*a){if(!Oe&&(Le===1?l>f+c*r/2:l<h-c*r/2)&&(Oe=!0),Oe)g=!0;else if(Le===1?l<f+Be:l>h-Be)return-Le}else if(l>f+c*(1-a)/2&&l<h-c*(1-a)/2)return Un(e)}return g=g||o,g&&(l<f+c*r/2||l>h-c*r/2)?l>f+c/2?1:-1:0}function Un(i){return H(d)<H(i)?1:-1}function jn(i){for(var e=i.tagName+i.className+i.src+i.href+i.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function Kn(i){Ke.length=0;for(var e=i.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&Ke.push(n)}}function Ge(i){return setTimeout(i,0)}function ct(i){return clearTimeout(i)}Ve&&C(document,"touchmove",function(i){(p.active||pe)&&i.cancelable&&i.preventDefault()});p.utils={on:C,off:S,css:u,find:Vt,is:function(e,t){return!!B(e,t,e,!1)},extend:Ln,throttle:Zt,closest:B,toggleClass:N,clone:Jt,index:H,nextTick:Ge,cancelNextTick:ct,detectDirection:nn,getChild:be,expando:P};p.get=function(i){return i[P]};p.mount=function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(p.utils=$($({},p.utils),n.utils)),Pe.mount(n)})};p.create=function(i,e){return new p(i,e)};p.version=Tn;var _=[],De,dt,ht=!1,at,rt,qe,_e;function qn(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return i.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):this.options.supportPointer?C(document,"pointermove",this._handleFallbackAutoScroll):n.touches?C(document,"touchmove",this._handleFallbackAutoScroll):C(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):(S(document,"pointermove",this._handleFallbackAutoScroll),S(document,"touchmove",this._handleFallbackAutoScroll),S(document,"mousemove",this._handleFallbackAutoScroll)),At(),We(),On()},nulling:function(){qe=dt=De=ht=_e=at=rt=null,_.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var a=this,r=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(r,o);if(qe=t,n||this.options.forceAutoScrollFallback||Fe||V||xe){ot(t,this.options,s,n);var l=ne(s,!0);ht&&(!_e||r!==at||o!==rt)&&(_e&&At(),_e=setInterval(function(){var c=ne(document.elementFromPoint(r,o),!0);c!==l&&(l=c,We()),ot(t,a.options,c,n)},10),at=r,rt=o)}else{if(!this.options.bubbleScroll||ne(s,!0)===W()){We();return}ot(t,this.options,ne(s,!1),!1)}}},q(i,{pluginName:"scroll",initializeByDefault:!0})}function We(){_.forEach(function(i){clearInterval(i.pid)}),_=[]}function At(){clearInterval(_e)}var ot=Zt(function(i,e,t,n){if(e.scroll){var a=(i.touches?i.touches[0]:i).clientX,r=(i.touches?i.touches[0]:i).clientY,o=e.scrollSensitivity,s=e.scrollSpeed,l=W(),c=!1,f;dt!==t&&(dt=t,We(),De=e.scroll,f=e.scrollFn,De===!0&&(De=ne(t,!0)));var h=0,g=De;do{var E=g,y=x(E),v=y.top,z=y.bottom,U=y.left,L=y.right,X=y.width,k=y.height,ie=void 0,G=void 0,ae=E.scrollWidth,Ee=E.scrollHeight,M=u(E),ye=E.scrollLeft,Z=E.scrollTop;E===l?(ie=X<ae&&(M.overflowX==="auto"||M.overflowX==="scroll"||M.overflowX==="visible"),G=k<Ee&&(M.overflowY==="auto"||M.overflowY==="scroll"||M.overflowY==="visible")):(ie=X<ae&&(M.overflowX==="auto"||M.overflowX==="scroll"),G=k<Ee&&(M.overflowY==="auto"||M.overflowY==="scroll"));var Se=ie&&(Math.abs(L-a)<=o&&ye+X<ae)-(Math.abs(U-a)<=o&&!!ye),j=G&&(Math.abs(z-r)<=o&&Z+k<Ee)-(Math.abs(v-r)<=o&&!!Z);if(!_[h])for(var re=0;re<=h;re++)_[re]||(_[re]={});(_[h].vx!=Se||_[h].vy!=j||_[h].el!==E)&&(_[h].el=E,_[h].vx=Se,_[h].vy=j,clearInterval(_[h].pid),(Se!=0||j!=0)&&(c=!0,_[h].pid=setInterval((function(){n&&this.layer===0&&p.active._onTouchMove(qe);var Ce=_[this.layer].vy?_[this.layer].vy*s:0,Q=_[this.layer].vx?_[this.layer].vx*s:0;typeof f=="function"&&f.call(p.dragged.parentNode[P],Q,Ce,i,qe,_[this.layer].el)!=="continue"||Qt(_[this.layer].el,Q,Ce)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&g!==l&&(g=ne(g,!1)));ht=c}},30),sn=function(e){var t=e.originalEvent,n=e.putSortable,a=e.dragEl,r=e.activeSortable,o=e.dispatchSortableEvent,s=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var c=n||r;s();var f=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,h=document.elementFromPoint(f.clientX,f.clientY);l(),c&&!c.el.contains(h)&&(o("spill"),this.onSpill({dragEl:a,putSortable:n}))}};function gt(){}gt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var a=be(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:sn};q(gt,{pluginName:"revertOnSpill"});function vt(){}vt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,a=n||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:sn};q(vt,{pluginName:"removeOnSpill"});p.mount(new qn);p.mount(vt,gt);const Ze=new Set,Vn={ghostClass:"calcite-sortable--ghost",chosenClass:"calcite-sortable--chosen",dragClass:"calcite-sortable--drag",fallbackClass:"calcite-sortable--fallback"};function Zn(i){if(cn(i))return;ln(i),Ze.add(i);const e="id",{group:t,handleSelector:n,dragSelector:a}=i;i.sortable=p.create(i.el,{dataIdAttr:e,...Vn,...!!a&&{draggable:a},...!!t&&{group:{name:t,...!!i.canPull&&{pull:(r,o,s,{newIndex:l,oldIndex:c})=>i.canPull({toEl:r.el,fromEl:o.el,dragEl:s,newIndex:l,oldIndex:c})},...!!i.canPut&&{put:(r,o,s,{newIndex:l,oldIndex:c})=>i.canPut({toEl:r.el,fromEl:o.el,dragEl:s,newIndex:l,oldIndex:c})}}},handle:n,filter:`${n}[disabled]`,onStart:({from:r,item:o,to:s,newIndex:l,oldIndex:c})=>{ft.active=!0,Qn(),i.onDragStart({fromEl:r,dragEl:o,toEl:s,newIndex:l,oldIndex:c})},onEnd:({from:r,item:o,to:s,newIndex:l,oldIndex:c})=>{ft.active=!1,Jn(),i.onDragEnd({fromEl:r,dragEl:o,toEl:s,newIndex:l,oldIndex:c})},onSort:({from:r,item:o,to:s,newIndex:l,oldIndex:c})=>{i.onDragSort({fromEl:r,dragEl:o,toEl:s,newIndex:l,oldIndex:c})}})}function ln(i){var e;cn(i)||(Ze.delete(i),(e=i.sortable)==null||e.destroy(),i.sortable=null)}const ft={active:!1};function cn(i){return i.dragEnabled&&ft.active}function Qn(){Array.from(Ze).forEach(i=>i.onGlobalDragStart())}function Jn(){Array.from(Ze).forEach(i=>i.onGlobalDragEnd())}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const ue={container:"container",actionsStart:"actions-start",contentStart:"content-start",content:"content",contentEnd:"content-end",actionsEnd:"actions-end"},ge={actionsStart:"actions-start",contentStart:"content-start",contentEnd:"content-end",actionsEnd:"actions-end"},ei=":host([disabled]) .content{cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) .content *,:host([disabled]) .content ::slotted(*){pointer-events:none}:host{display:flex;flex:1 1 0%;flex-direction:column}.container{display:flex;flex:1 1 auto;align-items:stretch;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-2)}.content{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1.375;padding-inline:var(--calcite-stack-padding-inline, 0.75rem);padding-block:var(--calcite-stack-padding-block, 0.5rem)}.content-start{justify-content:flex-start}.content-end{justify-content:flex-end}.content-start,.content-end{flex:0 1 auto}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){margin-inline:0.75rem;align-self:center}.actions-start,.actions-end,.content-start,.content-end{display:flex;align-items:center}.actions-start ::slotted(calcite-action),.actions-start ::slotted(calcite-action-menu),.actions-start ::slotted(calcite-handle),.actions-start ::slotted(calcite-dropdown),.actions-end ::slotted(calcite-action),.actions-end ::slotted(calcite-action-menu),.actions-end ::slotted(calcite-handle),.actions-end ::slotted(calcite-dropdown){align-self:stretch;color:inherit}:host([hidden]){display:none}[hidden]{display:none}",ti=ei,ni=ut(class extends pt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.handleActionsStartSlotChange=e=>{this.hasActionsStart=de(e)},this.handleActionsEndSlotChange=e=>{this.hasActionsEnd=de(e)},this.handleContentStartSlotChange=e=>{this.hasContentStart=de(e)},this.handleContentEndSlotChange=e=>{this.hasContentEnd=de(e)},this.disabled=!1,this.hasActionsStart=!1,this.hasActionsEnd=!1,this.hasContentStart=!1,this.hasContentEnd=!1}renderActionsStart(){const{hasActionsStart:e}=this;return b("div",{class:ue.actionsStart,hidden:!e,key:"actions-start-container"},b("slot",{name:ge.actionsStart,onSlotchange:this.handleActionsStartSlotChange}))}renderActionsEnd(){const{hasActionsEnd:e}=this;return b("div",{class:ue.actionsEnd,hidden:!e,key:"actions-end-container"},b("slot",{name:ge.actionsEnd,onSlotchange:this.handleActionsEndSlotChange}))}renderContentStart(){const{hasContentStart:e}=this;return b("div",{class:ue.contentStart,hidden:!e},b("slot",{name:ge.contentStart,onSlotchange:this.handleContentStartSlotChange}))}renderDefaultContent(){return b("div",{class:ue.content},b("slot",null))}renderContentEnd(){const{hasContentEnd:e}=this;return b("div",{class:ue.contentEnd,hidden:!e},b("slot",{name:ge.contentEnd,onSlotchange:this.handleContentEndSlotChange}))}render(){return b(gn,{key:"97f052828720d715fd3b11a4b0e77fa085127796"},b("div",{key:"5351cc20a8a437763894fef35ecc7a7240cb7c46",class:ue.container},this.renderActionsStart(),this.renderContentStart(),this.renderDefaultContent(),this.renderContentEnd(),this.renderActionsEnd()))}static get style(){return ti}},[1,"calcite-stack",{disabled:[516],hasActionsStart:[32],hasActionsEnd:[32],hasContentStart:[32],hasContentEnd:[32]}]);function dn(){if(typeof customElements>"u")return;["calcite-stack"].forEach(e=>{switch(e){case"calcite-stack":customElements.get(e)||customElements.define(e,ni);break}})}dn();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const ii={container:"container",searchIcon:"search-icon"},ai={search:"search",close:"x"},ri=":host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;inline-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;inline-size:100%;padding:0.5rem}label{position:relative;margin-inline:0.25rem;margin-block:0px;display:flex;inline-size:100%;align-items:center;overflow:hidden}input[type=text]{margin-block-end:0.25rem;inline-size:100%;border-style:none;background-color:transparent;padding-block:0.25rem;font-family:inherit;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-color-text-1);padding-inline-end:0.25rem;padding-inline-start:1.5rem;transition:padding var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing)}input[type=text]::-ms-clear{display:none}calcite-input{inline-size:100%}.search-icon{position:absolute;display:flex;color:var(--calcite-color-text-2);inset-inline-start:0;transition:inset-inline-start var(--calcite-animation-timing), inset-inline-end var(--calcite-animation-timing), opacity var(--calcite-animation-timing)}input[type=text]:focus{border-color:var(--calcite-color-brand);outline:2px solid transparent;outline-offset:2px;padding-inline:0.25rem}input[type=text]:focus~.search-icon{inset-inline-start:calc(1rem * -1);opacity:0}.clear-button{display:flex;cursor:pointer;align-items:center;border-width:0px;background-color:transparent;color:var(--calcite-color-text-2)}.clear-button:hover,.clear-button:focus{color:var(--calcite-color-text-1)}:host([hidden]){display:none}[hidden]{display:none}",oi=ri,si=ut(class extends pt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteFilterChange=le(this,"calciteFilterChange",6),this.filterDebounced=$t((e,t=!1,n)=>this.updateFiltered(yt(this.items??[],e,this.filterProps),t,n),vn.filter),this.inputHandler=e=>{const t=e.target;this.value=t.value,this.filterDebounced(t.value,!0)},this.keyDownHandler=e=>{e.defaultPrevented||(e.key==="Escape"&&(this.clear(),e.preventDefault()),e.key==="Enter"&&e.preventDefault())},this.clear=()=>{this.value="",this.filterDebounced("",!0),this.setFocus()},this.items=[],this.disabled=!1,this.filteredItems=[],this.filterProps=void 0,this.placeholder=void 0,this.scale="m",this.value="",this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale=void 0,this.defaultMessages=void 0}watchItemsHandler(){this.filterDebounced(this.value)}filterPropsHandler(){this.filterDebounced(this.value)}onMessagesChange(){}valueHandler(e){this.filterDebounced(e)}effectiveLocaleChange(){Mt(this,this.effectiveLocale)}async componentWillLoad(){Ft(this),this.updateFiltered(yt(this.items??[],this.value,this.filterProps)),await Nt(this)}connectedCallback(){zt(this),Rt(this)}componentDidRender(){Lt(this)}disconnectedCallback(){Xt(this),Ht(this),this.filterDebounced.cancel()}componentDidLoad(){Pt(this)}async filter(e=this.value){return new Promise(t=>{this.value=e,this.filterDebounced(e,!1,t)})}async setFocus(){var e;return await kt(this),(e=this.textInput)==null?void 0:e.setFocus()}updateFiltered(e,t=!1,n){this.filteredItems=e,t&&this.calciteFilterChange.emit(),n==null||n()}render(){const{disabled:e,scale:t}=this;return b(Ot,{key:"c4a624e52409ed90839b506f5d99ab623767260e",disabled:e},b("div",{key:"1f2ef99156489719dd2f938bc5ce8a05185866bf",class:ii.container},b("label",{key:"6fe8c6cf73f554908be38299263d23380a4ed089"},b("calcite-input",{key:"6765e00d208d6898221540769865d84aa1c64974",clearable:!0,disabled:e,icon:ai.search,label:this.messages.label,messageOverrides:{clear:this.messages.clear},onCalciteInputInput:this.inputHandler,onKeyDown:this.keyDownHandler,placeholder:this.placeholder,ref:n=>{this.textInput=n},scale:t,type:"text",value:this.value}))))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{items:["watchItemsHandler"],filterProps:["filterPropsHandler"],messageOverrides:["onMessagesChange"],value:["valueHandler"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return oi}},[17,"calcite-filter",{items:[16],disabled:[516],filteredItems:[1040],filterProps:[16],placeholder:[1],scale:[513],value:[1025],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],filter:[64],setFocus:[64]},void 0,{items:["watchItemsHandler"],filterProps:["filterPropsHandler"],messageOverrides:["onMessagesChange"],value:["valueHandler"],effectiveLocale:["effectiveLocaleChange"]}]);function hn(){if(typeof customElements>"u")return;["calcite-filter","calcite-icon","calcite-input","calcite-input-message","calcite-progress"].forEach(e=>{switch(e){case"calcite-filter":customElements.get(e)||customElements.define(e,si);break;case"calcite-icon":customElements.get(e)||Yt();break;case"calcite-input":customElements.get(e)||Bt();break;case"calcite-input-message":customElements.get(e)||Gt();break;case"calcite-progress":customElements.get(e)||Wt();break}})}hn();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const J={container:"container",table:"table",scrim:"scrim",stack:"stack",tableContainer:"table-container",sticky:"sticky-pos",assistiveText:"assistive-text"},li=0,st={filterNoResults:"filter-no-results",filterActionsStart:"filter-actions-start",filterActionsEnd:"filter-actions-end"},ci=":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{position:relative}.table-container{box-sizing:border-box;display:flex;inline-size:100%;flex-direction:column;background-color:transparent}.table-container *{box-sizing:border-box}.table{inline-size:100%;border-collapse:collapse}.stack{--calcite-stack-padding-inline:0;--calcite-stack-padding-block:0}.sticky-pos{position:sticky;inset-block-start:0px;z-index:var(--calcite-z-index-sticky);background-color:var(--calcite-color-foreground-1)}.sticky-pos th{padding:0px}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}",di=ci,ze="calcite-list-item",hi="calcite-list-item-group, calcite-list-item",fn=ut(class extends pt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteListChange=le(this,"calciteListChange",6),this.calciteListDragEnd=le(this,"calciteListDragEnd",6),this.calciteListDragStart=le(this,"calciteListDragStart",6),this.calciteListFilter=le(this,"calciteListFilter",6),this.calciteListOrderChange=le(this,"calciteListOrderChange",6),this.calciteInternalListDefaultSlotChange=le(this,"calciteInternalListDefaultSlotChange",6),this.dragSelector=ze,this.focusableItems=[],this.handleSelector="calcite-handle",this.listItems=[],this.mutationObserver=En("mutation",()=>this.updateListItems({performFilter:!0})),this.visibleItems=[],this.handleDefaultSlotChange=e=>{Sn(Cn(e.target)),this.parentListEl&&this.calciteInternalListDefaultSlotChange.emit()},this.handleFilterActionsStartSlotChange=e=>{this.hasFilterActionsStart=de(e)},this.handleFilterActionsEndSlotChange=e=>{this.hasFilterActionsEnd=de(e)},this.handleFilterNoResultsSlotChange=e=>{this.hasFilterNoResults=de(e)},this.setActiveListItem=()=>{const{focusableItems:e}=this;e.some(t=>t.active)||e[0]&&(e[0].active=!0)},this.updateSelectedItems=(e=!1)=>{this.selectedItems=this.visibleItems.filter(t=>t.selected),e&&this.calciteListChange.emit()},this.borderItems=()=>{const e=this.visibleItems.filter(t=>!t.filterHidden&&this.allParentListItemsOpen(t));e.forEach(t=>t.bordered=t!==e[e.length-1])},this.updateFilteredItems=(e=!1)=>{const{visibleItems:t,filteredData:n,filterText:a}=this,r=n.map(c=>c.value),o=t==null?void 0:t.filter(c=>t.every(f=>f===c||!c.contains(f))),s=t.filter(c=>!a||r.includes(c.value))||[],l=new WeakSet;o.forEach(c=>this.filterElements({el:c,filteredItems:s,visibleParents:l})),this.filteredItems=s,e&&this.calciteListFilter.emit()},this.setFilterEl=e=>{this.filterEl=e,this.performFilter()},this.handleFilterChange=e=>{e.stopPropagation();const{value:t}=e.currentTarget;this.filterText=t,this.updateFilteredData(!0)},this.getItemData=()=>this.listItems.map(e=>({label:e.label,description:e.description,metadata:e.metadata,value:e.value})),this.updateListItems=$t(e=>{const t=(e==null?void 0:e.emitFilterChange)??!1,n=(e==null?void 0:e.performFilter)??!1,{selectionAppearance:a,selectionMode:r,dragEnabled:o,el:s,filterEl:l,filterEnabled:c}=this,f=Array.from(this.el.querySelectorAll(ze));if(f.forEach(h=>{h.selectionAppearance=a,h.selectionMode=r,h.closest("calcite-list")===s&&(h.dragHandle=o)}),this.parentListEl){this.setUpSorting();return}this.listItems=f,c&&n&&(this.dataForFilter=this.getItemData(),l&&(l.items=this.dataForFilter,this.filterAndUpdateData())),this.visibleItems=this.listItems.filter(h=>!h.closed&&!h.hidden),this.updateFilteredItems(t),this.borderItems(),this.focusableItems=this.filteredItems.filter(h=>!h.disabled),this.setActiveListItem(),this.updateSelectedItems(),this.setUpSorting()},li),this.focusRow=e=>{const{focusableItems:t}=this;e&&(t.forEach(n=>n.active=n===e),e.setFocus())},this.isNavigable=e=>{var n;const t=(n=e.parentElement)==null?void 0:n.closest(ze);return t?t.open&&this.isNavigable(t):!0},this.handleListKeydown=e=>{var r;if(e.defaultPrevented||this.parentListEl)return;const{key:t}=e,n=this.focusableItems.filter(o=>this.isNavigable(o)),a=n.findIndex(o=>o.active);if(t==="ArrowDown"){e.preventDefault();const o=e.target===this.filterEl?0:a+1;n[o]&&this.focusRow(n[o])}else if(t==="ArrowUp"){if(e.preventDefault(),a===0&&this.filterEnabled){(r=this.filterEl)==null||r.setFocus();return}const o=a-1;n[o]&&this.focusRow(n[o])}else if(t==="Home"){e.preventDefault();const o=n[0];o&&this.focusRow(o)}else if(t==="End"){e.preventDefault();const o=n[n.length-1];o&&this.focusRow(o)}},this.disabled=!1,this.canPull=void 0,this.canPut=void 0,this.dragEnabled=!1,this.group=void 0,this.filterEnabled=!1,this.filteredItems=[],this.filteredData=[],this.filterPlaceholder=void 0,this.filterText=void 0,this.label=void 0,this.loading=!1,this.filterProps=void 0,this.messageOverrides=void 0,this.messages=void 0,this.numberingSystem=void 0,this.openable=!1,this.selectedItems=[],this.selectionMode="none",this.selectionAppearance="icon",this.effectiveLocale="",this.defaultMessages=void 0,this.assistiveText=void 0,this.dataForFilter=[],this.hasFilterActionsEnd=!1,this.hasFilterActionsStart=!1,this.hasFilterNoResults=!1}async handleFilterTextChange(){this.performFilter()}async handleFilterPropsChange(){this.performFilter()}onMessagesChange(){}handleListItemChange(){this.updateListItems({performFilter:!0})}handleCalciteListItemToggle(e){this.parentListEl||(e.stopPropagation(),this.borderItems())}handleCalciteInternalFocusPreviousItem(e){if(this.parentListEl)return;e.stopPropagation();const{focusableItems:t}=this,a=t.findIndex(r=>r.active)-1;t[a]&&this.focusRow(t[a])}handleCalciteInternalListItemActive(e){if(this.parentListEl)return;e.stopPropagation();const t=e.target,{listItems:n}=this;n.forEach(a=>{a.active=a===t})}handleCalciteListItemSelect(){this.parentListEl||this.updateSelectedItems(!0)}handleCalciteInternalAssistiveTextChange(e){this.assistiveText=e.detail.message,e.stopPropagation()}handleCalciteHandleNudge(e){this.parentListEl||this.handleNudgeEvent(e)}handleCalciteInternalListItemSelect(e){if(this.parentListEl)return;e.stopPropagation();const t=e.target,{listItems:n,selectionMode:a}=this;t.selected&&(a==="single"||a==="single-persist")&&n.forEach(r=>r.selected=r===t),this.updateSelectedItems()}handleCalciteInternalListItemSelectMultiple(e){if(this.parentListEl)return;e.stopPropagation();const{target:t,detail:n}=e,{focusableItems:a,lastSelectedInfo:r}=this,o=t;if(n.selectMultiple&&r){const s=a.indexOf(o),l=a.indexOf(r.selectedItem),c=Math.min(l,s),f=Math.max(l,s);a.slice(c,f+1).forEach(h=>h.selected=r.selected)}else this.lastSelectedInfo={selectedItem:o,selected:o.selected}}handleCalciteInternalListItemChange(e){this.parentListEl||(e.stopPropagation(),this.updateListItems())}handleCalciteInternalListItemGroupDefaultSlotChange(e){e.stopPropagation()}connectedCallback(){zt(this),Rt(this),this.connectObserver(),this.updateListItems({performFilter:!0}),this.setUpSorting(),this.setParentList()}async componentWillLoad(){Ft(this),await Nt(this)}componentDidRender(){Lt(this)}componentDidLoad(){Pt(this)}disconnectedCallback(){this.disconnectObserver(),ln(this),Xt(this),Ht(this)}effectiveLocaleChange(){Mt(this,this.effectiveLocale)}async setFocus(){var e,t;return await kt(this),this.filterEnabled?(e=this.filterEl)==null?void 0:e.setFocus():(t=this.focusableItems.find(n=>n.active))==null?void 0:t.setFocus()}render(){const{loading:e,label:t,disabled:n,dataForFilter:a,filterEnabled:r,filterPlaceholder:o,filterText:s,filteredItems:l,hasFilterActionsStart:c,hasFilterActionsEnd:f,hasFilterNoResults:h,filterProps:g}=this;return b(Ot,{key:"c3139afe4fe7c7462578a51a4578971c97473167",disabled:this.disabled},b("div",{key:"5e99dc8b479c35609c5f0318723b3da84ec23ef4",class:J.container},this.dragEnabled?b("span",{"aria-live":"assertive",class:J.assistiveText},this.assistiveText):null,this.renderItemAriaLive(),e?b("calcite-scrim",{class:J.scrim,loading:e}):null,b("table",{key:"a31ba050d3141351e491141365e8244ed3ca5303","aria-busy":bn(e),"aria-label":t||"",class:J.table,onKeyDown:this.handleListKeydown,role:"treegrid"},r||c||f?b("thead",{class:J.sticky},b("tr",null,b("th",{colSpan:yn},b("calcite-stack",{class:J.stack},b("slot",{name:st.filterActionsStart,onSlotchange:this.handleFilterActionsStartSlotChange,slot:ge.actionsStart}),b("calcite-filter",{"aria-label":o,disabled:n,filterProps:g,items:a,onCalciteFilterChange:this.handleFilterChange,placeholder:o,ref:this.setFilterEl,value:s}),b("slot",{name:st.filterActionsEnd,onSlotchange:this.handleFilterActionsEndSlotChange,slot:ge.actionsEnd}))))):null,b("tbody",{key:"3ed1b8d9a4387c3ea0f4ff38e5388be35b32d89b",class:J.tableContainer},b("slot",{key:"712562533b4609749cbff0968bd0a9e77d99758e",onSlotchange:this.handleDefaultSlotChange}))),b("div",{key:"3ff977013e0ca0d58229e1305dca702000d91a99","aria-live":"polite","data-test-id":"no-results-container",hidden:!(h&&r&&s&&!l.length)},b("slot",{key:"7c2bf6389c8b5f4b6f617950e4068baf6b1dc358",name:st.filterNoResults,onSlotchange:this.handleFilterNoResultsSlotChange}))))}renderItemAriaLive(){const{messages:e,filteredItems:t,parentListEl:n,effectiveLocale:a,numberingSystem:r,filterEnabled:o,filterText:s,filteredData:l}=this;return Et.numberFormatOptions={locale:a,numberingSystem:r},n?null:b("div",{"aria-live":"polite",class:J.assistiveText},o&&s&&(l!=null&&l.length)?b("div",{key:"aria-filter-enabled"},e.filterEnabled):null,b("div",{key:"aria-item-count"},e.total.replace("{count}",Et.localize(t.length.toString()))),t.length?b("ol",{key:"aria-item-list"},t.map(c=>b("li",null,c.label))):null)}connectObserver(){var e;(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}disconnectObserver(){var e;(e=this.mutationObserver)==null||e.disconnect()}setUpSorting(){const{dragEnabled:e}=this;e&&Zn(this)}onGlobalDragStart(){this.disconnectObserver()}onGlobalDragEnd(){this.connectObserver()}onDragEnd(e){this.calciteListDragEnd.emit(e)}onDragStart(e){this.calciteListDragStart.emit(e)}onDragSort(e){this.setParentList(),this.updateListItems(),this.calciteListOrderChange.emit(e)}setParentList(){var e;this.parentListEl=(e=this.el.parentElement)==null?void 0:e.closest("calcite-list")}filterElements({el:e,filteredItems:t,visibleParents:n}){const a=!n.has(e)&&!t.includes(e);e.filterHidden=a;const r=e.parentElement.closest(hi);r&&(a||n.add(r),this.filterElements({el:r,filteredItems:t,visibleParents:n}))}allParentListItemsOpen(e){var n;const t=(n=e.parentElement)==null?void 0:n.closest(ze);if(t){if(!t.open)return!1}else return!0;return this.allParentListItemsOpen(t)}updateFilteredData(e=!1){const{filterEl:t}=this;t&&(t.filteredItems&&(this.filteredData=t.filteredItems),this.updateListItems({emitFilterChange:e}))}async filterAndUpdateData(){var e;await((e=this.filterEl)==null?void 0:e.filter(this.filterText)),this.updateFilteredData()}performFilter(){const{filterEl:e,filterText:t,filterProps:n}=this;e&&(e.value=t,e.filterProps=n,this.filterAndUpdateData())}handleNudgeEvent(e){const{handleSelector:t,dragSelector:n}=this,{direction:a}=e.detail,r=e.composedPath(),o=r.find(v=>(v==null?void 0:v.tagName)&&v.matches(t)),s=r.find(v=>(v==null?void 0:v.tagName)&&v.matches(n)),l=s==null?void 0:s.parentElement;if(!l)return;const{filteredItems:c}=this,f=c.filter(v=>v.parentElement===l),h=f.length-1,g=f.indexOf(s);let E;a==="up"?E=g===0?h:g-1:E=g===h?0:g+1,this.disconnectObserver(),o.blurUnselectDisabled=!0;const y=a==="up"&&E!==h||a==="down"&&E===0?f[E]:f[E].nextSibling;l.insertBefore(s,y),this.updateListItems(),this.connectObserver(),this.calciteListOrderChange.emit({dragEl:s,fromEl:l,toEl:l,newIndex:E,oldIndex:g}),o.setFocus().then(()=>o.blurUnselectDisabled=!1)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{filterText:["handleFilterTextChange"],filterProps:["handleFilterPropsChange"],messageOverrides:["onMessagesChange"],filterEnabled:["handleListItemChange"],group:["handleListItemChange"],dragEnabled:["handleListItemChange"],selectionMode:["handleListItemChange"],selectionAppearance:["handleListItemChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return di}},[1,"calcite-list",{disabled:[516],canPull:[16],canPut:[16],dragEnabled:[516,"drag-enabled"],group:[513],filterEnabled:[516,"filter-enabled"],filteredItems:[1040],filteredData:[1040],filterPlaceholder:[513,"filter-placeholder"],filterText:[1537,"filter-text"],label:[1],loading:[516],filterProps:[16],messageOverrides:[1040],messages:[1040],numberingSystem:[1,"numbering-system"],openable:[4],selectedItems:[1040],selectionMode:[513,"selection-mode"],selectionAppearance:[513,"selection-appearance"],effectiveLocale:[32],defaultMessages:[32],assistiveText:[32],dataForFilter:[32],hasFilterActionsEnd:[32],hasFilterActionsStart:[32],hasFilterNoResults:[32],setFocus:[64]},[[0,"calciteInternalListItemToggle","handleCalciteListItemToggle"],[0,"calciteInternalFocusPreviousItem","handleCalciteInternalFocusPreviousItem"],[0,"calciteInternalListItemActive","handleCalciteInternalListItemActive"],[0,"calciteListItemSelect","handleCalciteListItemSelect"],[0,"calciteInternalAssistiveTextChange","handleCalciteInternalAssistiveTextChange"],[0,"calciteHandleNudge","handleCalciteHandleNudge"],[0,"calciteInternalListItemSelect","handleCalciteInternalListItemSelect"],[0,"calciteInternalListItemSelectMultiple","handleCalciteInternalListItemSelectMultiple"],[0,"calciteInternalListItemChange","handleCalciteInternalListItemChange"],[0,"calciteInternalListItemGroupDefaultSlotChange","handleCalciteInternalListItemGroupDefaultSlotChange"]],{filterText:["handleFilterTextChange"],filterProps:["handleFilterPropsChange"],messageOverrides:["onMessagesChange"],filterEnabled:["handleListItemChange"],group:["handleListItemChange"],dragEnabled:["handleListItemChange"],selectionMode:["handleListItemChange"],selectionAppearance:["handleListItemChange"],effectiveLocale:["effectiveLocaleChange"]}]);function un(){if(typeof customElements>"u")return;["calcite-list","calcite-filter","calcite-icon","calcite-input","calcite-input-message","calcite-loader","calcite-progress","calcite-scrim","calcite-stack"].forEach(e=>{switch(e){case"calcite-list":customElements.get(e)||customElements.define(e,fn);break;case"calcite-filter":customElements.get(e)||hn();break;case"calcite-icon":customElements.get(e)||Yt();break;case"calcite-input":customElements.get(e)||Bt();break;case"calcite-input-message":customElements.get(e)||Gt();break;case"calcite-loader":customElements.get(e)||In();break;case"calcite-progress":customElements.get(e)||Wt();break;case"calcite-scrim":customElements.get(e)||wn();break;case"calcite-stack":customElements.get(e)||dn();break}})}un();const aa=fn,ra=un;export{aa as CalciteList,ra as defineCustomElement};
