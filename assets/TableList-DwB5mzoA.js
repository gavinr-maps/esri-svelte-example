const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./calcite-action-eUVYjjgY.js","./action-CFB8-9mS.js","./jsxFactory-Be5PKa9i.js","./Evented-CXIxDjmW.js","./Accessor-D6mNnsWy.js","./subclass-BR3PhgZG.js","./intl-CArXn1et.js","./Promise-CZrWwByK.js","./jsonMap-DCC6W5ex.js","./assets-BNizZMOZ.js","./index-BVncS3aY.js","./index-CjOb8WjV.css","./reactiveUtils-BFQ0BtrB.js","./shared-B3wH2qpO.js","./uuid-fwrPAdZb.js","./dom-BkQ_hHOr.js","./interactive-QOqfpSSx.js","./loadable-Bgtgv1lm.js","./locale-BvYy6Wxh.js","./key-D5DPfjW0.js","./observers-DSkGD1TQ.js","./component-ByvC-PUv.js","./t9n-Atzq4sOi.js","./icon-D6t4qKDg.js","./loader-ew3V3w9x.js","./calcite-action-group-D9tipI-Z.js","./action-group-CCGYUHoR.js","./conditionalSlot-eNLH0S30.js","./action-menu-M1XR2Dkh.js","./array-DofFqflK.js","./popover-DLRbisRr.js","./floating-ui-5U9KNmUg.js","./debounce-C5YDvsuO.js","./focusTrapComponent-Bepj0OOn.js","./openCloseComponent-Bqj9CrBJ.js","./Heading-DQrTi3L3.js","./FloatingArrow-BN7WHE4B.js","./calcite-action-menu-DBpuvlGg.js","./calcite-button-BbY9lAf2.js","./button-D5KuIed_.js","./form-BOCdnUd9.js","./label-1rGx7O4B.js","./calcite-flow-BBEB5sRb.js","./calcite-flow-item-BTLah491.js","./panel-LE_lpRLv.js","./scrim-fRLdjgt6.js","./calcite-icon-DtUarwQp.js","./calcite-list-CauCCaYV.js","./resources4-CT6dxwoZ.js","./utils3-SlIPNAt8.js","./filter-BHzLPuAd.js","./input2-BjqyiC1c.js","./Validation-Dm76Kltf.js","./input-Dt5r39B0.js","./input-message-BGlL44gg.js","./progress-CMyqabfC.js","./calcite-list-item-DnfVo5id.js","./handle-DVEsJI64.js","./calcite-notice-CVdHfJFK.js"])))=>i.map(i=>d[i]);
import{_ as f}from"./index-BVncS3aY.js";import{e as o,o as Z}from"./Evented-CXIxDjmW.js";import{V as k,d as $,P as q}from"./reactiveUtils-BFQ0BtrB.js";import{S as z,O as A}from"./Accessor-D6mNnsWy.js";import{s as x}from"./Identifiable-BLvpQbOc.js";import{y as s,b as L,a0 as V,n as M}from"./subclass-BR3PhgZG.js";import{t as H,n as ee}from"./actionUtils-COKY2qLB.js";import{B as j,n as r,r as te,e as U}from"./jsxFactory-Be5PKa9i.js";import{a as ie,u as oe,e as se,n as le,M as G}from"./layerListUtils-CMiJTmu0.js";import{e as P}from"./globalCss-CZa70j6i.js";import{e as ne}from"./vmEvent-D4Ubqkbq.js";import{s as ae}from"./jsonMap-DCC6W5ex.js";import{p as re,c as de,a as ce}from"./ActionToggle-C0Z1k2jc.js";import{e as W}from"./widget-KJnvHjQr.js";import"./shared-B3wH2qpO.js";import"./intl-CArXn1et.js";import"./Promise-CZrWwByK.js";import"./assets-BNizZMOZ.js";import"./substitute-CNca968n.js";import"./uuid-fwrPAdZb.js";const w="esri-table-list",E=`${w}__item`,p={base:w,actionMenu:`${w}__action-menu`,actionGroup:`${w}__action-group`,filterNoResults:`${w}__filter-no-results`,item:E,itemContent:`${E}-content`,itemContentBottom:`${E}-content-bottom`,itemMessage:`${E}-message`,itemActionIcon:`${E}-action-icon`,itemActionImage:`${E}-action-image`,itemTemporaryIcon:`${E}-temporary-icon`,publishing:`${w}__publishing`,statusIndicator:`${w}__status-indicator`};let b=class extends x(j){constructor(t,i){super(t,i),this.className=null,this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}get disabled(){return!(this.content&&this.listItem)}set disabled(t){this._overrideIfSome("disabled",t)}get icon(){const{image:t}=this,i=this._getFirstWidget();return this._get("icon")??(!t&&i?i.icon:null)}set icon(t){this._overrideIfSome("icon",t)}get title(){var t;return this._get("title")||(((t=this._getFirstWidget())==null?void 0:t.label)??"")}set title(t){this._override("title",t)}render(){return r("div",{class:"esri-list-item-panel"},this._renderContents())}_renderContent(t){const{disabled:i,open:l}=this;return t&&!i&&l?typeof t=="string"?r("div",{innerHTML:t,key:t}):W(t)?r("div",{key:"content-widget"},t.render()):t instanceof HTMLElement?r("div",{afterCreate:this._attachToNode,bind:t,key:"content-element"}):null:null}_renderContents(){const{content:t,open:i}=this;return i?Array.isArray(t)?t.map(l=>this._renderContent(l)):this._renderContent(t):null}_attachToNode(t){t.appendChild(this)}_getWidget(t){return W(t)?t:null}_getFirstWidget(){const{content:t}=this;return Array.isArray(t)?t.map(i=>this._getWidget(i)).find(i=>i):this._getWidget(t)}};o([s()],b.prototype,"className",void 0),o([s()],b.prototype,"content",void 0),o([s()],b.prototype,"disabled",null),o([s()],b.prototype,"flowEnabled",void 0),o([s()],b.prototype,"icon",null),o([s()],b.prototype,"image",void 0),o([s()],b.prototype,"listItem",void 0),o([s()],b.prototype,"open",void 0),o([s()],b.prototype,"title",null),o([s()],b.prototype,"visible",void 0),b=o([L("esri.widgets.TableList.ListItemPanel")],b);const K=b;var N;const me=k.ofType({key:"type",defaultKeyValue:"button",base:re,typeMap:{button:de,toggle:ce,slider:ie}}),J=k.ofType(me);let u=N=class extends x(z){constructor(e){super(e),this.actionsSections=new J,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null,this.panel=null,this.sortable=!0}initialize(){if(this.addHandles([$(()=>this.panel,e=>this._setListItemOnPanel(e),q)]),typeof this.listItemCreatedFunction=="function"){const e={item:this};this.listItemCreatedFunction.call(null,e)}}destroy(){var e;(e=this.panel)==null||e.destroy()}get error(){var e;return(e=this.layer)==null?void 0:e.loadError}castPanel(e){var t;return(t=this.panel)!=null&&t.open&&!e.hasOwnProperty("open")&&(e.open=!0),e?new K(e):null}get publishing(){var i;const{layer:e,checkPublishStatusEnabled:t}=this;return(t&&e&&"publishingInfo"in e&&((i=e.publishingInfo)==null?void 0:i.status)==="publishing")??!1}get title(){var t;const e=V(this,"layer.layer");return(!e||e&&V(this,"layer.layer.loaded")?(t=this.layer)==null?void 0:t.title:null)??""}set title(e){this._overrideIfSome("title",e)}clone(){return new N({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,panel:this.panel,sortable:this.sortable,title:this.title})}_setListItemOnPanel(e){e&&(e.listItem=this)}};o([s({type:J})],u.prototype,"actionsSections",void 0),o([s()],u.prototype,"actionsOpen",void 0),o([s()],u.prototype,"checkPublishStatusEnabled",void 0),o([s({readOnly:!0})],u.prototype,"error",null),o([s()],u.prototype,"hidden",void 0),o([s()],u.prototype,"layer",void 0),o([s()],u.prototype,"listItemCreatedFunction",void 0),o([s({type:K})],u.prototype,"panel",void 0),o([ae("panel")],u.prototype,"castPanel",null),o([s({readOnly:!0})],u.prototype,"publishing",null),o([s()],u.prototype,"sortable",void 0),o([s()],u.prototype,"title",null),u=N=o([L("esri.widgets.TableList.ListItem")],u);const B=u,O={map:"map",layerListMode:"layer-list-mode"},pe="hide",Q=k.ofType(B);let I=class extends Z.EventedAccessor{constructor(e){super(e),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.tableItems=new Q,this.map=null}initialize(){this.addHandles([$(()=>{var e;return[this.tables,(e=this.map)==null?void 0:e.allTables.toArray()]},()=>this._compileList(),q),$(()=>{var e;return[(e=this.map)==null?void 0:e.loaded,this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled]},()=>this._recompileList())],O.map)}destroy(){this._removeAllItems(),this.map=null,this.tables=null}get tables(){var e;return(e=this.map)==null?void 0:e.allTables}set tables(e){this._overrideIfSome("tables",e)}get state(){const{map:e,tables:t}=this;if(!e)return t?"ready":"disabled";const i=e==null?void 0:e.loadStatus;return typeof i=="string"?i==="loaded"?"ready":i==="loading"?"loading":"disabled":"ready"}get totalItems(){return this.tableItems.length}triggerAction(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}_removeAllItems(){this.tableItems.destroyAll()}_getViewableTables(e){return e?this.listModeDisabled?e:e.filter(t=>oe(t)!==pe):void 0}_watchTablesListMode(e){this.removeHandles(O.layerListMode),e&&!this.listModeDisabled&&this.addHandles($(()=>e.filter(t=>"listMode"in t).map(t=>t.listMode).toArray(),()=>this._compileList()),O.layerListMode)}_compileList(){const{tables:e}=this;this._watchTablesListMode(e);const t=this._getViewableTables(e);t!=null&&t.length?(this._createNewItems(t),this._removeItems(t),this._sortItems(t)):this._removeAllItems()}_createNewItems(e){const{tableItems:t,listItemCreatedFunction:i,checkPublishStatusEnabled:l}=this;e.forEach(n=>{t.some(d=>d.layer===n)||t.add(new B({checkPublishStatusEnabled:l,layer:n,listItemCreatedFunction:i}))})}_removeItems(e){const{tableItems:t}=this;t.forEach(i=>{if(!i)return;(e==null?void 0:e.find(n=>i.layer===n))||(t.remove(i),i.destroy())})}_sortItems(e){const{tableItems:t}=this;t.sort((i,l)=>{const n=e.indexOf(i.layer),d=e.indexOf(l.layer);return n>d?-1:n<d?1:0})}_recompileList(){this._removeAllItems(),this._compileList()}};o([s()],I.prototype,"checkPublishStatusEnabled",void 0),o([s()],I.prototype,"listItemCreatedFunction",void 0),o([s({nonNullable:!0})],I.prototype,"listModeDisabled",void 0),o([s({type:Q,readOnly:!0})],I.prototype,"tableItems",void 0),o([s()],I.prototype,"tables",null),o([s()],I.prototype,"map",void 0),o([s({readOnly:!0})],I.prototype,"state",null),o([s()],I.prototype,"totalItems",null),I=o([L("esri.widgets.TableList.TableListViewModel")],I);const X=I;let v=class extends z{constructor(){super(...arguments),this.closeButton=!1,this.collapseButton=!1,this.errors=!1,this.filter=!1,this.flow=!0,this.heading=!1,this.statusIndicators=!0,this.temporaryTableIndicators=!1}};o([s({type:Boolean,nonNullable:!0})],v.prototype,"closeButton",void 0),o([s({type:Boolean,nonNullable:!0})],v.prototype,"collapseButton",void 0),o([s({type:Boolean,nonNullable:!0})],v.prototype,"errors",void 0),o([s({type:Boolean,nonNullable:!0})],v.prototype,"filter",void 0),o([s({type:Boolean,nonNullable:!0})],v.prototype,"flow",void 0),o([s({type:Boolean,nonNullable:!0})],v.prototype,"heading",void 0),o([s({type:Boolean,nonNullable:!0})],v.prototype,"statusIndicators",void 0),o([s({type:Boolean,nonNullable:!0})],v.prototype,"temporaryTableIndicators",void 0),v=o([L("esri.widgets.TableList.TableListVisibleElements")],v);const Y=v;function T(e){return e["data-item"]}function ue(e,t){e==null||e.sort((i,l)=>{const n=t.indexOf(i.uid),d=t.indexOf(l.uid);return n>d?-1:n<d?1:0})}const he=k.ofType(B);let a=class extends x(j){constructor(e,t){super(e,t),this._focusRootFlowItem=!1,this._focusPanelFlowItem=!1,this._lastDragDetail=null,this._selectedDragItemLayerUid=null,this._rootGroupUid=`table-${this.uid}`,this.collapsed=!1,this.dragEnabled=!1,this.filterPlaceholder="",this.filterText="",this.headingLevel=2,this.listItemCanGiveFunction=null,this.listItemCanReceiveFunction=null,this.messages=null,this.messagesCommon=null,this.minDragEnabledItems=se,this.minFilterItems=le,this.selectedItems=new he,this.selectionMode="none",this.viewModel=new X,this.visibleElements=new Y,this._canMove=({dragEl:i,fromEl:l,toEl:n},d)=>{const h=d==="pull"?this.listItemCanGiveFunction:this.listItemCanReceiveFunction,g=T(i);if(!(g!=null&&g.sortable))return!1;const _=T(l),y=G(l),c=T(n),C=G(n),S=!!y&&!!C&&y===C,D={selected:g,from:_,to:c},F=l.group,m=n.group;return F&&m&&typeof h=="function"?h.call(null,D):S},this._onCalciteListOrderChange=i=>{var y;const{_lastDragDetail:l}=this,{toEl:n,fromEl:d,dragEl:h,newIndex:g}=i;if(!d||!n||(l==null?void 0:l.newIndex)===g&&(l==null?void 0:l.dragEl)===h&&(l==null?void 0:l.toEl)===n&&(l==null?void 0:l.fromEl)===d)return;this._lastDragDetail=i;const _=Array.from(d.children).filter(c=>c==null?void 0:c.matches("calcite-list-item")).map(c=>c.value);ue((y=this.map)==null?void 0:y.tables,_)}}loadDependencies(){return te({action:()=>f(()=>import("./calcite-action-eUVYjjgY.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]),import.meta.url),"action-group":()=>f(()=>import("./calcite-action-group-D9tipI-Z.js"),__vite__mapDeps([25,26,2,3,4,5,6,7,8,9,10,11,12,13,14,27,20,17,18,15,19,22,28,29,1,16,21,23,24,30,31,32,33,34,35,36]),import.meta.url),"action-menu":()=>f(()=>import("./calcite-action-menu-DBpuvlGg.js"),__vite__mapDeps([37,28,2,3,4,5,6,7,8,9,10,11,12,13,14,29,15,19,17,1,16,18,20,21,22,23,24,30,31,32,33,34,35,36]),import.meta.url),button:()=>f(()=>import("./calcite-button-BbY9lAf2.js"),__vite__mapDeps([38,39,2,3,4,5,6,7,8,9,10,11,12,13,14,40,15,16,41,21,17,18,19,20,22,23,24]),import.meta.url),flow:()=>f(()=>import("./calcite-flow-BBEB5sRb.js"),__vite__mapDeps([42,2,3,4,5,6,7,8,9,10,11,12,13,14,20,17]),import.meta.url),"flow-item":()=>f(()=>import("./calcite-flow-item-BTLah491.js"),__vite__mapDeps([43,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,22,44,28,29,1,21,23,24,30,31,32,33,34,35,36,45]),import.meta.url),icon:()=>f(()=>import("./calcite-icon-DtUarwQp.js"),__vite__mapDeps([46,23,2,3,4,5,6,7,8,9,10,11,12,13,14,15,20]),import.meta.url),list:()=>f(()=>import("./calcite-list-CauCCaYV.js"),__vite__mapDeps([47,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,20,48,49,17,22,18,19,50,32,23,51,40,41,21,52,53,54,55,24,45]),import.meta.url),"list-item":()=>f(()=>import("./calcite-list-item-DnfVo5id.js"),__vite__mapDeps([56,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,18,19,20,22,17,49,48,1,21,23,24,57]),import.meta.url),notice:()=>f(()=>import("./calcite-notice-CVdHfJFK.js"),__vite__mapDeps([58,2,3,4,5,6,7,8,9,10,11,12,13,14,27,20,15,17,18,19,22,34,21,23]),import.meta.url)})}get _dragEnabled(){return this.viewModel.totalItems>=this.minDragEnabledItems&&this.dragEnabled}get _filterEnabled(){return this.viewModel.totalItems>=this.minFilterItems&&this.visibleElements.filter}get icon(){return"table"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get listItemCreatedFunction(){return this.viewModel.listItemCreatedFunction}set listItemCreatedFunction(e){this.viewModel.listItemCreatedFunction=e}get map(){return this.viewModel.map}set map(e){this.viewModel.map=e}get multipleSelectionEnabled(){return A(M.getLogger(this),"multipleSelectionEnabled",{replacement:"selectionMode",version:"4.29",warnOnce:!0}),this.selectionMode==="multiple"}set multipleSelectionEnabled(e){A(M.getLogger(this),"multipleSelectionEnabled",{replacement:"selectionMode",version:"4.29",warnOnce:!0}),this.selectionMode=e?"multiple":this.selectionEnabled?"single":"none"}get selectionEnabled(){return A(M.getLogger(this),"selectionEnabled",{replacement:"selectionMode, dragEnabled",version:"4.29",warnOnce:!0}),this.selectionMode!=="none"&&this.dragEnabled}set selectionEnabled(e){A(M.getLogger(this),"selectionEnabled",{replacement:"selectionMode, dragEnabled",version:"4.29",warnOnce:!0}),this.dragEnabled=e,this.selectionMode=e?this.multipleSelectionEnabled?"multiple":"single":"none"}get tableItems(){return this.viewModel.tableItems}get tables(){return this.viewModel.tables}set tables(e){this.viewModel.tables=e}triggerAction(e,t){return this.viewModel.triggerAction(e,t)}render(){var l,n;const e=(l=this.viewModel)==null?void 0:l.state,t={[P.hidden]:e==="loading",[P.disabled]:e==="disabled"},i=(n=this.tableItems)==null?void 0:n.filter(d=>!d.hidden&&(this.visibleElements.errors||!d.error));return r("div",{class:this.classes(p.base,P.widget,P.panel,t)},i!=null&&i.length?this._renderItems(i):this._renderNoItems())}_renderNoItemsMessage(){return r("div",{slot:"message"},this.messages.noItemsToDisplay)}_renderNoItems(){return r("div",{class:p.itemMessage,key:"esri-layer-list__no-items"},r("calcite-notice",{icon:"information",kind:"info",open:!0,width:"full"},this._renderNoItemsMessage()))}_renderPanelFlowItems(e){return e==null?void 0:e.toArray().filter(({panel:t})=>(t==null?void 0:t.open)&&!t.disabled&&t.flowEnabled).map(({title:t,panel:i})=>{const l=()=>this._handlePanelFlowItemBack(i);return r("calcite-flow-item",{afterCreate:this._focusPanelFlowItemNode,afterUpdate:this._focusPanelFlowItemNode,bind:this,description:t,heading:i.title,headingLevel:this.headingLevel,key:`flow-panel-${i.uid}`,onCalciteFlowItemBack:n=>{n.preventDefault(),l()}},i.render(),r("calcite-button",{appearance:"transparent",onclick:l,slot:"footer-actions",width:"full"},this.messagesCommon.back))})}_handlePanelFlowItemBack(e){e.open=!1,this._focusRootFlowItem=!0}_focusRootFlowItemNode(e){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,requestAnimationFrame(()=>e==null?void 0:e.setFocus()))}_focusPanelFlowItemNode(e){this._focusPanelFlowItem&&(this._focusPanelFlowItem=!1,requestAnimationFrame(()=>e==null?void 0:e.setFocus()))}_renderItems(e){const{visible:t,collapsed:i,visibleElements:{closeButton:l,collapseButton:n,heading:d,flow:h},_dragEnabled:g,_filterEnabled:_,_rootGroupUid:y,selectionMode:c,messages:C,filterPlaceholder:S,filterText:D}=this,F=[r("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:l,closed:!t,collapsed:i,collapsible:n,heading:d?C.widgetLabel:void 0,headingLevel:this.headingLevel,key:"root-flow-item",onCalciteFlowItemClose:()=>this.visible=!1},r("calcite-list",{canPull:m=>this._canMove(m,"pull"),canPut:m=>this._canMove(m,"put"),"data-layer-type":y,dragEnabled:g,filterEnabled:_,filterPlaceholder:S,filterText:_?D:"",group:y,key:"root-list",label:C.widgetLabel,selectionAppearance:"border",selectionMode:c,onCalciteListChange:m=>this._handleCalciteListChange(m),onCalciteListDragEnd:m=>this._handleCalciteListDragEnd(m.detail),onCalciteListFilter:m=>{var R;return this.filterText=((R=m.target)==null?void 0:R.filterText)??""},onCalciteListOrderChange:m=>this._onCalciteListOrderChange(m.detail)},e==null?void 0:e.toArray().map(m=>this._renderItem(m)),e!=null&&e.length&&_?r("div",{class:p.filterNoResults,slot:"filter-no-results"},r("calcite-notice",{kind:"info",open:!0,width:"full"},this._renderNoItemsMessage())):null)),this._renderPanelFlowItems(e)];return t?h?r("calcite-flow",{key:"root-flow"},F):F:null}_handleCalciteListDragEnd(e){const{fromEl:t,dragEl:i,oldIndex:l}=e;t.insertBefore(i,t.children[l])}_renderItemMessage(e){return e.error?r("div",{class:p.itemMessage,key:"esri-layer-list__error",slot:"content-bottom"},r("calcite-notice",{icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",width:"full"},r("div",{slot:"message"},this.messages.tableError))):null}_renderItem(e){var _,y;const{_selectedDragItemLayerUid:t,selectionMode:i,selectedItems:l,messages:n}=this,d=e.title||n.untitledTable,h=this._filterActions(e.actionsSections),g=this._countActions(h);return r("calcite-list-item",{afterCreate:c=>this._focusSelectedDragEl(c,e),afterUpdate:c=>this._focusSelectedDragEl(c,e),class:p.item,"data-item":e,"data-layer-id":e.layer.id,dragDisabled:!e.sortable,dragSelected:e.layer.uid===t,id:(_=e.layer)==null?void 0:_.uid,key:`list-item-${e.layer.uid}`,label:d,metadata:{title:d},selected:i!=="none"&&l.includes(e),title:d,value:(y=e.layer)==null?void 0:y.uid,onCalciteListItemDragHandleChange:c=>this._handleCalciteListItemDragHandleChange(c,e)},r("div",{class:p.itemContent,slot:"content"},d),this._renderItemStatus(e),this._renderItemTemporaryIcon(e),this._renderItemMessage(e),this._renderPanel(e.panel),this._renderPanelAction(e.panel),g>1?this._renderActionsSections(e,h):g===1?this._renderAction({item:e,action:this._getSingleAction(h),textEnabled:!1}):null)}_renderItemTemporaryIcon(e){return this.visibleElements.temporaryTableIndicators&&!e.layer.persistenceEnabled?r("calcite-icon",{class:p.itemTemporaryIcon,icon:"temporary",key:"temporary-icon",scale:"s",slot:"actions-start",title:this.messages.temporary}):null}_renderItemStatus(e){const{visibleElements:t}=this;if(!t.statusIndicators)return null;const{publishing:i}=e;return r("calcite-icon",{class:this.classes({[p.statusIndicator]:!0,[p.publishing]:i}),icon:"stop-square",key:"layer-item-status",scale:"s",slot:"actions-end"})}_renderPanel(e){return!(e!=null&&e.open)||e.disabled||e.flowEnabled?null:r("div",{class:p.itemContentBottom,key:`content-panel-${e.uid}`,slot:"content-bottom"},e.render())}_renderPanelAction(e){if(!(e!=null&&e.visible))return null;const{open:t,title:i,disabled:l}=e;return r("calcite-action",{active:t,appearance:"transparent",disabled:l,icon:H(e),key:`action-${e.uid}`,onclick:()=>this._togglePanel(e),scale:"s",slot:"actions-end",text:i??"",title:i??void 0},this._renderFallbackIcon(e))}_renderActionsSections(e,t){const i=this.messagesCommon.options;return r("calcite-action-menu",{appearance:"transparent",class:p.actionMenu,key:"item-action-menu",label:this.messagesCommon.menu,open:e.actionsOpen,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",slot:"actions-end",onCalciteActionMenuOpen:l=>e.actionsOpen=l.target.open},r("calcite-action",{appearance:"transparent",icon:"ellipsis",scale:"s",slot:"trigger",text:i,title:i}),t.toArray().map((l,n)=>this._renderActionSection(e,l,n)))}_renderActionSection(e,t,i){return r("calcite-action-group",{class:p.actionGroup,key:`action-section-${i}`},t.toArray().map(l=>this._renderAction({item:e,action:l,textEnabled:!0})))}_renderFallbackIcon(e){const{className:t,icon:i}=e;if(i)return null;const l="image"in e?e.image:void 0,n={[p.itemActionIcon]:!!t,[p.itemActionImage]:!!l};return t&&(n[t]=!0),l||t?r("span",{"aria-hidden":"true",class:this.classes(p.itemActionIcon,n),key:"icon",styles:ee(l)}):null}_renderAction(e){const{item:t,action:i,textEnabled:l}=e;if(!i)return null;const{active:n,disabled:d,title:h,type:g,indicator:_}=i;return r("calcite-action",{active:g==="toggle"&&i.value,appearance:"transparent",disabled:d,icon:H(i),indicator:_,key:`action-${i.uid}`,loading:n,onclick:()=>this._triggerAction(t,i),scale:"s",slot:l?void 0:"actions-end",text:h??"",textEnabled:l,title:h??void 0},this._renderFallbackIcon(i))}_filterActions(e){return e.map(t=>t.filter(i=>i.visible))}_getSingleAction(e){return e.reduce(t=>t).find(t=>t&&(t.type==="button"||t.type==="toggle"))}_countActions(e){return e.reduce((t,i)=>t+i.length,0)}_focusSelectedDragEl(e,t){this._selectedDragItemLayerUid===t.layer.uid&&requestAnimationFrame(()=>e==null?void 0:e.setFocus())}_handleCalciteListItemDragHandleChange(e,t){e.stopPropagation();const i=e.target.dragSelected;this._selectedDragItemLayerUid=i?t.layer.uid:null}_handleCalciteListChange(e){const{selectionMode:t,selectedItems:i}=this;if(t==="none")return;const l=e.target.selectedItems.map(n=>T(n)).filter(Boolean);i.removeAll(),i.addMany(l)}_togglePanel(e){e.open=!e.open,e.open&&(this._focusPanelFlowItem=!0)}_triggerAction(e,t){t&&e&&(t.type==="toggle"&&(t.value=!t.value),this.triggerAction(t,e))}};o([s()],a.prototype,"_focusRootFlowItem",void 0),o([s()],a.prototype,"_focusPanelFlowItem",void 0),o([s()],a.prototype,"_dragEnabled",null),o([s()],a.prototype,"_filterEnabled",null),o([s()],a.prototype,"collapsed",void 0),o([s()],a.prototype,"dragEnabled",void 0),o([s()],a.prototype,"filterPlaceholder",void 0),o([s()],a.prototype,"filterText",void 0),o([s()],a.prototype,"headingLevel",void 0),o([s()],a.prototype,"icon",null),o([s()],a.prototype,"label",null),o([s()],a.prototype,"listItemCanGiveFunction",void 0),o([s()],a.prototype,"listItemCanReceiveFunction",void 0),o([s()],a.prototype,"listItemCreatedFunction",null),o([s()],a.prototype,"map",null),o([s(),U("esri/widgets/TableList/t9n/TableList")],a.prototype,"messages",void 0),o([s(),U("esri/t9n/common")],a.prototype,"messagesCommon",void 0),o([s()],a.prototype,"minDragEnabledItems",void 0),o([s()],a.prototype,"minFilterItems",void 0),o([s()],a.prototype,"multipleSelectionEnabled",null),o([s()],a.prototype,"selectionEnabled",null),o([s()],a.prototype,"selectedItems",void 0),o([s()],a.prototype,"selectionMode",void 0),o([s({readOnly:!0})],a.prototype,"tableItems",null),o([s()],a.prototype,"tables",null),o([ne("trigger-action"),s({type:X})],a.prototype,"viewModel",void 0),o([s({type:Y,nonNullable:!0})],a.prototype,"visibleElements",void 0),a=o([L("esri.widgets.TableList")],a);const Ne=a;export{Ne as default};
