const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./AreaMeasurement2D-FwgR-IJv.js","./Accessor-BmwT4B0c.js","./jsxFactory-Cnml7uXM.js","./intl-Duiy0OzY.js","./Promise-DfET-uns.js","./cast-CsZslgGN.js","./index-4eY77cms.js","./index-Cx51aysm.css","./JSONSupport-DcrLLGjL.js","./Evented-Dw4_VOGn.js","./reactiveUtils-XM7cS2OP.js","./SimpleObservable-CvOkykwM.js","./uuid-Cl5lrJ4c.js","./Point-Cz2JYYmX.js","./writer-DKgfqj4X.js","./projection-CyCZAIaD.js","./vec3f64-BLpZdpfb.js","./Extent-g5W9hy0j.js","./Polyline-s-JzsQqo.js","./mathUtils-Cfq9PL9W.js","./projectBuffer-CQnuEMuP.js","./geodesicConstants-RQL9oKdk.js","./defaultUnit-CHqZKPQE.js","./getDefaultUnitForView-BBSnYQvp.js","./Portal-CmmHxpLg.js","./SnappingManager-DoaI-UDx.js","./elevationInfoUtils-D26wVF2d.js","./unitConversionUtils-rg07EgOm.js","./lengthUtils-_77UiyVF.js","./RightAngleSnappingHint-BepRvd6S.js","./Color-VJEMvW-n.js","./colorUtils-Rxh2V3ai.js","./opacityUtils-Dim20wpZ.js","./timeUtils-C1c_L2Fd.js","./vec32-Dvg_eL9J.js","./common-DQOJ18NT.js","./projectVectorToVector-CCOy_B5J.js","./projectPointToVector-BoxjK-qy.js","./Query-B_2mhyL4.js","./enumeration-DpvDkLNI.js","./jsonUtils-CwFG8yN4.js","./typeUtils-B6WBEKDM.js","./Field-BDG0QV_T.js","./fieldType-CBeoJWlv.js","./FullTextSearch-CBnxSwz4.js","./Clonable-Z-AWS-16.js","./TimeExtent-BO6BsF_x.js","./InputManager-DZ3jJnlx.js","./Queue-BQesTh_6.js","./signal-CySMLEX9.js","./keybindings-CTmT1RTo.js","./utils-BjSXFjBJ.js","./Version-Cd3TlGH0.js","./vec2-ChnYg_BJ.js","./vec2f64-Dy6m9Nrb.js","./vec42-YcqnINSP.js","./vec4f64-o2zAXfmz.js","./geodesicUtils-Cvz9v8ds.js","./plane-CpXmOyqq.js","./mat3f64-BBpwCtoL.js","./mat4f64-Dk4dwAN8.js","./quatf64-CCm9z-pX.js","./mathUtils-BgCEaV43.js","./sphere-Cin5efBj.js","./mat4-Fi6iAz29.js","./mat3-CR8GKnhD.js","./geometry2dUtils-D9Oax6Qb.js","./screenUtils-_ZIvrt5o.js","./viewUtils-CV6QVz7y.js","./Graphic-Dt0LgVGU.js","./ActionToggle-D7439N1A.js","./Identifiable-BHVfzH03.js","./TextSymbol-BLIQ6RKX.js","./collectionUtils-CTT-51g7.js","./aaBoundingBox-Dw3yBk2f.js","./colorUtils-DaPfwnk3.js","./unitFormatUtils-Q7ZG7HcF.js","./ByteSizeUnit-BsxeN7wM.js","./Cyclical-Dlbl-cQK.js","./quantityUtils-BsDK158M.js","./UpdatingHandles-CzJ4c3KT.js","./geometryEngine-CLtm9OQA.js","./geometryEngineBase-B0ZyeKAX.js","./_commonjsHelpers-DCkdB7M8.js","./hydrated-DcIAHEVL.js","./GraphicsLayer-D3KyXpUc.js","./GraphicsCollection-BJ5Nr2H8.js","./Layer-DH4_Pn8a.js","./ScaleRangeLayer-Cnzwr9PT.js","./layerContainerType-C5CzMsLd.js","./jsonUtils-DZz5FrgB.js","./utils-DYurMneM.js","./mat4f32-DcsiF_Rp.js","./ElevationInfo-BPOqhCue.js","./ViewingMode-Dodu7ZZk.js","./SnappingVisualizer2D-xvUExsy2.js","./enums-BTM-fOHQ.js","./SnappingVisualizer-bfo0JaXd.js","./PointSnappingHint-DWAfJfrj.js","./Draw-BNcmHGQG.js","./EditGeometryOperations-CAMJU2Wn.js","./SnappingContext-lR2hMWGP.js","./SnappingOperation-D1hMlFdT.js","./Scheduler-i_u8qdlN.js","./debugFlags-B1LM_Apo.js","./screenUtils-BWEEmpSb.js","./surfaceCoordinateSystems-DVyjKZ7x.js","./memoize-DmxaQ-k8.js","./ReactiveSet-DgPcISC1.js","./diffUtils-BanfihCO.js","./dehydratedFeatureComparison-j4L0peJx.js","./DrawingMode-Cvvf0VVz.js","./dragEventPipeline-Dj33NxJd.js","./meshVertexSpaceUtils-AgAbm20L.js","./MeshLocalVertexSpace-CnHk-qPr.js","./hydratedFeatures-CNHxsqRS.js","./angularMeasurementUtils-hHgHLVYP.js","./SketchLabelOptions-DnwnoaXO.js","./SnappingDragPipelineStep-dx2sltqU.js","./mat2d-D9DBP-jx.js","./mat2df64-CBKYtunK.js","./quat-CP7JhygC.js","./InteractiveToolBase-rZBtMOMv.js","./interfaces-D6pIddIh.js","./GraphicManipulator-D7rJmkQr.js","./defaults-FkBa0ybj.js","./defaultsJSON-GKolV7NZ.js","./drapedUtils--IsYcWNz.js","./MeasurementWidgetContent-Be6iRbDh.js","./UnitSelect-63i0421p.js","./globalCss-vQlnDsEX.js","./AreaMeasurement3D-CjUe8bNj.js","./Analysis-DG4TFZ53.js","./measurementUtils-CZMdV_le.js","./geodesicAreaMeasurementUtils-CfJYiWyy.js","./geodesicMeasurementUtils-B-7dBAnY.js","./SnappingVisualizer3D-CNnXtbrW.js","./ExtendedLineVisualElement-D_FcbyIy.js","./Octree-CmoRJhci.js","./InterleavedLayout-_dYEAUNK.js","./BufferView-0osDbyWD.js","./types-D0PSWh4d.js","./lineSegment-v806maA5.js","./EngineVisualElement-BU-x7ubB.js","./GridLocalOriginFactory-CngFIYNp.js","./Attribute-DGhdp5lO.js","./Material-C_-mgXN8.js","./VertexAttribute-Cq4MnHjR.js","./boundedPlane-DuGhiiFM.js","./NoParameters-t-PuNrgq.js","./FloatArray-BQXWSSJh.js","./BindType-BBwFZqyN.js","./Matrix3PassUniform-uCCQMnlP.js","./Texture-BVJ22uHh.js","./enums-D9v74xTE.js","./getDataTypeBytes-BTGR5GyG.js","./renderState-Ci93M1-P.js","./basicInterfaces-CZwQPxTp.js","./Indices-D8XWalpO.js","./triangle-B1tKFm7z.js","./ShaderTechniqueConfiguration-D4dZMCXS.js","./glsl-BH37Aalp.js","./requestImageUtils-DWgRKL5q.js","./TextureFormat-1mYWTFa-.js","./RibbonLine.glsl-DwJpAQ1c.js","./sdfPrimitives-DBgFWIDT.js","./doublePrecisionUtils-B0owpBza.js","./floatRGBA-Cb__GiDF.js","./ShaderBuilder-BKul5qh8.js","./RgbaFloatEncoding.glsl-_io2eW3M.js","./OverlayCompositing.glsl-CUa8aMAb.js","./SceneLighting-BuSMIzqo.js","./RenderCamera-CDB-KFBK.js","./axisAngleDegrees-DdLZENJj.js","./weather-zOic7P_q.js","./BooleanBindUniform-BgD_OP8i.js","./Float4DrawUniform-Db0CLl_z.js","./RenderPlugin-CTXypYLE.js","./HighlightDefaults-CumzVg9-.js","./VertexElementDescriptor-BLyltQyJ.js","./VertexArrayObject-vYejmVPr.js","./BufferObject-BJilD_hc.js","./memoryEstimations-Bcyf-mHz.js","./NestedMap-GuqgquCN.js","./HUDRenderStyle-BhGvVxgm.js","./VisualElement-CaupdJPJ.js","./LaserlineVisualElement-C8OQFtp1.js","./Blit-_zFq7-RL.js","./glUtil-CAJRmga-.js","./CameraSpace.glsl-g9iLbhnR.js","./Float2PassUniform-x4sHx2JD.js","./Matrix4PassUniform-COGIPIq4.js","./GeometryUtil-D-PMXorz.js","./vec3f32-nZdmKIgz.js","./LaserlinePath.glsl-DNndnwiF.js","./Object3DVisualElement-D0-_EXFp.js","./ElevationContext-BJejROd5.js","./computeTranslationToOriginAndRotation-DYUrDrjE.js","./dehydratedFeatureUtils-1rrRm6hF.js","./ElevationProvider-aS5xrHHy.js","./HUDMaterial-DDt4C7E7.js","./HUDVisibility.glsl-DuFScu5i.js","./VerticalOffset.glsl-CsMbbWIx.js","./GLTextureMaterial-96UpbkjC.js","./DefaultBufferWriter-CqCDaNCZ.js","./RightAngleQuadVisualElement-IhLHtjxy.js","./ColorMaterial.glsl-B6FVFiO0.js","./TriangleMaterial-D-IjcYAX.js","./VertexColor.glsl-D3WyDYIi.js","./Matrix3DrawUniform-DD7AqlIc.js","./dragEventPipeline3D-BPjuyc9D.js","./ray-C_tSu6xd.js","./Intersector-tBiZcjSu.js","./intersectorUtils-BNnvTT1E.js","./verticalOffsetUtils-BFnFdbst.js","./orientedBoundingBox-B17G_yFO.js","./spatialReferenceEllipsoidUtils-DBqQpPRa.js","./RenderObject-DqJETQox.js","./graphicUtils-BFGMMQ1R.js","./ToolIntersector-Ce8oIgvQ.js","./ShadedColorMaterial.glsl-BFmY_SxS.js","./SnappingManagerPool-C7HBJ4KI.js","./InteractiveAnalysisViewModel-xgYySf2b.js","./DistanceMeasurement2D--sAsO_UD.js","./DirectLineMeasurement3D-B4588qTC.js","./interfaces-js1RL7O8.js","./interfaces-CjSZqm0S.js"])))=>i.map(i=>d[i]);
import{_ as h,L as m,u as _,c as y,n as f,i as U,a as M}from"./index-4eY77cms.js";import{g as W,r as e,m as i,a as p,j as S}from"./Accessor-BmwT4B0c.js";import{d as v}from"./reactiveUtils-XM7cS2OP.js";import{O as b,n as T,e as I}from"./jsxFactory-Cnml7uXM.js";import{an as E,ao as V}from"./Point-Cz2JYYmX.js";import{e as A}from"./defaultUnit-CHqZKPQE.js";import{P as D}from"./useWidget-BajufX8l.js";import"./Evented-Dw4_VOGn.js";import"./SimpleObservable-CvOkykwM.js";import"./intl-Duiy0OzY.js";import"./Promise-DfET-uns.js";import"./cast-CsZslgGN.js";import"./JSONSupport-DcrLLGjL.js";import"./uuid-Cl5lrJ4c.js";import"./writer-DKgfqj4X.js";import"./getDefaultUnitForView-BBSnYQvp.js";import"./Portal-CmmHxpLg.js";import"./Extent-g5W9hy0j.js";import"./index-C5b9dHRB.js";import"./component-utils-D0ciaaZ_.js";let l=class extends W{constructor(s){super(s),this.activeTool=null,this.activeViewModel=null,this.view=null}get areaUnit(){return this.defaultUnit}set areaUnit(s){this._overrideIfSome("areaUnit",s)}get linearUnit(){return this.defaultUnit}set linearUnit(s){this._overrideIfSome("linearUnit",s)}get state(){const{activeViewModel:s}=this;return s?s.state:"disabled"}};e([i({type:["area","distance","direct-line"]})],l.prototype,"activeTool",void 0),e([i()],l.prototype,"activeViewModel",void 0),e([i({type:E})],l.prototype,"areaUnit",null),e([i(A)],l.prototype,"defaultUnit",void 0),e([i({type:V})],l.prototype,"linearUnit",null),e([i({readOnly:!0})],l.prototype,"state",null),e([i()],l.prototype,"view",void 0),l=e([p("esri.widgets.Measurement.MeasurementViewModel")],l);const w=l,P={base:"esri-measurement"};function O(s){return(s==null?void 0:s.declaredClass)==="esri.widgets.AreaMeasurement2D"||(s==null?void 0:s.declaredClass)==="esri.widgets.AreaMeasurement3D"}let o=class extends b{constructor(t,r){super(t,r),this._widgets=new Map,this.activeWidget=null,this.messages=null,this.viewModel=new w}initialize(){this.activeWidget&&this.viewModel.set("activeViewModel",this.activeWidget.viewModel),this.view&&this.activeTool&&this._getActiveWidget().then(t=>{this._set("activeWidget",t)}),this.addHandles([v(()=>[this.view,this.activeTool],async()=>{this._set("activeWidget",await this._getActiveWidget())}),v(()=>this.activeWidget,(t,r)=>{this.viewModel.set("activeViewModel",t?t.viewModel:null),r&&(r.visible=!1)}),v(()=>[this.areaUnit,this.linearUnit,this.uiStrings],()=>this._updateSubWidgetProperties())])}destroy(){this._destroyWidgets()}get activeTool(){return this.viewModel.activeTool}set activeTool(t){this.viewModel.activeTool=t}get areaUnit(){return this.viewModel.areaUnit}set areaUnit(t){this.viewModel.areaUnit=t}get icon(){return"measure"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get linearUnit(){return this.viewModel.linearUnit}set linearUnit(t){this.viewModel.linearUnit=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const{activeWidget:t}=this,r=t&&!t.destroyed?t.render():null;return T("div",{class:P.base},r)}clear(){this.activeTool=null,this._destroyWidgets()}startMeasurement(){const{activeViewModel:t}=this.viewModel;t&&S(t.start())}async _createWidget(t){const{areaUnit:r,linearUnit:a,view:n}=this;if(!n)return null;switch(t){case"area":{const{type:u}=n;switch(u){case"2d":return new(await h(async()=>{const{default:d}=await import("./AreaMeasurement2D-FwgR-IJv.js");return{default:d}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130]),import.meta.url)).default({view:n,unit:r,uiStrings:this._createUIStringsForWidget(t)});case"3d":return new(await h(async()=>{const{default:d}=await import("./AreaMeasurement3D-CjUe8bNj.js");return{default:d}},__vite__mapDeps([131,1,2,3,4,5,6,7,8,9,10,11,12,132,45,71,13,14,18,17,19,22,23,24,107,80,115,69,32,39,30,31,70,40,41,72,67,73,16,74,36,20,21,37,15,133,34,35,63,64,55,56,65,59,58,60,61,54,62,134,79,81,82,83,84,57,135,136,75,26,27,28,68,53,137,138,139,140,141,142,143,144,145,146,147,148,94,149,150,151,152,153,49,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,121,174,175,176,177,178,179,180,181,182,183,184,103,104,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,29,33,38,42,43,44,46,47,48,50,51,52,66,97,98,210,211,212,213,214,215,216,112,113,114,100,217,123,218,122,219,220,101,118,110,221,25,102,105,222,128,129,130]),import.meta.url)).default({view:n,unit:r,uiStrings:this._createUIStringsForWidget(t)});default:return null}}case"distance":{const{type:u}=n;return u==="2d"?new(await h(async()=>{const{default:d}=await import("./DistanceMeasurement2D--sAsO_UD.js");return{default:d}},__vite__mapDeps([223,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130]),import.meta.url)).default({view:n,unit:a,uiStrings:this._createUIStringsForWidget(t)}):null}case"direct-line":{const{type:u}=n;return u==="3d"?new(await h(async()=>{const{default:d}=await import("./DirectLineMeasurement3D-B4588qTC.js");return{default:d}},__vite__mapDeps([224,1,2,3,4,5,6,7,8,9,10,11,12,132,45,71,13,14,22,23,24,17,107,80,115,69,32,39,30,31,19,70,40,18,41,72,67,73,16,74,36,20,21,37,15,133,34,35,63,64,55,56,65,59,58,60,61,54,62,134,79,81,82,83,84,57,135,136,75,26,27,28,68,53,137,138,139,140,141,142,143,144,145,146,147,148,94,149,150,151,152,153,49,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,121,174,175,176,177,178,179,180,181,182,183,184,103,104,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,29,33,38,42,43,44,46,47,48,50,51,52,66,97,98,210,211,212,213,214,215,216,112,113,114,100,225,226,217,123,218,220,122,101,118,110,221,25,105,222,128,129,130]),import.meta.url)).default({view:n,unit:a,uiStrings:this._createUIStringsForWidget(t)}):null}default:return null}}_destroyWidgets(){this._widgets.forEach(t=>t.destroy()),this._widgets.clear()}async _getActiveWidget(){const{activeTool:t,view:r}=this;if(!r||!t)return null;let a=null;if(this._widgets.has(t))a=this._widgets.get(t),a.visible=!0;else{if(a=await this._createWidget(t),!a)return null;await a.viewModel.start(),this._widgets.set(t,a)}return a}_createUIStringsForWidget(t){var a;if(!this.uiStrings)return;const r=t+"-"+((a=this.view)==null?void 0:a.type);return this.uiStrings[r]}_updateSubWidgetProperties(){this._widgets.forEach((t,r)=>{const{areaUnit:a,linearUnit:n}=this;t.unit=O(t)?a:n,t.uiStrings=this._createUIStringsForWidget(r)})}};e([i()],o.prototype,"activeTool",null),e([i({readOnly:!0})],o.prototype,"activeWidget",void 0),e([i()],o.prototype,"areaUnit",null),e([i()],o.prototype,"icon",null),e([i()],o.prototype,"label",null),e([i()],o.prototype,"linearUnit",null),e([i(),I("esri/widgets/Measurement/t9n/Measurement")],o.prototype,"messages",void 0),e([i()],o.prototype,"uiStrings",void 0),e([i()],o.prototype,"view",null),e([i({type:w})],o.prototype,"viewModel",void 0),o=e([p("esri.widgets.Measurement")],o);const $=o;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.12 */const L=U`@layer{arcgis-measurement{display:block}}`,R=D($),c=class c extends m{constructor(){super(...arguments),this.widget=R(this),this.viewModel=this.widget.viewModel,this.activeTool=this.widget.activeTool,this.activeWidget=this.widget.activeWidget,this.areaUnit=this.widget.areaUnit,this.autoDestroyDisabled=!1,this.icon=this.widget.icon,this.label=this.widget.label,this.linearUnit=this.widget.linearUnit,this.position="bottom-left",this.state=this.viewModel.state,this.arcgisPropertyChange=_()("activeTool","state"),this.arcgisReady=y()}async clear(){var t;(t=this.widget)==null||t.clear()}async destroy(){await this.manager.destroy()}async startMeasurement(){var t;(t=this.widget)==null||t.startMeasurement()}};c.properties={activeTool:1,activeWidget:0,areaUnit:1,autoDestroyDisabled:5,icon:1,label:1,linearUnit:1,position:1,referenceElement:1,state:3},c.shadowRootOptions=f,c.styles=L;let g=c;M("arcgis-measurement",g);export{g as ArcgisMeasurement};
