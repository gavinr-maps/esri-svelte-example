import{ay as A,fE as S,fF as T,fG as F,dF as k,fH as _,fI as P,fJ as G,fK as p,fL as I,fM as R,fN as a,G as H,fO as W,fP as C,fQ as $,fR as h,cl as O}from"./index-B1qcMJFy.js";const U=new A(S),i=new A(T),c=new A(F);new A(k);function g(s){const r=w.get(s);if(r)return r;let n=U;if(s)if(s===i)n=i;else if(s===c)n=c;else{const u=s.wkid,f=s.latestWkid;if(u!=null||f!=null)_(u)||_(f)?n=i:(P(u)||P(f))&&(n=c);else{const o=s.wkt2??s.wkt;if(o){const e=o.toUpperCase();e===d?n=i:e===m&&(n=c)}}}return w.set(s,n),n}const w=new Map,d=i.wkt.toUpperCase(),m=c.wkt.toUpperCase();function N(s,r,n){const u=Math.sin(s),f=Math.cos(s),o=Math.sin(r),e=Math.cos(r),t=n;return t[0]=-u,t[4]=-o*f,t[8]=e*f,t[12]=0,t[1]=f,t[5]=-o*u,t[9]=e*u,t[13]=0,t[2]=0,t[6]=e,t[10]=o,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,t}function B(s,r,n){return N(s,r,n),G(n,n),n}function q(s,r,n,u){if(s==null||u==null)return!1;const f=p(s,I),o=p(u,R);if(f===o&&!M(o)&&(f!==a.UNKNOWN||H(s,u)))return W(n,r),!0;if(M(o)){const e=C[f][a.LON_LAT],t=C[a.LON_LAT][o];return e!=null&&t!=null&&(e(r,0,l,0),t(l,0,E,0),N(L*l[0],L*l[1],n),n[12]=E[0],n[13]=E[1],n[14]=E[2],!0)}if((o===a.WEB_MERCATOR||o===a.PLATE_CARREE||o===a.WGS84)&&(f===a.WGS84||f===a.CGCS2000&&o===a.PLATE_CARREE||f===a.SPHERICAL_ECEF||f===a.WEB_MERCATOR)){const e=C[f][a.LON_LAT],t=C[a.LON_LAT][o];return e!=null&&t!=null&&(e(r,0,l,0),t(l,0,E,0),f===a.SPHERICAL_ECEF?B(L*l[0],L*l[1],n):$(n),n[12]=E[0],n[13]=E[1],n[14]=E[2],!0)}return!1}function M(s){return s===a.SPHERICAL_ECEF||s===a.SPHERICAL_MARS_PCPF||s===a.SPHERICAL_MOON_PCPF}const L=h(1),l=O(),E=O();export{q as R,g as a};
