import{r as o,c as l,g as d}from"./index-Bh2oEzTI.js";import{u as r}from"./index-ee4c09de-CPW6V7nq.js";import{B as a,C as n}from"./index-5cc0d3e9-BXwdUzLn.js";import{m as g}from"./useWidget-4dc2787d-C-ZlEsbo.js";import{d as h}from"./component-utils-42b12dba-BfugynV_.js";import{u as c,g as i}from"./index-69f02a9e-wRYZXCy2.js";/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.2
 */const m=".arcgis-feature-table{width:100%;height:100%}",w=m,u=g(a),b=class{constructor(t){o(this,t),this.arcgisReady=l(this,"arcgisReady",7),this.arcgisSelectionChange=l(this,"arcgisSelectionChange",7),this.arcgisPropertyChange=l(this,"arcgisPropertyChange",7),this.widgetCellClick=l(this,"arcgisCellClick",7),this.widgetCellKeydown=l(this,"arcgisCellKeydown",7),this.widgetCellPointerout=l(this,"arcgisCellPointerout",7),this.widgetCellPointerover=l(this,"arcgisCellPointerover",7),this.widgetColumnReorder=l(this,"arcgisColumnReorder",7),this.manager=c(this),this.widget=u(this),this.viewModel=this.widget.viewModel,this.arcgisPropertyChange=r()("effectiveSize","isQueryingOrSyncing","layerView","size","state"),this.autoDestroyDisabled=!1,this.referenceElement=void 0,this.position="manual",this.actionColumnConfig=this.widget.actionColumnConfig,this.activeFilters=i(void 0,{get:()=>this.widget.activeFilters,set:"ignore"}),this.activeSortOrders=i([],{get:()=>this.widget.activeSortOrders,set:"ignore"}),this.allRelatedTablesVisible=i(void 0,{get:()=>this.widget.allRelatedTablesVisible,set:"ignore"}),this.attachmentsEnabled=this.widget.attachmentsEnabled,this.attributeTableTemplate=this.widget.attributeTableTemplate,this.autoRefreshDisabled=this.widget.autoRefreshEnabled,this.columnReorderingDisabled=this.widget.columnReorderingEnabled,this.columns=i(void 0,{get:()=>this.widget.columns,set:"ignore"}),this.description=this.widget.description,this.icon=this.widget.icon,this.label=this.widget.label,this.editingEnabled=this.widget.editingEnabled,this.effectiveSize=i(void 0,{get:()=>this.widget.effectiveSize,set:"ignore"}),this.filterBySelectionEnabled=this.widget.filterBySelectionEnabled,this.filterGeometry=this.widget.filterGeometry,this.hiddenFields=this.widget.hiddenFields,this.hideColumnDescriptions=this.widget.visibleElements.columnDescriptions,this.highlightDisabled=this.widget.highlightEnabled,this.highlightIds=this.widget.highlightIds,this.initialSize=this.widget.initialSize,this.isQueryingOrSyncing=i(void 0,{get:()=>this.widget.isQueryingOrSyncing,set:"ignore"}),this.layer=this.widget.layer,this.layerView=i(void 0,{get:()=>this.widget.layerView,set:"ignore"}),this.layers=i(void 0,{get:()=>this.widget.layers,set:"ignore"}),this.maxSize=this.widget.maxSize,this.menuConfig=this.widget.menuConfig,this.multipleSortEnabled=this.widget.multiSortEnabled,this.multipleSelectionDisabled=this.widget.multipleSelectionEnabled,this.objectIds=this.widget.objectIds,this.outFields=this.widget.outFields,this.pageCount=this.widget.pageCount,this.pageIndex=this.widget.pageIndex,this.paginationEnabled=this.widget.paginationEnabled,this.pageSize=this.widget.pageSize,this.relatedRecordsEnabled=this.widget.relatedRecordsEnabled,this.relatedTable=i(void 0,{get:()=>this.widget.relatedTable,set:"ignore"}),this.relatedTables=this.widget.relatedTables,this.returnGeometryEnabled=this.widget.returnGeometryEnabled,this.returnMEnabled=this.widget.returnMEnabled,this.returnZEnabled=this.widget.returnZEnabled,this.rowHighlightIds=this.widget.rowHighlightIds,this.showLayerDropdown=this.widget.visibleElements.layerDropdown,this.size=i(0,{get:()=>this.widget.size,set:"ignore"}),this.tableController=i(void 0,{get:()=>this.widget.tableController,set:"ignore"}),this.tableDisabled=this.widget.disabled,this.tableParent=i(void 0,{get:()=>this.widget.tableParent,set:"ignore"}),this.tableTemplate=this.widget.tableTemplate,this.timeExtent=this.widget.timeExtent,this.timeZone=this.widget.timeZone,this.layerItemId=i(void 0,{set:e=>(h(e)?this.layer=null:e&&n().then(async s=>await s.fromPortalItem({portalItem:{id:e}})).then(s=>{this.layer=s}).catch(console.error),e)}),this.layerUrl=i(void 0,{set:e=>(h(e)?this.layer=null:e&&n().then(async s=>await s.fromArcGISServerUrl({url:e})).then(s=>{this.layer=s}).catch(console.error),e)}),this.hideHeader=this.widget.visibleElements.header,this.hideMenu=this.widget.visibleElements.menu,this.hideColumnMenus=this.widget.visibleElements.columnMenus,this.hideColumnMenuItemsSortAscending=this.widget.visibleElements.columnMenuItems.sortAscending,this.hideColumnMenuItemsSortDescending=this.widget.visibleElements.columnMenuItems.sortDescending,this.hideMenuItemsClearSelection=this.widget.visibleElements.menuItems.clearSelection,this.hideMenuItemsDeleteSelection=this.widget.visibleElements.menuItems.deleteSelection,this.hideMenuItemsExportSelectionToCsv=this.widget.visibleElements.menuItems.exportSelectionToCSV,this.hideMenuItemsRefreshData=this.widget.visibleElements.menuItems.refreshData,this.hideMenuItemsSelectedRecordsShowAllToggle=this.widget.visibleElements.menuItems.selectedRecordsShowAllToggle,this.hideMenuItemsSelectedRecordsShowSelectedToggle=this.widget.visibleElements.menuItems.selectedRecordsShowSelectedToggle,this.hideMenuItemsToggleColumns=this.widget.visibleElements.menuItems.toggleColumns,this.hideMenuItemsZoomToSelection=this.widget.visibleElements.menuItems.zoomToSelection,this.hideProgress=this.widget.visibleElements.progress,this.hideSelectionColumn=this.widget.visibleElements.selectionColumn,this.hideTooltips=this.widget.visibleElements.tooltips,this.state=this.widget.state}componentWillLoad(){this.manager.onLifecycle(()=>this.widget.highlightIds.on("change",this.arcgisSelectionChange.emit))}componentDidLoad(){var t;(t=this.el.childElem)==null||t.classList.add("arcgis-feature-table")}async destroy(){await this.manager.destroy()}async deleteSelection(t){var e;await((e=this.widget)==null?void 0:e.deleteSelection(t))}async exportSelectionToCSV(t){var e;await((e=this.widget)==null?void 0:e.exportSelectionToCSV(t))}async findColumn(t){var e;return(e=this.widget)==null?void 0:e.findColumn(t)}async goToPage(t){this.widget.goToPage(t)}async hideColumn(t){var e;(e=this.widget)==null||e.hideColumn(t)}async nextPage(){this.widget.nextPage()}async previousPage(){this.widget.previousPage()}async refresh(){var t;await((t=this.widget)==null?void 0:t.refresh())}async scrollToLeft(){this.widget.scrollLeft()}async scrollToBottom(){this.widget.scrollToBottom()}async scrollToIndex(t){var e;(e=this.widget)==null||e.scrollToIndex(t)}async scrollToRow(t){var e;(e=this.widget)==null||e.scrollToRow(t)}async scrollToTop(){this.widget.scrollToTop()}async showAllColumns(){var t;(t=this.widget)==null||t.showAllColumns()}async showColumn(t){var e;(e=this.widget)==null||e.showColumn(t)}async sortColumn(t,e){var s;(s=this.widget)==null||s.sortColumn(t,e)}async zoomToSelection(){var t;(t=this.widget)==null||t.zoomToSelection()}get el(){return d(this)}};b.style=w;export{b as arcgis_feature_table};
