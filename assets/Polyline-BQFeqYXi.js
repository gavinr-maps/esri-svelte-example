import{e as d}from"./Evented-CXIxDjmW.js";import{y as R,b as X,a as S,J as ae}from"./subclass-BR3PhgZG.js";import{r as W}from"./writer-3zufXUNV.js";import{w as F,p as ze,f as we}from"./Extent-B4rrMrqp.js";import{n as H,_ as $,b as Se,f as oe,a6 as _e}from"./Point-TlcsOcXV.js";import{e as O}from"./mathUtils-ClvKsMak.js";function _(e,t,n=!1){let{hasM:i,hasZ:s}=e;Array.isArray(t)?t.length!==4||i||s?t.length===3&&n&&!i?(s=!0,i=!1):t.length===3&&i&&s&&(i=!1,s=!1):(i=!0,s=!0):(s=!s&&t.hasZ&&(!i||t.hasM),i=!i&&t.hasM&&(!s||t.hasZ)),e.hasZ=s,e.hasM=i}var k;function ie(e){return(t,n)=>t==null?n:n==null?t:e(t,n)}function Te(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let N=k=class extends H{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){var s;if(!e&&!t)return{};const n={};Array.isArray(e)?(n.points=e,n.spatialReference=t):Te(e)?n.spatialReference=e:(e.points&&(n.points=e.points),e.spatialReference&&(n.spatialReference=e.spatialReference),e.hasZ&&(n.hasZ=e.hasZ),e.hasM&&(n.hasM=e.hasM));const i=(s=n.points)==null?void 0:s[0];return i&&(n.hasZ===void 0&&n.hasM===void 0?(n.hasZ=i.length>2,n.hasM=!1):n.hasZ===void 0?n.hasZ=i.length>3:n.hasM===void 0&&(n.hasM=i.length>3)),n}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new F,n=this.hasZ,i=this.hasM,s=n?3:2,a=e[0],r=ie(Math.min),o=ie(Math.max);let l,h,u,c,[f,p]=a,[m,g]=a;for(let y=0,M=e.length;y<M;y++){const x=e[y],[v,w]=x;if(f=r(f,v),p=r(p,w),m=o(m,v),g=o(g,w),n&&x.length>2){const I=x[2];l=r(l,I),u=o(u,I)}if(i&&x.length>s){const I=x[s];h=r(h,I),c=o(c,I)}}return t.xmin=f,t.ymin=p,t.xmax=m,t.ymax=g,t.spatialReference=this.spatialReference,n?(t.zmin=l,t.zmax=u):(t.zmin=void 0,t.zmax=void 0),i?(t.mmin=h,t.mmax=c):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=S(this.points)}addPoint(e){return _(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:S(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new k(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],n={x:t[0],y:t[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(n.z=t[2],i=3),this.hasM&&(n.m=t[i]),new $(n)}removePoint(e){if(!this._validateInputs(e))return null;const t=new $(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(_(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};d([R({readOnly:!0})],N.prototype,"cache",null),d([R()],N.prototype,"extent",null),d([R({type:[[Number]],json:{write:{isRequired:!0}}})],N.prototype,"points",void 0),d([W("points")],N.prototype,"writePoints",null),N=k=d([X("esri.geometry.Multipoint")],N),N.prototype.toJSON.isDefaultToJSON=!0;const lt=N;function ut(e){const t=[];for(e.reset();e.nextPath();){const n=[];for(;e.nextPoint();)n.push([e.x,e.y]);t.push(n)}return e.reset(),t}function be(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var E;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(E||(E={}));function ct(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,n=e.hasM;if(e.type==="point")return n&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:n?[e.x,e.y,e.m]:[e.x,e.y];if(e.type==="polygon")return e.rings.slice(0);if(e.type==="polyline")return e.paths.slice(0);if(e.type==="multipoint")return e.points.slice(0);if(e.type==="extent"){const i=e.clone().normalize();if(!i)return null;let s=!1,a=!1;return i.forEach(r=>{r.hasZ&&(s=!0),r.hasM&&(a=!0)}),i.map(r=>{const o=[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.xmax,r.ymin],[r.xmin,r.ymin]];if(s&&r.hasZ){const l=.5*(r.zmax-r.zmin);for(let h=0;h<o.length;h++)o[h].push(l)}if(a&&r.hasM){const l=.5*(r.mmax-r.mmin);for(let h=0;h<o.length;h++)o[h].push(l)}return o})}return null}function Y(e,t){const n=t[0]-e[0],i=t[1]-e[1];if(e.length>2&&t.length>2){const s=e[2]-t[2];return Math.sqrt(n*n+i*i+s*s)}return Math.sqrt(n*n+i*i)}function he(e,t,n){const i=e[0]+n*(t[0]-e[0]),s=e[1]+n*(t[1]-e[1]);return e.length>2&&t.length>2?[i,s,e[2]+n*(t[2]-e[2])]:[i,s]}function ft(e,t,n,i){return Oe(e,t,n[i],n[i+1])}function Oe(e,t,n,i){const[s,a]=t,[r,o]=n,[l,h]=i,u=l-r,c=h-o,f=u*u+c*c,p=(s-r)*u+(a-o)*c,m=Math.min(1,Math.max(0,p/f));return e[0]=r+u*m,e[1]=o+c*m,e}function pt(e,t,n,i,s,a){let r=n,o=i,l=s-r,h=a-o;if(l!==0||h!==0){const u=((e-r)*l+(t-o)*h)/(l*l+h*h);u>1?(r=s,o=a):u>0&&(r+=l*u,o+=h*u)}return l=e-r,h=t-o,l*l+h*h}function le(e,t){return he(e,t,.5)}function mt(e){const t=e.length;let n=0;for(let i=0;i<t-1;++i)n+=Y(e[i],e[i+1]);return n}function gt(e,t){if(t<=0)return e[0];const n=e.length;let i=0;for(let s=0;s<n-1;++s){const a=Y(e[s],e[s+1]);if(t-i<a){const r=(t-i)/a;return he(e[s],e[s+1],r)}i+=a}return e[n-1]}function ue(e,t=E.X,n=E.Y){let i=0;const s=e.length;let a=e[0];for(let r=1;r<s;r++){const o=e[r];i+=(o[t]-a[t])*(o[n]+a[n]),a=o}if(!ce(e)){const r=e[0];i+=(r[t]-a[t])*(r[n]+a[n])}return i>=0}function ce(e){const t=e.length;return t<3||ae(e[0],e[t-1])}function yt(e){"rings"in e&&(Ce(e),Ee(e))}function Ce(e){if(!("rings"in e))return!1;let t=!1;for(const n of e.rings)ce(n)||(n.push(n[0].slice()),t=!0);return t}function Ee(e){if(!("rings"in e)||e.rings.length===0||ue(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function xt(e){return e.type!=="polygon"&&e.type!=="polyline"||Fe(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function Fe(e,t){const n=Se(t);if(!n)return;const i=n.valid[0],s=n.valid[1],a=s-i;for(const r of e){let o=1/0,l=-1/0;for(const u of r){const c=Ye(u[0],i,s);o=Math.min(o,c),l=Math.max(l,c),u[0]=c}const h=l-o;a-h<h&&r.forEach(u=>{u[0]<0&&(u[0]+=a)})}}function Ye(e,t,n){const i=n-t;return e<t?n-(t-e)%i:e>n?t+(e-t)%i:e}function Mt(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[n,i]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return n.length===i.length&&n.every((s,a)=>s.length===i[a].length)}function dt(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function Je(e){return e?Ve(e.rings,e.hasZ??!1):null}function Ve(e,t){if(!(e!=null&&e.length))return null;const n=[],i=[],s=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let a=0,r=e.length;a<r;a++){const o=fe(e[a],t,s);o&&i.push(o)}if(i.sort((a,r)=>{let o=a[2]-r[2];return o===0&&t&&(o=a[4]-r[4]),o}),i.length&&(n[0]=i[0][0],n[1]=i[0][1],t&&(n[2]=i[0][3]),(n[0]<s[0]||n[0]>s[1]||n[1]<s[2]||n[1]>s[3]||t&&(n[2]<s[4]||n[2]>s[5]))&&(n.length=0)),!n.length){const a=e[0]&&e[0].length?qe(e[0],t):null;if(!a)return null;n[0]=a[0],n[1]=a[1],t&&a.length>2&&(n[2]=a[2])}return n}function fe(e,t,n){let i=0,s=0,a=0,r=0,o=0;const l=e.length?e[0][0]:0,h=e.length?e[0][1]:0,u=e.length&&t?e[0][2]:0;for(let f=0;f<e.length;f++){const p=e[f],m=e[(f+1)%e.length],[g,y,M]=p,x=g-l,v=y-h,[w,I,Ae]=m,q=w-l,U=I-h,G=x*U-q*v;if(r+=G,i+=(x+q)*G,s+=(v+U)*G,t&&p.length>2&&m.length>2){const ee=M-u,te=Ae-u,ne=x*te-q*ee;a+=(ee+te)*ne,o+=ne}g<n[0]&&(n[0]=g),g>n[1]&&(n[1]=g),y<n[2]&&(n[2]=y),y>n[3]&&(n[3]=y),t&&(M<n[4]&&(n[4]=M),M>n[5]&&(n[5]=M))}if(r>0&&(r*=-1),o>0&&(o*=-1),!r)return null;r*=.5,o*=.5;const c=[i/(6*r)+l,s/(6*r)+h,r];return t&&(n[4]===n[5]||o===0?(c[3]=(n[4]+n[5])/2,c[4]=0):(c[3]=a/(6*o)+u,c[4]=o)),c}function $t(e,t){let n=0,i=0,s=0;e.nextPoint();const a=e.pathSize?e.x:0,r=e.pathSize?e.y:0;for(let o=0;o<e.pathSize;o++){e.seekInPath(o);const l=[e.x,e.y];e.seekInPath((o+1)%e.pathSize);const h=[e.x,e.y],[u,c]=l,f=u-a,p=c-r,[m,g]=h,y=m-a,M=g-r,x=f*M-y*p;s+=x,n+=(f+y)*x,i+=(p+M)*x,u<t[0]&&(t[0]=u),u>t[1]&&(t[1]=u),c<t[2]&&(t[2]=c),c>t[3]&&(t[3]=c)}return s>0&&(s*=-1),s?(s*=.5,[n/(6*s)+a,i/(6*s)+r,s]):null}function qe(e,t){const n=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let s=0,a=0,r=0,o=0;for(let l=0,h=e.length;l<h-1;l++){const u=e[l],c=e[l+1];if(u&&c){n[0]=u[0],n[1]=u[1],i[0]=c[0],i[1]=c[1],t&&u.length>2&&c.length>2&&(n[2]=u[2],i[2]=c[2]);const f=Y(n,i);if(f){s+=f;const p=le(u,c);a+=f*p[0],r+=f*p[1],t&&p.length>2&&(o+=f*p[2])}}}return s>0?t?[a/s,r/s,o/s]:[a/s,r/s]:e.length?e[0]:null}function Ge(e){const{hasZ:t,totalSize:n}=e;if(n===0)return null;const i=[],s=[],a=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const r=fe(be(e),e.hasZ,a);r&&s.push(r)}if(s.sort((r,o)=>{let l=r[2]-o[2];return l===0&&t&&(l=r[4]-o[4]),l}),s.length&&(i[0]=s[0][0],i[1]=s[0][1],t&&(i[2]=s[0][3]),(i[0]<a[0]||i[0]>a[1]||i[1]<a[2]||i[1]>a[3]||t&&(i[2]<a[4]||i[2]>a[5]))&&(i.length=0)),!i.length){e.reset(),e.nextPath();const r=e.pathSize?ke(e):null;if(!r)return null;i[0]=r[0],i[1]=r[1],t&&r.length>2&&(i[2]=r[2])}return i}function ke(e){const{hasZ:t}=e,n=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let s=0,a=0,r=0,o=0;if(e.nextPoint()){let l=e.x,h=e.y,u=e.z;for(;e.nextPoint();){const c=e.x,f=e.y,p=e.z;n[0]=l,n[1]=h,i[0]=c,i[1]=f,t&&(n[2]=u,i[2]=p);const m=Y(n,i);if(m){s+=m;const g=le(n,i);a+=m*g[0],r+=m*g[1],t&&g.length>2&&(o+=m*g[2])}l=c,h=f,u=p}}return s>0?t?[a/s,r/s,o/s]:[a/s,r/s]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const je=1e-6;function vt(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<je){const s=Ge(e);return s?[s[0],s[1]]:null}const n=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const i=[e.x,e.y];for(e.reset();e.nextPath();)Xe(n,i,e);return n[0]*=1/t,n[1]*=1/t,n[0]+=i[0],n[1]+=i[1],n}const De=1/3;function Xe(e,t,n){if(!e||!n||n.pathSize<3)return null;n.nextPoint();const i=n.x,s=n.y;n.nextPoint();let a,r=n.x-i,o=n.y-s,l=0,h=0;for(;n.nextPoint();)l=n.x-i,h=n.y-s,a=.5*De*(l*o-h*r),e[0]+=a*(r+l),e[1]+=a*(o+h),r=l,o=h;const u=n.getCurrentRingArea(),c=[i,s];return c[0]-=t[0],c[1]-=t[1],c[0]*=u,c[1]*=u,e[0]+=c[0],e[1]+=c[1],e}function b(e=We){return[e[0],e[1],e[2],e[3]]}function It(e){return[e[0],e[1],e[2],e[3]]}function L(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function Rt(e,t,n,i,s=b()){return s[0]=e,s[1]=t,s[2]=n,s[3]=i,s}function Pt(e,t=b()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function Nt(e,t){return new F({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function Zt(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function At(e,t,n){if(t!=null)if("length"in t)j(t)?(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[0]),n[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":n[0]=Math.min(e[0],t.xmin),n[1]=Math.min(e[1],t.ymin),n[2]=Math.max(e[2],t.xmax),n[3]=Math.max(e[3],t.ymax);break;case"point":n[0]=Math.min(e[0],t.x),n[1]=Math.min(e[1],t.y),n[2]=Math.max(e[2],t.x),n[3]=Math.max(e[3],t.y)}else L(n,e)}function zt(e,t,n=e){const i=t.length;let s=e[0],a=e[1],r=e[2],o=e[3];for(let l=0;l<i;l++){const h=t[l];s=Math.min(s,h[0]),a=Math.min(a,h[1]),r=Math.max(r,h[0]),o=Math.max(o,h[1])}return n[0]=s,n[1]=a,n[2]=r,n[3]=o,n}function wt(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function J(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function V(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function St(e){return J(e)*V(e)}function _t(e){return J(e)>0&&V(e)>0}function Tt(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function bt(e,t){return pe(e,t[0],t[1])}function Ot(e,t){const n=t[3],i=.5*(e[0]+e[2]),s=Math.abs(t[0]-i),a=.5*(e[2]-e[0]);if(s>n+a)return!1;const r=.5*(e[1]+e[3]),o=.5*(e[3]-e[1]),l=Math.abs(t[1]-r);if(l>n+o)return!1;if(s<a||l<o)return!0;const h=s-a,u=l-o;return h*h+u*u<=n*n}function Ct(e,t,n){const i=e[0],s=e[1],a=e[2],r=e[3],{x:o,y:l}=t,{x:h,y:u}=n,c=(y,M)=>(u-l)*y+(o-h)*M+(h*l-o*u)<0,f=c(i,r),p=c(a,r),m=c(a,s),g=c(i,s);return!(f===p&&p===m&&m===g&&g===f||o<i&&h<i||o>a&&h>a||l>r&&u>r||l<s&&u<s)}function Et(e,t){return pe(e,t.x,t.y)}function pe(e,t,n){return t>=e[0]&&n>=e[1]&&t<=e[2]&&n<=e[3]}function Ft(e,t,n){return t[0]>=e[0]-n&&t[1]>=e[1]-n&&t[0]<=e[2]+n&&t[1]<=e[3]+n}function Yt(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function Jt(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function Vt(e,t,n){if(t==null)return L(n,e);const i=t[0],s=t[1],a=t[2],r=t[3];return n[0]=O(e[0],i,a),n[1]=O(e[1],s,r),n[2]=O(e[2],i,a),n[3]=O(e[3],s,r),n}function qt(e,t){const n=(e[0]+e[2])/2,i=(e[1]+e[3])/2,s=Math.max(Math.abs(t[0]-n)-J(e)/2,0),a=Math.max(Math.abs(t[1]-i)-V(e)/2,0);return Math.sqrt(s*s+a*a)}function Gt(e,t,n,i=e){return i[0]=e[0]+t,i[1]=e[1]+n,i[2]=e[2]+t,i[3]=e[3]+n,i}function kt(e,t,n=e){return n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n}function jt(e){return e?L(e,se):b(se)}function j(e){return e!=null&&e.length===4}function Dt(e){return!(J(e)!==0&&isFinite(e[0])||V(e)!==0&&isFinite(e[1]))}function Xt(e,t){return j(e)&&j(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const Wt=[-1/0,-1/0,1/0,1/0],se=[1/0,1/0,-1/0,-1/0],We=[0,0,0,0];function me(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function ge(e){return e.points!==void 0}function ye(e){return e.x!==void 0&&e.y!==void 0}function xe(e){return e.paths!==void 0}function Me(e){return e.rings!==void 0}function de(e){function t(n,i){return n==null?i:i==null?n:e(n,i)}return t}const A=de(Math.min),z=de(Math.max);function Ht(e,t){return xe(t)?T(e,t.paths,!1,!1):Me(t)?T(e,t.rings,!1,!1):ge(t)?B(e,t.points,!1,!1,!1,!1):me(t)?$e(e,t):(ye(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function Lt(e){let t,n,i,s;for(e.reset(),t=i=1/0,n=s=-1/0;e.nextPath();){const a=He(e);t=Math.min(a[0],t),i=Math.min(a[1],i),n=Math.max(a[2],n),s=Math.max(a[3],s)}return b([t,i,n,s])}function He(e){let t,n,i,s;for(t=i=1/0,n=s=-1/0;e.nextPoint();)t=Math.min(e.x,t),i=Math.min(e.y,i),n=Math.max(e.x,n),s=Math.max(e.y,s);return b([t,i,n,s])}function Bt(e,t){return xe(t)?T(e,t.paths,!0,!1):Me(t)?T(e,t.rings,!0,!1):ge(t)?B(e,t.points,!0,!1,!0,!1):me(t)?$e(e,t,!0,!1,!0,!1):(ye(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function T(e,t,n,i){const s=n?3:2;if(!t.length||!t[0].length)return null;let a,r,o,l,[h,u]=t[0][0],[c,f]=t[0][0];for(let p=0;p<t.length;p++){const m=t[p];for(let g=0;g<m.length;g++){const y=m[g],[M,x]=y;if(h=A(h,M),u=A(u,x),c=z(c,M),f=z(f,x),n&&y.length>2){const v=y[2];a=A(a,v),r=z(r,v)}if(i&&y.length>s){const v=y[s];o=A(a,v),l=z(r,v)}}}return n?i?(e[0]=h,e[1]=u,e[2]=a,e[3]=o,e[4]=c,e[5]=f,e[6]=r,e[7]=l,e.length=8,e):(e[0]=h,e[1]=u,e[2]=a,e[3]=c,e[4]=f,e[5]=r,e.length=6,e):i?(e[0]=h,e[1]=u,e[2]=o,e[3]=c,e[4]=f,e[5]=l,e.length=6,e):(e[0]=h,e[1]=u,e[2]=c,e[3]=f,e.length=4,e)}function $e(e,t,n,i,s,a){const r=t.xmin,o=t.xmax,l=t.ymin,h=t.ymax;let u=t.zmin,c=t.zmax,f=t.mmin,p=t.mmax;return s?(u=u||0,c=c||0,a?(f=f||0,p=p||0,e[0]=r,e[1]=l,e[2]=u,e[3]=f,e[4]=o,e[5]=h,e[6]=c,e[7]=p,e):(e[0]=r,e[1]=l,e[2]=u,e[3]=o,e[4]=h,e[5]=c,e)):a?(f=f||0,p=p||0,e[0]=r,e[1]=l,e[2]=f,e[3]=o,e[4]=h,e[5]=p,e):(e[0]=r,e[1]=l,e[2]=o,e[3]=h,e)}function B(e,t,n,i,s,a){const r=n?3:2,o=i&&a,l=n&&s;if(!t.length||!t[0].length)return null;let h,u,c,f,[p,m]=t[0],[g,y]=t[0];for(let M=0;M<t.length;M++){const x=t[M],[v,w]=x;if(p=A(p,v),m=A(m,w),g=z(g,v),y=z(y,w),l&&x.length>2){const I=x[2];h=A(h,I),u=z(u,I)}if(o&&x.length>r){const I=x[r];c=A(h,I),f=z(u,I)}}return s?(h=h||0,u=u||0,a?(c=c||0,f=f||0,e[0]=p,e[1]=m,e[2]=h,e[3]=c,e[4]=g,e[5]=y,e[6]=u,e[7]=f,e):(e[0]=p,e[1]=m,e[2]=h,e[3]=g,e[4]=y,e[5]=u,e)):a?(c=c||0,f=f||0,e[0]=p,e[1]=m,e[2]=c,e[3]=g,e[4]=y,e[5]=f,e):(e[0]=p,e[1]=m,e[2]=g,e[3]=y,e)}function Le(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Be(e){return e.points!==void 0}function Ke(e){return e.x!==void 0&&e.y!==void 0}function Qe(e){return e.paths!==void 0}function Ue(e){return e.rings!==void 0}const K=[];function ve(e,t,n,i){return{xmin:e,ymin:t,xmax:n,ymax:i}}function Ie(e,t,n,i,s,a){return{xmin:e,ymin:t,zmin:n,xmax:i,ymax:s,zmax:a}}function Re(e,t,n,i,s,a){return{xmin:e,ymin:t,mmin:n,xmax:i,ymax:s,mmax:a}}function Pe(e,t,n,i,s,a,r,o){return{xmin:e,ymin:t,zmin:n,mmin:i,xmax:s,ymax:a,zmax:r,mmax:o}}function Q(e,t=!1,n=!1){return t?n?Pe(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):Ie(e[0],e[1],e[2],e[3],e[4],e[5]):n?Re(e[0],e[1],e[2],e[3],e[4],e[5]):ve(e[0],e[1],e[2],e[3])}function Kt(e){return e?Le(e)?e:Ke(e)?tt(e):Ue(e)?Ne(e):Qe(e)?Ze(e):Be(e)?et(e):null:null}function et(e){const{hasZ:t,hasM:n,points:i}=e;return Q(B(K,i,t??!1,n??!1),t,n)}function tt(e){const{x:t,y:n,z:i,m:s}=e,a=s!=null;return i!=null?a?Pe(t,n,i,s,t,n,i,s):Ie(t,n,i,t,n,i):a?Re(t,n,s,t,n,s):ve(t,n,t,n)}function Ne(e){const{hasZ:t,hasM:n,rings:i}=e,s=T(K,i,t??!1,n??!1);return s?Q(s,t,n):null}function Ze(e){const{hasZ:t,hasM:n,paths:i}=e,s=T(K,i,t??!1,n??!1);return s?Q(s,t,n):null}var C;function re(e){return!Array.isArray(e[0])}let P=C=class extends H{static fromExtent(e){const t=e.clone().normalize(),n=e.spatialReference;let i=!1,s=!1;for(const r of t)r.hasZ&&(i=!0),r.hasM&&(s=!0);const a={rings:t.map(r=>{const o=[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.xmax,r.ymin],[r.xmin,r.ymin]];if(i&&r.hasZ){const l=r.zmin+.5*(r.zmax-r.zmin);for(let h=0;h<o.length;h++)o[h].push(l)}if(s&&r.hasM){const l=r.mmin+.5*(r.mmax-r.mmin);for(let h=0;h<o.length;h++)o[h].push(l)}return o}),spatialReference:n};return i&&(a.hasZ=!0),s&&(a.hasM=!0),new C(a)}constructor(...e){super(...e),this.rings=[],this.type="polygon"}normalizeCtorArgs(e,t){var r,o;let n,i,s=null,a=null;return e&&!Array.isArray(e)?(s=e.rings??null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),n=e.hasZ,i=e.hasM):s=e,s=s||[],t=t||oe.WGS84,s.length&&((r=s[0])==null?void 0:r[0])!=null&&typeof s[0][0]=="number"&&(s=[s]),a=(o=s[0])==null?void 0:o[0],a&&(n===void 0&&i===void 0?(n=a.length>2,i=a.length>3):n===void 0?n=i?a.length>3:a.length>2:i===void 0&&(i=n?a.length>3:a.length>2)),{rings:s,spatialReference:t,hasZ:n,hasM:i}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=Je(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new $;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=Ne(this);if(!t)return null;const n=new F(t);return n.spatialReference=e,n}get isSelfIntersecting(){return ze(this.rings)}writeRings(e,t){t.rings=S(this.rings)}addRing(e){if(!e)return;const t=this.rings,n=t.length;if(re(e)){const i=[];for(let s=0,a=e.length;s<a;s++)i[s]=e[s].toArray();t[n]=i}else t[n]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new C;return e.spatialReference=this.spatialReference,e.rings=S(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,n=e.spatialReference;if(t!=null!=(n!=null)||t!=null&&n!=null&&!t.equals(n)||this.rings.length!==e.rings.length)return!1;const i=([s,a,r,o],[l,h,u,c])=>s===l&&a===h&&(r==null&&u==null||r===u)&&(o==null&&c==null||o===c);for(let s=0;s<this.rings.length;s++){const a=this.rings[s],r=e.rings[s];if(!ae(a,r,i))return!1}return!0}contains(e){if(!e)return!1;const t=_e(e,this.spatialReference);return we(this,t??e)}isClockwise(e){const t=re(e)?e.map(n=>this.hasZ?this.hasM?[n.x,n.y,n.z,n.m]:[n.x,n.y,n.z]:[n.x,n.y]):e;return ue(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const n=this.rings[e][t],i=this.hasZ,s=this.hasM;return i&&!s?new $(n[0],n[1],n[2],void 0,this.spatialReference):s&&!i?new $(n[0],n[1],void 0,n[2],this.spatialReference):i&&s?new $(n[0],n[1],n[2],n[3],this.spatialReference):new $(n[0],n[1],this.spatialReference)}insertPoint(e,t,n){return this._validateInputs(e,t,!0)?(_(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[e].splice(t,0,n),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const n=new $(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),n}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],n=this.spatialReference,i=t.map(s=>new $(s,n));return this.notifyChange("rings"),i}setPoint(e,t,n){return this._validateInputs(e,t)?(_(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[e][t]=n,this.notifyChange("rings"),this):this}_validateInputs(e,t,n=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const i=this.rings[e];if(n&&(t<0||t>i.length)||!n&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};d([R({readOnly:!0})],P.prototype,"cache",null),d([R({readOnly:!0})],P.prototype,"centroid",null),d([R({readOnly:!0})],P.prototype,"extent",null),d([R({readOnly:!0})],P.prototype,"isSelfIntersecting",null),d([R({type:[[[Number]]],json:{write:{isRequired:!0}}})],P.prototype,"rings",void 0),d([W("rings")],P.prototype,"writeRings",null),P=C=d([X("esri.geometry.Polygon")],P),P.prototype.toJSON.isDefaultToJSON=!0;const Qt=P;var D;function nt(e){return!Array.isArray(e[0])}let Z=D=class extends H{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){var r,o;let n,i,s=null,a=null;return e&&!Array.isArray(e)?(s=e.paths??null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),n=e.hasZ,i=e.hasM):s=e,s=s||[],t=t||oe.WGS84,s.length&&((r=s[0])==null?void 0:r[0])!=null&&typeof s[0][0]=="number"&&(s=[s]),a=(o=s[0])==null?void 0:o[0],a&&(n===void 0&&i===void 0?(n=a.length>2,i=!1):n===void 0?n=!i&&a.length>3:i===void 0&&(i=!n&&a.length>3)),{paths:s,spatialReference:t,hasZ:n,hasM:i}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=Ze(this);if(!t)return null;const n=new F(t);return n.spatialReference=e,n}writePaths(e,t){t.paths=S(this.paths)}addPath(e){if(!e)return;const t=this.paths,n=t.length;if(nt(e)){const i=[];for(let s=0,a=e.length;s<a;s++)i[s]=e[s].toArray();t[n]=i}else t[n]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new D;return e.spatialReference=this.spatialReference,e.paths=S(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const n=this.paths[e][t],i=this.hasZ,s=this.hasM;return i&&!s?new $(n[0],n[1],n[2],void 0,this.spatialReference):s&&!i?new $(n[0],n[1],void 0,n[2],this.spatialReference):i&&s?new $(n[0],n[1],n[2],n[3],this.spatialReference):new $(n[0],n[1],this.spatialReference)}insertPoint(e,t,n){return this._validateInputs(e,t,!0)?(_(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[e].splice(t,0,n),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],n=this.spatialReference,i=t.map(s=>new $(s,n));return this.notifyChange("paths"),i}removePoint(e,t){if(!this._validateInputs(e,t))return null;const n=new $(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),n}setPoint(e,t,n){return this._validateInputs(e,t)?(_(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[e][t]=n,this.notifyChange("paths"),this):this}_validateInputs(e,t,n=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const i=this.paths[e];if(n&&(t<0||t>i.length)||!n&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};d([R({readOnly:!0})],Z.prototype,"cache",null),d([R({readOnly:!0})],Z.prototype,"extent",null),d([R({type:[[[Number]]],json:{write:{isRequired:!0}}})],Z.prototype,"paths",void 0),d([W("paths")],Z.prototype,"writePaths",null),Z=D=d([X("esri.geometry.Polyline")],Z),Z.prototype.toJSON.isDefaultToJSON=!0;const Ut=Z;export{Oe as $,Kt as A,Je as B,dt as C,jt as D,Yt as E,St as F,Ve as G,bt as H,Xt as I,Dt as J,se as K,Ft as L,xt as M,Et as N,kt as O,Ct as P,Mt as Q,Jt as R,ut as S,Ye as T,Vt as U,ft as V,be as W,mt as X,Lt as Y,He as Z,$t as _,b as a,vt as a0,Gt as a1,_t as a2,Wt as a3,It as a4,gt as a5,wt as a6,Tt as a7,qt as a8,Ot as a9,Rt as b,ue as c,Ht as d,L as e,Bt as f,Ce as g,zt as h,Nt as i,Qt as j,ct as k,At as l,Ut as m,E as n,Pt as o,pt as p,Zt as q,J as r,V as s,yt as t,lt as u,le as v,pe as w,T as x,Ne as y,Fe as z};
