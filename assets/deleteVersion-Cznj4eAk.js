import{U as c}from"./assets-C2mb-ea2.js";import{c as f}from"./subclass-BR3PhgZG.js";import{f as h,i as d,s as u}from"./utils-D61i9O7E.js";import{r as v}from"./serverVersionUtils-D13-2X18.js";import"./index-CeCSsEgo.js";import"./Evented-CXIxDjmW.js";import"./Accessor-D6mNnsWy.js";const o=new Map;async function $(e,t,i){o.has(e)||await v(o,e);const r=o.get(e);if(((r==null?void 0:r.serverVersion)??0)<=11.1)throw new f("deleteVersion:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");const s=h(e),n=t.toJSON(),a=d(s.query,{query:u({...n,f:"json"}),...i,authMode:"immediate",method:"post"}),m=`${s.path}/delete`,{data:p}=await c(m,a);return p.success}export{$ as deleteVersion,o as serverVersionCacheMap};
