import{l as j}from"./quantityUtils-BsDK158M.js";import{a5 as k}from"./Point-Cz2JYYmX.js";import{e as C}from"./earcut-D9gy186-.js";import{o as g,q as R,j as b}from"./vec32-Dvg_eL9J.js";import{n as m}from"./vec3f64-BLpZdpfb.js";import{n as v}from"./projectVectorToVector-CCOy_B5J.js";import{p as x,D as y,O as W,J as q}from"./plane-CpXmOyqq.js";import{v as w}from"./triangle-B1tKFm7z.js";import{l as A}from"./euclideanLengthMeasurementUtils-Bcu5HQVu.js";function N(t,e=O()){return D(t,e,!1)}function D(t,e,f=t.hasZ){const i=A(t.spatialReference),l=k(i);if(l==null)return null;const $=(s,r)=>!(r.length<2)&&(g(s,r[0],r[1],f&&r[2]||0),!0);let p=0;for(const s of t.rings){const r=s.length;if(r<3)continue;const{positionsWorldCoords:n}=e;for(;n.length<r;)n.push(m());const a=F,u=g(J,0,0,0),d=1/r;for(let o=0;o<r;o++){if(!$(a,s[o])||!v(a,t.spatialReference,n[o],i))return null;R(u,u,n[o],d)}const h=x(n[0],n[1],u,y());if(b(W(h))===0)continue;for(let o=0;o<r;o++)q(h,u,n[o],n[o]);const c=U(n);for(let o=0;o<c.length;o+=3)p+=w(n[c[o]],n[c[o+1]],n[c[o+2]])}return j(p,l)}const F=m(),J=m();function O(){return{positionsWorldCoords:[]}}function U(t){return C(Z(t),[],2)}function Z(t){const e=new Float64Array(2*t.length);for(let f=0;f<t.length;++f){const i=t[f],l=2*f;e[l]=i[0],e[l+1]=i[1]}return e}export{U,N as j,O as k};
