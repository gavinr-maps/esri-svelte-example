import"./index-73bQemcW.js";import{D as u,S as f}from"./jsxFactory-CLjKarlq.js";import{i as $,L as b,c as m,x as a,s as i}from"./index-tefRSezt.js";import{i as p}from"./keyed-CdPY5MOf.js";import{n as y}from"./ref-Ccn4I0kT.js";import{m as v,u as g,b as A}from"./dom--xxYYVQF.js";import{s as d}from"./component-CFGnHAqh.js";import{r as S}from"./loadable-DOQnSSjG.js";import"./observers-BdozwIHb.js";import"./Accessor-BHnuXKD2.js";import"./intl-Do3GEEJ7.js";import"./Promise-CmQqe-ke.js";import"./cast-BA_-jlhc.js";import"./JSONSupport-CGdeqxpk.js";import"./Evented-DCWccWGU.js";import"./reactiveUtils-BR0C1Kq4.js";import"./SimpleObservable-7oieNGD8.js";import"./uuid-Cl5lrJ4c.js";import"./directive-helpers-C0aXnQdc.js";import"./guid-ejniuQmw.js";/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.0.3 */const x={actionsStart:"actions-start",actionsEnd:"actions-end"},e={actionsEnd:"actions-end",actionsStart:"actions-start",content:"content",description:"description",expandIcon:"expand-icon",header:"header",headerContainer:"header-container",headerContent:"header-content",headerText:"header-text",heading:"heading",icon:"icon",iconEnd:"icon--end",iconStart:"icon--start"},r={section:"section",sectionToggle:"section-toggle"},k=$`.icon-position--end,.icon-position--start{--calcite-internal-accordion-item-icon-rotation: -90deg ;--calcite-internal-accordion-item-active-icon-rotation: 0deg;--calcite-internal-accordion-item-icon-rotation-rtl: 90deg;--calcite-internal-accordion-item-active-icon-rotation-rtl: 0deg}:host{position:relative;display:flex;flex-direction:column;text-decoration-line:none;color:var(--calcite-accordion-item-text-color, var(--calcite-accordion-text-color, var(--calcite-color-text-3)));background-color:var(--calcite-accordion-item-background-color);border-width:0}:host .header{background-color:var(--calcite-accordion-item-header-background-color)}.icon-position--start{--calcite-internal-accordion-item-flex-direction: row-reverse;--calcite-internal-accordion-item-icon-spacing-start: 0;--calcite-internal-accordion-item-icon-spacing-end: var(--calcite-internal-accordion-icon-margin)}.icon-position--end{--calcite-internal-accordion-item-flex-direction: row;--calcite-internal-accordion-item-icon-spacing-start: var(--calcite-internal-accordion-icon-margin);--calcite-internal-accordion-item-icon-spacing-end: 0}.icon-position--end:not(.icon-type--plus-minus){--calcite-internal-accordion-item-icon-rotation: 0deg;--calcite-internal-accordion-item-active-icon-rotation: 180deg;--calcite-internal-accordion-item-icon-rotation-rtl: 0deg;--calcite-internal-accordion-item-active-icon-rotation-rtl: -180deg }.content,.header{border-block-end-width:var(--calcite-border-width-sm);border-block-end-style:solid;border-color:var(--calcite-accordion-item-border-color, var(--calcite-accordion-border-color, var(--calcite-color-border-2)))}.header-content{padding:var(--calcite-internal-accordion-item-padding, var(--calcite-internal-accordion-item-spacing-unit, .5rem .75rem))}.content{padding:var(--calcite-accordion-item-content-space, var(--calcite-internal-accordion-item-padding, var(--calcite-internal-accordion-item-spacing-unit, .5rem .75rem)))}.header{display:flex;align-items:stretch}.header-content,.header-container,.header .actions-start,.header .actions-end{display:flex;align-items:center;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);word-wrap:break-word;word-break:break-word}.header-content{flex-grow:1;cursor:pointer;outline-color:transparent;flex-direction:var(--calcite-internal-accordion-item-flex-direction);color:var(--calcite-accordion-item-heading-text-color, var(--calcite-accordion-text-color, inherit))}.header-content:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.header-content:focus,.header-content:hover,.header-content:active{color:var(--calcite-accordion-item-heading-text-color, var(--calcite-accordion-text-color-hover, var(--calcite-color-text-2)))}.header-content:focus .heading,.header-content:hover .heading,.header-content:active .heading{color:var(--calcite-accordion-item-heading-text-color, var(--calcite-accordion-text-color-pressed, var(--calcite-color-text-1)))}.header-container{inline-size:100%}.header-text{margin-block:0px;flex-grow:1;flex-direction:column;padding-block:0px;text-align:initial;margin-inline-end:auto}.heading,.description{display:flex;inline-size:100%}.heading{font-weight:var(--calcite-font-weight-medium)}.actions-start ::slotted(calcite-action),.actions-end ::slotted(calcite-action){align-self:stretch}.icon{display:flex;align-items:center;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);margin-inline-end:var(--calcite-internal-accordion-item-icon-spacing-start);margin-inline-start:var(--calcite-internal-accordion-item-icon-spacing-end)}.icon--start{color:var(--calcite-accordion-item-icon-color-start, var(--calcite-accordion-item-start-icon-color, var(--calcite-accordion-item-icon-color, currentColor)));margin-inline-end:var(--calcite-internal-accordion-icon-margin)}.icon--end{color:var(--calcite-accordion-item-icon-color-end, var(--calcite-accordion-item-end-icon-color, var(--calcite-accordion-item-icon-color, currentColor)));margin-inline-end:var(--calcite-internal-accordion-icon-margin);margin-inline-start:var(--calcite-internal-accordion-icon-margin)}.expand-icon{color:var(--calcite-accordion-item-expand-icon-color, var(--calcite-accordion-item-text-color, var(--calcite-accordion-text-color, var(--calcite-color-text-3))));margin-inline-start:var(--calcite-internal-accordion-item-icon-spacing-start);margin-inline-end:var(--calcite-internal-accordion-item-icon-spacing-end);transform:rotate(var(--calcite-internal-accordion-item-icon-rotation))}.calcite--rtl .expand-icon{transform:rotate(var(--calcite-internal-accordion-item-icon-rotation-rtl))}.description{margin-block-start:.25rem}.content{display:none;text-align:initial}:host(:not(:focus):not(:hover):not([expanded])) .heading{color:var(--calcite-accordion-item-heading-text-color, var(--calcite-accordion-item-text-color-hover, var(--calcite-color-text-2)))}:host([expanded]){color:var(--calcite-accordion-item-text-color, var(--calcite-accordion-text-color, var(--calcite-accordion-text-color-pressed, var(--calcite-color-text-1))))}:host([expanded]) .header{border-block-end-color:transparent}:host([expanded]) .expand-icon{color:var(--calcite-accordion-item-expand-icon-color, var(--calcite-accordion-item-text-color, var(--calcite-accordion-text-color, var(--calcite-accordion-item-text-color-hover, var(--calcite-color-text-2)))));transform:rotate(var(--calcite-internal-accordion-item-active-icon-rotation))}:host([expanded]) .calcite--rtl .expand-icon{transform:rotate(var(--calcite-internal-accordion-item-active-icon-rotation-rtl))}:host([expanded]) .description{color:var(--calcite-accordion-item-text-color, var(--calcite-accordion-text-color, var(--calcite-accordion-item-text-color-hover, var(--calcite-color-text-2))))}:host([expanded]) .content{display:block}@media (forced-colors: active){:host([expanded]) .header{border-block-end:none}:host([expanded]) .heading{font-weight:bolder}.header-content:hover .heading,.header-content:focus .heading{text-decoration:underline}}:host([hidden]){display:none}[hidden]{display:none}`,l=class l extends b{constructor(){super(),this.hasActionsEnd=!1,this.hasActionsStart=!1,this.expanded=!1,this.calciteInternalAccordionItemClose=m({cancelable:!1}),this.calciteInternalAccordionItemSelect=m({cancelable:!1}),this.listen("keydown",this.keyDownHandler),this.listenOn(document.body,"calciteInternalAccordionChange",this.updateActiveItemOnChange),this.listenOn(document,"calciteInternalAccordionItemsSync",this.accordionItemSyncHandler)}async setFocus(){await S(this),this.headerEl.focus()}load(){}loaded(){}keyDownHandler(t){if(t.target===this.el)switch(t.key){case" ":case"Enter":this.emitRequestedItem(),t.preventDefault();break}}updateActiveItemOnChange(t){const[c]=t.composedPath(),o=v(this.el,"calcite-accordion");c===o&&(this.determineActiveItem(o.selectionMode,t.detail.requestedAccordionItem),t.stopPropagation())}accordionItemSyncHandler(t){const[c]=t.composedPath(),o=this.el;if(o.parentElement===c)return;const n=v(o,"calcite-accordion");c===n&&(this.iconPosition=n.iconPosition,this.iconType=n.iconType,this.scale=n.scale,t.stopPropagation())}handleActionsStartSlotChange(t){this.hasActionsStart=g(t)}handleActionsEndSlotChange(t){this.hasActionsEnd=g(t)}storeHeaderEl(t){this.headerEl=t}itemHeaderClickHandler(){this.emitRequestedItem()}determineActiveItem(t,c){switch(t){case"multiple":this.el===c&&(this.expanded=!this.expanded);break;case"single":this.expanded=this.el===c?!this.expanded:!1;break;case"single-persist":this.expanded=this.el===c;break}}emitRequestedItem(){this.calciteInternalAccordionItemSelect.emit({requestedAccordionItem:this.el})}renderActionsStart(){return a`<div class=${i(e.actionsStart)} .hidden=${!this.hasActionsStart}><slot name=${x.actionsStart} @slotchange=${this.handleActionsStartSlotChange}></slot></div>`}renderActionsEnd(){return a`<div class=${i(e.actionsEnd)} .hidden=${!this.hasActionsEnd}><slot name=${x.actionsEnd} @slotchange=${this.handleActionsEndSlotChange}></slot></div>`}render(){const{iconFlipRtl:t}=this,c=A(this.el),o=this.iconStart?p("icon-start",a`<calcite-icon class=${i({[e.icon]:!0,[e.iconStart]:!0})} .flipRtl=${t==="both"||t==="start"} .icon=${this.iconStart} .scale=${d(this.scale)}></calcite-icon>`):null,n=this.iconEnd?p("icon-end",a`<calcite-icon class=${i({[e.iconEnd]:!0,[e.icon]:!0})} .flipRtl=${t==="both"||t==="end"} .icon=${this.iconEnd} .scale=${d(this.scale)}></calcite-icon>`):null,{description:h}=this;return a`<div class=${i({[`icon-position--${this.iconPosition}`]:!0,[`icon-type--${this.iconType}`]:!0})}><div class=${i({[e.header]:!0,[u.rtl]:c==="rtl"})}>${this.renderActionsStart()}<div aria-controls=${r.section} .ariaExpanded=${this.expanded} class=${i(e.headerContent)} id=${r.sectionToggle} @click=${this.itemHeaderClickHandler} role=button tabindex=0 ${y(this.storeHeaderEl)}><div class=${i(e.headerContainer)}>${o}<div class=${i(e.headerText)}><span class=${i(e.heading)}>${this.heading}</span>${h?a`<span class=${i(e.description)}>${h}</span>`:null}</div>${n}</div><calcite-icon class=${i(e.expandIcon)} .icon=${this.iconType==="chevron"?"chevronDown":this.iconType==="caret"?"caretDown":this.expanded?"minus":"plus"} .scale=${d(this.scale)}></calcite-icon></div>${this.renderActionsEnd()}</div><section aria-labelledby=${r.sectionToggle} class=${i(e.content)} id=${r.section}><slot></slot></section></div>`}};l.properties={hasActionsEnd:16,hasActionsStart:16,accordionParent:0,description:1,expanded:7,heading:1,iconEnd:3,iconFlipRtl:3,iconPosition:1,iconStart:3,iconType:1,scale:1},l.styles=k;let s=l;f("calcite-accordion-item",s);export{s as AccordionItem};
