const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./WhereClause-CO6Fm86l.js","./TimeOnly-BtK5SiqG.js","./subclass-BR3PhgZG.js","./UnknownTimeZone-D0GlcniK.js","./Promise-CZrWwByK.js","./jsonMap-DCC6W5ex.js","./Accessor-D6mNnsWy.js","./Evented-CXIxDjmW.js","./Extent-B4rrMrqp.js","./Point-TlcsOcXV.js","./writer-3zufXUNV.js","./assets-BNizZMOZ.js","./index-BVncS3aY.js","./index-CjOb8WjV.css","./arcadeUtils-CcRQEDay.js","./geometry-CnaxvJsv.js","./Polyline-BQFeqYXi.js","./mathUtils-ClvKsMak.js","./ImmutableArray-BPVd6ESQ.js","./Field-poIiHWUc.js","./enumeration--HlxOQ_N.js","./fieldType-CIG5ey7e.js","./number-CrcpkfNb.js","./jsonUtils-DtWlwXHP.js","./featureConversionUtils-B-SknPj_.js","./aaBoundingBox-BGxkJAW0.js","./OptimizedFeature-7juV2tZm.js","./OptimizedGeometry-vU5jWBvU.js","./OptimizedFeatureSet-Blu9Ckm7.js","./FieldsIndex-DHql50vu.js","./hash-CcEbRgUF.js","./uuid-fwrPAdZb.js","./Portal-DCqdz-K4.js"])))=>i.map(i=>d[i]);
import{c as P,n as $e,o as we,e as Ie}from"./subclass-BR3PhgZG.js";import{j as ve,a5 as be}from"./Accessor-D6mNnsWy.js";import{_ as K}from"./index-BVncS3aY.js";import"./intl-CArXn1et.js";import{e as _e}from"./mathUtils-ClvKsMak.js";import{d as xe,i as ee,D as d,E as M,x as Te,b as Se,k as Ae,j as Ee,F as Me}from"./Promise-CZrWwByK.js";import"./geometry-CnaxvJsv.js";import{f as Oe}from"./Point-TlcsOcXV.js";async function Ne(e,t){const{WhereClause:n}=await K(()=>import("./WhereClause-CO6Fm86l.js").then(r=>r.W),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url);return n.create(e,t)}function Nt(e,t){return e==="1=1"?t??e:t==="1=1"?e??t:e!=null&&e!==""?t!=null&&t!==""?`(${e}) AND (${t})`:e:t}function De(e){return typeof e=="number"}function V(e){return typeof e=="string"||e instanceof String}const Ve=ee,H={date:null,time:null,timeZoneOffset:null},Dt=new Map([["hours",3600],["minutes",60],["seconds",1],["deciseconds",.1],["centiseconds",.01],["milliseconds",.001]]),E="yyyy-MM-dd",te="TT";var b;(function(e){e.HM="HH:mm",e.HMS="HH:mm:ss",e.HMS_MS="HH:mm:ss.SSS"})(b||(b={}));const Le=[b.HMS_MS,b.HMS,b.HM,te],Re="latn",Vt=new Set(["date-only","time-only","timestamp-offset"]),Ue=e=>"valueAsDate"in e;function $(e){return{locale:xe(),numberingSystem:Re,zone:e??Ve}}function ne(e,t){return e===null?null:d.fromMillis(e,$(t))}function Ce(e,t){if(e==null||!V(e)||e===""){if(t){const r=d.local({zone:t});return{date:null,time:null,timeZoneOffset:r.isValid?r.offset.toString():null}}return H}const n=d.fromISO(e,{setZone:!0});return{date:n.toFormat(E,$()),time:n.toFormat(b.HMS_MS,$()),timeZoneOffset:n.offset.toString()}}function Lt(e,t){if(e==null||!De(e)||isNaN(e))return H;const n=ne(e,t);return n?{date:n.toFormat(E,$(t)),time:n.toFormat(te,$(t))}:H}function Rt(e){switch(e.type){case"date":default:return M("short-date-short-time");case"date-only":return M("short-date");case"time-only":return M("short-time");case"timestamp-offset":return{...M("short-date-short-time"),timeZone:void 0,timeZoneName:"short"}}}function Ut(e,t,n){if(!e||t==null)return null;switch(e.type){case"date":return Ee(t,n);case"date-only":return Ae(t,n);case"time-only":return Se(t,n);case"timestamp-offset":return Te(t,n);default:return null}}function Ct(e){const{dateComponent:t,defaultTimeZone:n,timeComponent:r,timeZoneComponent:i,oldValue:a}=e;if(!(t!=null&&t.value)||!(r!=null&&r.value))return null;const{year:s,month:l,day:o}=d.fromFormat(t.value,E),{hour:m,minute:g,second:u,millisecond:p}=z(r,ee)??d.now(),f=Ce(a,n),y=(i==null?void 0:i.value)!=null?parseInt(i.value,10):f.timeZoneOffset!=null?parseInt(f.timeZoneOffset,10):new Date().getTimezoneOffset(),F=Me.instance(y),h=d.fromObject({year:s,month:l,day:o,hour:m,minute:g,second:u,millisecond:p},{zone:F});return h.isValid?h.toISO({includeOffset:!0}):null}function Gt(e){const{dateComponent:t,timeComponent:n,timeZone:r,max:i,min:a,oldValue:s}=e,l=z(t,r);let o=!!e.applyRange;if(!l)return null;let m=null;if((n==null?void 0:n.value)!=null){const u=z(n,r),p=Date.now(),f=i!=null&&i<p?i:p,y=d.fromMillis(f,$(r)),F=l||y,{year:h,month:w,day:I}=F,{hour:R,minute:U,second:v,millisecond:C}=u||y;m=F.set({year:h,month:w,day:I,hour:R,minute:U,second:v,millisecond:C})}else{const u=ne(q({value:s??Date.now(),max:i,min:a}),r),{year:p,month:f,day:y}=l,{hour:F,minute:h,second:w,millisecond:I}=u;o=!0,m=l.set({year:p,month:f,day:y,hour:F,minute:h,second:w,millisecond:I})}if(!m.isValid)return null;const g=m.toMillis();return o?q({value:g,max:i,min:a}):g}function z(e,t){if((e==null?void 0:e.value)==null||Array.isArray(e.value))return null;let n=null;return n=Ue(e)?d.fromFormat(e.value,E,$(t)):_(e.value),n!=null&&n.isValid?n:null}function Y(e){const{max:t,min:n,value:r}=e;return!isNaN(r)&&!(t!=null&&r>t)&&!(n!=null&&r<n)}function q(e){const{max:t,min:n,value:r}=e;return t!=null&&n!=null?_e(r,n,t):t!=null&&r>t?t:n!=null&&r<n?n:r}function Ge(e){if(!e)return"";const t=e.split(".").at(0);if(!t||t.length<1)throw new P("invalid time-only field",`Cannot parse valid time-only field value from ${e}`);const n=t.split(":"),r=new Array(3);for(let i=0;i<3;i++){const a=n.at(i)??"";r[i]=a.padStart(2,"0")}return r.join(":")}function jt(e,t){switch(t){case"date":return e.getTime();case"date-only":return e.toISODate();case"time-only":return Ge(e.toISOTime(!0,!1));case"timestamp-offset":return e.toISOString(!1);default:return null}}function Zt(e){return!!e&&typeof e=="object"&&"getTime"in e&&"toISOString"in e&&"timeZone"in e}function T(e){if(!e||!V(e))return null;const t=d.fromFormat(e,E);return t.isValid?t:null}function _(e){return e&&V(e)?ve(Le,t=>{const n=d.fromFormat(e,t);return n.isValid?n:null})??null:null}function S(e){if(!e||!V(e))return null;const t=d.fromISO(e);return t.isValid?t:null}function kt(e){const{type:t,range:n,value:r}=e;if(r==null||!n||r===n.min||r===n.max)return!0;if(t==="date")return Y({value:r,min:n.min,max:n.max});const{rawMax:i,rawMin:a}=n;let s=null,l=null,o=null;switch(t){case"date-only":s=T(i),l=T(a),o=T(r);break;case"time-only":s=_(i),l=_(a),o=_(r);break;case"timestamp-offset":s=S(i),l=S(a),o=S(r)}return!o||Y({value:o.valueOf(),min:l==null?void 0:l.valueOf(),max:s==null?void 0:s.valueOf()})}var x;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(x||(x={}));const je=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function Ze(e){return e!=null&&je.has(e.type)}function re(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function ie(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function ae(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function ke(e,t,n){const r=n??(e==null?void 0:e.domain);if(!r)return null;switch(r.type){case"range":{const{min:i,max:a}=le(e,n);if(i!=null&&+t<i||a!=null&&+t>a)return x.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(r.codedValues==null||r.codedValues.every(i=>i==null||i.code!==t))return x.INVALID_CODED_VALUE}return null}function le(e,t){const n=t??(e==null?void 0:e.domain);if(!n||n.type!=="range")return;const r="range"in n?n.range[0]:n.minValue,i="range"in n?n.range[1]:n.maxValue,a=Ze(e);return re(e)||ae(e)||ie(e)?{...He(e,i,r),isInteger:a}:{min:r!=null&&typeof r=="number"?r:null,max:i!=null&&typeof i=="number"?i:null,rawMin:r,rawMax:i,isInteger:a}}function He(e,t,n){var r,i,a,s,l,o;return re(e)?{min:(r=T(n))==null?void 0:r.toMillis(),max:(i=T(t))==null?void 0:i.toMillis(),rawMin:n,rawMax:t}:ae(e)?{min:(a=_(n))==null?void 0:a.toMillis(),max:(s=_(t))==null?void 0:s.toMillis(),rawMin:n,rawMax:t}:ie(e)?{min:(l=S(n))==null?void 0:l.toMillis(),max:(o=S(t))==null?void 0:o.toMillis(),rawMin:n,rawMax:t}:{max:null,min:null}}const ze=()=>$e.getLogger("esri.support.arcadeOnDemand");let j;function se(){return j||(j=(async()=>{const e=await K(()=>import("./arcadeUtils-CcRQEDay.js").then(t=>t.aN),__vite__mapDeps([14,15,2,8,7,6,9,5,10,11,12,13,16,17,1,3,4,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]),import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),j}const Ht=(e,t,n)=>X.create(e,t,n,null,["$feature","$view"],[]),zt=(e,t,n)=>X.create(e,t,n,null,["$feature","$view"],[]),Pt=(e,t,n,r)=>X.create(e,t,n,r,["$feature","$view"],[]);let X=class oe{constructor(t,n,r,i,a,s,l){this.services=null,this.script=t,this.evaluate=i;const o=Array.isArray(s)?s:s==null?void 0:s.fields;this.fields=o??[],this._syntaxTree=r,this._arcade=n,this._arcadeFeature=a,this._spatialReference=l,this._referencesGeometry=n.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,n,r,i,a,s){const{arcade:l,Feature:o,Dictionary:m}=await se(),g=Oe.fromJSON(n);let u;try{u=l.parseScript(t,s)}catch(c){return ze().error(new P("arcade-bad-expression","Failed to parse arcade script",{script:t,error:c})),null}const p=a.reduce((c,G)=>({...c,[G]:null}),{});let f=null;i!=null&&(f=new m(i),f.immutable=!0,p.$config=null);const y=l.scriptUsesGeometryEngine(u),F=y&&l.enableGeometrySupport(),h=l.scriptUsesFeatureSet(u)&&l.enableFeatureSetSupport(),w=l.scriptIsAsync(u),I=w&&l.enableAsyncSupport(),R={vars:p,spatialReference:g,useAsync:!!I};await Promise.all([F,h,I]);const U=new Set;await l.loadDependentModules(U,u,null,w,y);const v=new m;v.immutable=!1,v.setField("scale",0);const C=l.compileScript(u,R),Fe=(c,G)=>{var J;const he=(J=c.$view)==null?void 0:J.timeZone;return"$view"in c&&c.$view&&(v.setField("scale",typeof c.$view=="object"&&"scale"in c.$view?c.$view.scale:void 0),c.$view=v),f&&(c.$config=f),C({vars:c,spatialReference:g,services:G,timeZone:he})};return new oe(t,l,u,Fe,new o,r,g)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const Pe=/^([0-9_])/,Xe=/[^a-z0-9_\u0080-\uffff]+/gi;function Xt(e){return e==null?null:e.trim().replaceAll(Xe,"_").replace(Pe,"F$1")||null}const Be=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],We=["field","normalizationField"];function Bt(e,t){if(e!=null&&t!=null){for(const n of Array.isArray(e)?e:[e])if(Q(Be,n,t),"visualVariables"in n&&n.visualVariables)for(const r of n.visualVariables)Q(We,r,t)}}function Q(e,t,n){if(e)for(const r of e){const i=we(r,t),a=i&&typeof i!="function"&&n.get(i);a&&Ie(r,a.name,t)}}function Wt(e,t){var n;if(e!=null&&((n=t==null?void 0:t.fields)!=null&&n.length))if("startField"in e){const r=t.get(e.startField),i=t.get(e.endField);e.startField=(r==null?void 0:r.name)??null,e.endField=(i==null?void 0:i.name)??null}else{const r=t.get(e.startTimeField),i=t.get(e.endTimeField);e.startTimeField=(r==null?void 0:r.name)??null,e.endTimeField=(i==null?void 0:i.name)??null}}const Z=new Set;function B(e,t){return e&&t?(Z.clear(),O(Z,e,t),Array.from(Z).sort()):[]}function O(e,t,n){var r;if(n)if((r=t==null?void 0:t.fields)!=null&&r.length)if(n.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const i of n)L(e,t,i);else{if(n.includes("*"))return e.clear(),void e.add("*");for(const i of n)i!=null&&e.add(i)}}function L(e,t,n){if(typeof n=="string")if(t){const r=t.get(n);r&&e.add(r.name)}else e.add(n)}function Jt(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(n=>n.name):t}function Yt(e,t,n=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const r=B(e,t);return r.length/e.fields.length>=n?["*"]:r}async function A(e,t,n){var a;if(!n)return;const{arcadeUtils:r}=await se(),i=r.extractFieldNames(n,(a=t==null?void 0:t.fields)==null?void 0:a.map(s=>s.name));for(const s of i)L(e,t,s)}async function ue(e,t,n){if(n&&n!=="1=1"){const r=await Ne(n,t);if(!r.isStandardized)throw new P("fieldUtils:collectFilterFields","Where clause is not standardized",{where:n});O(e,t,r.fieldNames)}}function qt({displayField:e,fields:t}){return e||(t!=null&&t.length?k(t,"name-or-title")||k(t,"unique-identifier")||k(t,"type-or-category")||Je(t):null)}function Je(e){for(const t of e){if(!(t!=null&&t.name))continue;const n=t.name.toLowerCase();if(n.includes("name")||n.includes("title"))return t.name}return null}function k(e,t){for(const n of e)if(n!=null&&n.valueType&&n.valueType===t)return n.name;return null}async function Qt(e,t){var r;if(!t)return;const n=(r=t.elevationInfo)==null?void 0:r.featureExpressionInfo;return n?n.collectRequiredFields(e,t.fieldsIndex):void 0}function Ye(e,t,n){n.onStatisticExpression?A(e,t,n.onStatisticExpression.expression):e.add(n.onStatisticField)}async function Kt(e,t,n){if(!t||!n||!("fields"in n))return;const r=[],i=n.popupTemplate;r.push(qe(e,t,i)),n.fields&&r.push(...n.fields.map(async a=>Ye(e,t.fieldsIndex,a))),await Promise.all(r)}async function qe(e,t,n){const r=[];n!=null&&n.expressionInfos&&r.push(...n.expressionInfos.map(a=>A(e,t.fieldsIndex,a.expression)));const i=n==null?void 0:n.content;if(Array.isArray(i))for(const a of i)a.type==="expression"&&a.expressionInfo&&r.push(A(e,t.fieldsIndex,a.expressionInfo.expression));await Promise.all(r)}async function en(e,t,n){t&&(t.timeInfo&&(n!=null&&n.timeExtent)&&O(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&O(e,t.fieldsIndex,[t.floorInfo.floorField]),(n==null?void 0:n.where)!=null&&await ue(e,t.fieldsIndex,n.where))}async function tn(e,t,n){t&&n&&await Promise.all(n.map(r=>Qe(e,t,r)))}async function Qe(e,t,n){t&&n&&(n.valueExpression?await A(e,t.fieldsIndex,n.valueExpression):n.field&&L(e,t.fieldsIndex,n.field))}function nn(e){return e?B(e.fieldsIndex,ce(e)):[]}function Ke(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?B(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const et=new Set(["oid","global-id","guid"]),tt=new Set(["oid","global-id"]),nt=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function rt(e){const t=new Set;fe(e).forEach(r=>t.add(r)),Ke(e).forEach(r=>t.add(r.toLowerCase()));const n=e&&"infoFor3D"in e?e.infoFor3D:void 0;return n&&(Object.values(n.assetMapFieldRoles).forEach(r=>t.add(r.toLowerCase())),Object.values(n.transformFieldRoles).forEach(r=>t.add(r.toLowerCase()))),Array.from(t)}function ce(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:n,creatorField:r,editDateField:i,editorField:a}=t;return[n,r,i,a].filter(Boolean)}function fe(e){return ce(e).map(t=>t.toLowerCase())}function rn(e,t){var n;return e.editable&&!et.has(e.type)&&!fe(t).includes(((n=e.name)==null?void 0:n.toLowerCase())??"")}function an(e,t){var r;const n=((r=e.name)==null?void 0:r.toLowerCase())??"";return!((t==null?void 0:t.objectIdField)!=null&&n===t.objectIdField.toLowerCase()||(t==null?void 0:t.globalIdField)!=null&&n===t.globalIdField.toLowerCase()||rt(t).includes(n)||tt.has(e.type)||nt.some(i=>i.test(n)))}async function ln(e,t){const{labelingInfo:n,fieldsIndex:r}=t;n!=null&&n.length&&await Promise.all(n.map(i=>it(e,r,i)))}async function it(e,t,n){if(!n)return;const r=n.getLabelExpression(),i=n.where;if(r.type==="arcade")await A(e,t,r.expression);else{const a=r.expression.match(/{[^}]*}/g);a&&a.forEach(s=>{L(e,t,s.slice(1,-1))})}await ue(e,t,i)}function sn(e){const t=e.defaultValue;return t!==void 0&&pe(e,t)?t:e.nullable?null:void 0}function on(e){const t=typeof e=="string"?{type:e}:e;return yt(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function de(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function at(e){return e===null||de(e)}function lt(e){return e===null||Number.isInteger(e)}function me(e){return e!=null&&typeof e=="string"}function st(e){return e===null||me(e)}function ot(){return!0}function pe(e,t){let n;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":n=e.nullable?lt:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=e.nullable?at:de;break;case"string":case"esriFieldTypeString":n=e.nullable?st:me;break;default:n=ot}return arguments.length===1?n:n(t)}const ut=["integer","small-integer","big-integer"],ct=["single","double"],ft=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],dt=["esriFieldTypeSingle","esriFieldTypeDouble"],ye=new Set([...ut,...ft]),mt=new Set([...ct,...dt]),pt=be(ye,mt);function un(e){return e!=null&&ye.has(e.type)}function ge(e){return e!=null&&pt.has(e.type)}function yt(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function cn(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function fn(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function dn(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function mn(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function pn(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function yn(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function gn(e,t){return gt(e,t)===null}var N,D;function Fn(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function gt(e,t){return e==null||e.nullable&&t===null?null:ge(e)&&!Ft(e.type,Number(t))?N.OUT_OF_RANGE:pe(e,t)?e.domain?ke(e,t):null:D.INVALID_TYPE}function Ft(e,t){const n=typeof e=="string"?W(e):e;if(!n)return!1;const r=n.min,i=n.max;return n.isInteger?Number.isInteger(t)&&t>=r&&t<=i:t>=r&&t<=i}function hn(e,t){return le(e,t)||(ge(e)?W(e.type):void 0)}function W(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return ht;case"esriFieldTypeInteger":case"integer":return $t;case"esriFieldTypeBigInteger":case"big-integer":return wt;case"esriFieldTypeSingle":case"single":return It;case"esriFieldTypeDouble":case"double":return vt}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(N||(N={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(D||(D={}));const ht={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},$t={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},wt={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},It={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},vt={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function $n(e,t,n){switch(e){case x.INVALID_CODED_VALUE:return`Value ${n} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case x.VALUE_OUT_OF_RANGE:return`Value ${n} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case D.INVALID_TYPE:return`Value ${n} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case N.OUT_OF_RANGE:{const{min:r,max:i}=W(t.type);return`Value ${n} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${r} to ${i}`}}}function wn(e,t){return!bt(e,t,null)}function bt(e,t,n){if(!(t!=null&&t.attributes)||!e){if(n!=null)for(const a of e??[])n.add(a);return!0}const r=new Set(Object.keys(t.attributes));let i=!1;for(const a of e)if(!r.has(a)){if(i=!0,n==null)break;n.add(a)}return i}function In(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function vn(e){const t=e==null?void 0:e.match(/{[^}]+}/g);return t?t.map(n=>n.slice(1,-1).split(":")[0].trim()):[]}export{kt as $,gt as A,an as B,A as C,zt as D,D as E,fn as F,In as G,sn as H,B as I,ln as J,on as K,Kt as L,en as M,Bt as N,tn as O,He as P,De as Q,bt as R,fe as S,Ut as T,$n as U,ke as V,hn as W,Dt as X,Zt as Y,jt as Z,qt as _,cn as a,E as a0,$ as a1,te as a2,Pt as a3,vn as a4,un as a5,V as a6,Re as a7,Ce as a8,Lt as a9,Ge as aa,Ct as ab,Gt as ac,Yt as ad,Vt as ae,rt as af,mn as b,Xt as c,Ht as d,Ne as e,dn as f,Wt as g,nn as h,se as i,wn as j,Rt as k,x as l,le as m,N as n,Nt as o,ge as p,rn as q,gn as r,Fn as s,Jt as t,O as u,Qt as v,pn as w,yn as x,yt as y,L as z};
