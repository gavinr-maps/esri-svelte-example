import{n as y}from"./projectBuffer-Bs7GwaPY.js";import{t as h,b as f}from"./aaBoundingBox-BE7cC1jD.js";import{p as l,a as m}from"./triangulationUtils-DWWEtF_0.js";import{u as E}from"./RibbonLine.glsl-BZu1FDpE.js";import{r as $}from"./OverlayCompositing.glsl-CiE3Tt8y.js";function d(n,r,p,s){const o=n.type==="polygon"?l.CCW_IS_HOLE:l.NONE,e=n.type==="polygon"?n.rings:n.paths,{position:t,outlines:i}=m(e,!!n.hasZ,o,n.spatialReference),a=h(t.length),c=E(t,n.spatialReference,0,a,0,t,0,t.length/3,r,p,s),u=c!=null;return{lines:u?g(i,t,a):[],projectionSuccess:u,sampledElevation:c}}function R(n,r){const p=n.type==="polygon"?l.CCW_IS_HOLE:l.NONE,s=n.type==="polygon"?n.rings:n.paths,{position:o,outlines:e}=m(s,!1,p),t=y(o,n.spatialReference,0,o,r,0);for(let i=2;i<o.length;i+=3)o[i]=$;return{lines:t?g(e,o):[],projectionSuccess:t}}function g(n,r,p=null){const s=new Array;for(const{index:o,count:e}of n){if(e<=1)continue;const t=3*o,i=3*e;s.push({position:f(r,3*o,3*e),mapPositions:p!=null?f(p,t,i):void 0})}return s}export{R as l,d as p};
