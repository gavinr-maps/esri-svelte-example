const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./AreaMeasurement2D-DTHWoAc4.js","./Accessor-BHnuXKD2.js","./jsxFactory-CLjKarlq.js","./intl-Do3GEEJ7.js","./Promise-CmQqe-ke.js","./cast-BA_-jlhc.js","./index-tefRSezt.js","./index-Cx51aysm.css","./JSONSupport-CGdeqxpk.js","./Evented-DCWccWGU.js","./reactiveUtils-BR0C1Kq4.js","./SimpleObservable-7oieNGD8.js","./uuid-Cl5lrJ4c.js","./Point-XGrwlf63.js","./writer-B2bQV2uU.js","./projection-B2I9Bzj_.js","./vec3f64-BLpZdpfb.js","./Extent-CBBGeHb-.js","./Polyline-BmuD2-ZN.js","./mathUtils-DV9iOXpW.js","./projectBuffer-DOU0xvVi.js","./geodesicConstants-yASAK_zX.js","./defaultUnit-CO7iAvsB.js","./getDefaultUnitForView-CuRQcAm0.js","./Portal-CTRRujjZ.js","./SnappingManager-CF4NflXd.js","./elevationInfoUtils-RSZ4Logn.js","./unitConversionUtils-C4AR5obr.js","./lengthUtils-DjJgJFRg.js","./RightAngleSnappingHint-CCcBBYgG.js","./Color-gncXBiLc.js","./colorUtils-Rxh2V3ai.js","./opacityUtils-CSd4XoR2.js","./timeUtils-D2X862bk.js","./vec32-Dvg_eL9J.js","./common-DQOJ18NT.js","./projectVectorToVector-dS8io47t.js","./projectPointToVector-BS0u8fq6.js","./Query-DCBIeen2.js","./enumeration-Cr5WIZs4.js","./jsonUtils-Cu7OBRmN.js","./typeUtils-BSg8Y507.js","./Field-Cyk7Ur5d.js","./fieldType-L-VlbZqy.js","./FullTextSearch-BWm_kPUE.js","./Clonable-DvJsj5LF.js","./TimeExtent-J5qnUFx_.js","./InputManager-Bs9UE-jw.js","./Queue-BOnccek2.js","./signal-DSa0yokC.js","./keybindings-DrKrBFID.js","./utils-D02V2_jH.js","./Version-9k2AOv05.js","./vec2-maR1OrZI.js","./vec2f64-Dy6m9Nrb.js","./vec42-YcqnINSP.js","./vec4f64-o2zAXfmz.js","./geodesicUtils-Bh_GX0Qj.js","./plane-4dpuo6-e.js","./mat3f64-BBpwCtoL.js","./mat4f64-Dk4dwAN8.js","./quatf64-CCm9z-pX.js","./mathUtils-B9R7G-2c.js","./sphere-DQxj5tsv.js","./mat4-Fi6iAz29.js","./mat3-CR8GKnhD.js","./geometry2dUtils-vtViF5g_.js","./screenUtils-_ZIvrt5o.js","./viewUtils-Ce2x26K8.js","./Graphic-CFXUQZlS.js","./ActionToggle-__-l4AdQ.js","./Identifiable-BrT7zvUW.js","./TextSymbol-BQ_NW9Xo.js","./collectionUtils-CbaToa73.js","./aaBoundingBox-CeBivBRq.js","./colorUtils-BAowQmkN.js","./unitFormatUtils-Dbksq3U5.js","./ByteSizeUnit-BsxeN7wM.js","./Cyclical-CPiNl4ru.js","./quantityUtils-1LswOhxZ.js","./UpdatingHandles-ptqz1ck8.js","./geometryEngine-CtEcpiHE.js","./geometryEngineBase-yFIvKOkM.js","./_commonjsHelpers-DCkdB7M8.js","./hydrated-Dw-Mfo_Y.js","./GraphicsLayer-Acqd2VFm.js","./GraphicsCollection-CkliHSk1.js","./Layer-C9uQlTBT.js","./ScaleRangeLayer-C59zG_yk.js","./layerContainerType-C5CzMsLd.js","./jsonUtils-TjZmCq6l.js","./utils-DYurMneM.js","./mat4f32-DcsiF_Rp.js","./ElevationInfo-Di4W6v5U.js","./ViewingMode-Dodu7ZZk.js","./SnappingVisualizer2D-CeuJ0hoo.js","./enums-BJSSbDkD.js","./SnappingVisualizer-Cb3uuWOu.js","./PointSnappingHint-CurBFXPo.js","./Draw-0bcqxOI1.js","./EditGeometryOperations-C5kkQVhH.js","./SnappingContext-lR2hMWGP.js","./SnappingOperation-DhUO_0vk.js","./Scheduler-B_GuBefw.js","./debugFlags-ZrDyTcDc.js","./screenUtils-DyhV4TAA.js","./surfaceCoordinateSystems-DRgCZXAE.js","./memoize-DsJmrG76.js","./ReactiveSet-CoXPgSt3.js","./diffUtils-CMkuJvD2.js","./dehydratedFeatureComparison-Bbl7iMhI.js","./DrawingMode-Cvvf0VVz.js","./dragEventPipeline-D_Ldto1o.js","./meshVertexSpaceUtils-SW0WEjNN.js","./MeshLocalVertexSpace-C0YDTRex.js","./hydratedFeatures-BVVSs98j.js","./angularMeasurementUtils-lDJJxFDs.js","./SketchLabelOptions-CwtwEofC.js","./SnappingDragPipelineStep-C7nIAEz_.js","./mat2d-D9DBP-jx.js","./mat2df64-CBKYtunK.js","./quat-4pa1e6ds.js","./InteractiveToolBase-DNJTN0p5.js","./interfaces-D6pIddIh.js","./GraphicManipulator-dZUtye0g.js","./defaults-Dwxdhopq.js","./defaultsJSON-GKolV7NZ.js","./drapedUtils-DFAbG8en.js","./MeasurementWidgetContent-Cq8lpBlY.js","./UnitSelect-JGyYeoZR.js","./globalCss-CZa70j6i.js","./AreaMeasurement3D-C3oXhK1Z.js","./Analysis-BnA3eZRj.js","./measurementUtils-BNY2_E9m.js","./geodesicAreaMeasurementUtils-C07tJXJM.js","./geodesicMeasurementUtils-ChQtpZ42.js","./SnappingVisualizer3D-DDfmr2ew.js","./ExtendedLineVisualElement-D93_23WS.js","./Octree-B-jwmuW2.js","./InterleavedLayout-Dvj-Snan.js","./BufferView-_QDXRCew.js","./types-D0PSWh4d.js","./lineSegment-C-CDF7QX.js","./EngineVisualElement-B_1wMpLc.js","./GridLocalOriginFactory-BvhZ_UoU.js","./Attribute-B-NAci_J.js","./Material-Ba8x5bbY.js","./VertexAttribute-Cq4MnHjR.js","./boundedPlane-Dyz2ub5d.js","./NoParameters-t-PuNrgq.js","./FloatArray-BCfeX8wo.js","./BindType-BBwFZqyN.js","./Matrix3PassUniform-Bhi2fM3C.js","./Texture-D-SqNa4i.js","./enums-D9v74xTE.js","./getDataTypeBytes-BTGR5GyG.js","./renderState-e7QeQoUO.js","./basicInterfaces-CZwQPxTp.js","./Indices-Db9lERgy.js","./triangle-D_E6eTS3.js","./ShaderTechniqueConfiguration-YrUOztAU.js","./glsl-BH37Aalp.js","./requestImageUtils-Brn0e8z8.js","./TextureFormat-1mYWTFa-.js","./RibbonLine.glsl-D3IEIaDR.js","./sdfPrimitives-B8Jbwvqs.js","./doublePrecisionUtils-B0owpBza.js","./floatRGBA-CR2j2c7-.js","./ShaderBuilder-DV1s2efh.js","./RgbaFloatEncoding.glsl-_io2eW3M.js","./OverlayCompositing.glsl-BbJKjUZQ.js","./SceneLighting-fZH2UQ_L.js","./RenderCamera-BovI3JTe.js","./axisAngleDegrees-8Sw4vC28.js","./weather-DtiKeY2t.js","./BooleanBindUniform-xvVHJCDz.js","./Float4DrawUniform-C_Hqa-pI.js","./RenderPlugin-B2sz29jJ.js","./HighlightDefaults-ESbuT2uR.js","./VertexElementDescriptor-BOD-G50G.js","./VertexArrayObject-DcVjXzZo.js","./BufferObject-CIl3vJtA.js","./memoryEstimations-5gFNwkKK.js","./NestedMap-GuqgquCN.js","./HUDRenderStyle-BhGvVxgm.js","./VisualElement-D3eR6o-M.js","./LaserlineVisualElement-BPYPJd-Q.js","./Blit-D5AxBSxC.js","./glUtil-D0YUa0ow.js","./CameraSpace.glsl-BZ4Eapt3.js","./Float2PassUniform-Blij1ug3.js","./Matrix4PassUniform-LFIUaE9i.js","./GeometryUtil-vHI0hYMT.js","./vec3f32-nZdmKIgz.js","./LaserlinePath.glsl-C1vDezzs.js","./Object3DVisualElement-BtsT49h4.js","./ElevationContext-jcnAn7VT.js","./computeTranslationToOriginAndRotation-BT43Xu5d.js","./dehydratedFeatureUtils-1rrRm6hF.js","./ElevationProvider-aS5xrHHy.js","./HUDMaterial-DRUv4rua.js","./HUDVisibility.glsl-DSeZY4v-.js","./VerticalOffset.glsl-0YVQE7vQ.js","./GLTextureMaterial-BXvkeRxQ.js","./DefaultBufferWriter-D4XUxbP-.js","./RightAngleQuadVisualElement-C-m5WG_E.js","./ColorMaterial.glsl-CArPvmMs.js","./TriangleMaterial-t01j2IAH.js","./VertexColor.glsl-C67vI27I.js","./Matrix3DrawUniform-B_gSHO7v.js","./dragEventPipeline3D-m6RYCQo0.js","./ray-D3Okb4cY.js","./Intersector-DqUGp7Vs.js","./intersectorUtils-l6zkk4nF.js","./verticalOffsetUtils-CUH6QZ7-.js","./orientedBoundingBox-9z4w3ZAL.js","./spatialReferenceEllipsoidUtils-DM073JUd.js","./RenderObject-8TEkyAoe.js","./graphicUtils-Daa6cjYT.js","./ToolIntersector-A0WvzCEW.js","./ShadedColorMaterial.glsl-BaXE-_67.js","./SnappingManagerPool-DzCRDPdL.js","./InteractiveAnalysisViewModel-eesy6CGK.js","./DistanceMeasurement2D-CCSZ4sdD.js","./DirectLineMeasurement3D-C-cOFP2J.js","./interfaces-js1RL7O8.js","./interfaces-CjSZqm0S.js"])))=>i.map(i=>d[i]);
import{_ as h,i as m,L as _,u as y,c as f,n as U,a as M}from"./index-tefRSezt.js";import{r as e,m as i,a as p,g as W,j as S}from"./Accessor-BHnuXKD2.js";import{d as v}from"./reactiveUtils-BR0C1Kq4.js";import{e as b,O as T,n as I}from"./jsxFactory-CLjKarlq.js";import{an as E,ao as V}from"./Point-XGrwlf63.js";import{e as A}from"./defaultUnit-CO7iAvsB.js";import{P as D}from"./useWidget-Dlf3SkC7.js";import"./Evented-DCWccWGU.js";import"./SimpleObservable-7oieNGD8.js";import"./intl-Do3GEEJ7.js";import"./Promise-CmQqe-ke.js";import"./cast-BA_-jlhc.js";import"./JSONSupport-CGdeqxpk.js";import"./uuid-Cl5lrJ4c.js";import"./writer-B2bQV2uU.js";import"./getDefaultUnitForView-CuRQcAm0.js";import"./Portal-CTRRujjZ.js";import"./Extent-CBBGeHb-.js";import"./index-BkKcLxWB.js";import"./component-utils-DWY0IMHC.js";let l=class extends W{constructor(s){super(s),this.activeTool=null,this.activeViewModel=null,this.view=null}get areaUnit(){return this.defaultUnit}set areaUnit(s){this._overrideIfSome("areaUnit",s)}get linearUnit(){return this.defaultUnit}set linearUnit(s){this._overrideIfSome("linearUnit",s)}get state(){const{activeViewModel:s}=this;return s?s.state:"disabled"}};e([i({type:["area","distance","direct-line"]})],l.prototype,"activeTool",void 0),e([i()],l.prototype,"activeViewModel",void 0),e([i({type:E})],l.prototype,"areaUnit",null),e([i(A)],l.prototype,"defaultUnit",void 0),e([i({type:V})],l.prototype,"linearUnit",null),e([i({readOnly:!0})],l.prototype,"state",null),e([i()],l.prototype,"view",void 0),l=e([p("esri.widgets.Measurement.MeasurementViewModel")],l);const w=l,P={base:"esri-measurement"};function O(s){return(s==null?void 0:s.declaredClass)==="esri.widgets.AreaMeasurement2D"||(s==null?void 0:s.declaredClass)==="esri.widgets.AreaMeasurement3D"}let o=class extends T{constructor(t,r){super(t,r),this._widgets=new Map,this.activeWidget=null,this.messages=null,this.viewModel=new w}initialize(){this.activeWidget&&this.viewModel.set("activeViewModel",this.activeWidget.viewModel),this.view&&this.activeTool&&this._getActiveWidget().then(t=>{this._set("activeWidget",t)}),this.addHandles([v(()=>[this.view,this.activeTool],async()=>{this._set("activeWidget",await this._getActiveWidget())}),v(()=>this.activeWidget,(t,r)=>{this.viewModel.set("activeViewModel",t?t.viewModel:null),r&&(r.visible=!1)}),v(()=>[this.areaUnit,this.linearUnit,this.uiStrings],()=>this._updateSubWidgetProperties())])}destroy(){this._destroyWidgets()}get activeTool(){return this.viewModel.activeTool}set activeTool(t){this.viewModel.activeTool=t}get areaUnit(){return this.viewModel.areaUnit}set areaUnit(t){this.viewModel.areaUnit=t}get icon(){return"measure"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get linearUnit(){return this.viewModel.linearUnit}set linearUnit(t){this.viewModel.linearUnit=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const{activeWidget:t}=this,r=t&&!t.destroyed?t.render():null;return I("div",{class:P.base},r)}clear(){this.activeTool=null,this._destroyWidgets()}startMeasurement(){const{activeViewModel:t}=this.viewModel;t&&S(t.start())}async _createWidget(t){const{areaUnit:r,linearUnit:a,view:n}=this;if(!n)return null;switch(t){case"area":{const{type:u}=n;switch(u){case"2d":return new(await h(async()=>{const{default:d}=await import("./AreaMeasurement2D-DTHWoAc4.js");return{default:d}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130]),import.meta.url)).default({view:n,unit:r,uiStrings:this._createUIStringsForWidget(t)});case"3d":return new(await h(async()=>{const{default:d}=await import("./AreaMeasurement3D-C3oXhK1Z.js");return{default:d}},__vite__mapDeps([131,1,2,3,4,5,6,7,8,9,10,11,12,132,45,71,13,14,18,17,19,22,23,24,107,80,115,69,32,39,30,31,70,40,41,72,67,73,16,74,36,20,21,37,15,133,34,35,63,64,55,56,65,59,58,60,61,54,62,134,79,81,82,83,84,57,135,136,75,26,27,28,68,53,137,138,139,140,141,142,143,144,145,146,147,148,94,149,150,151,152,153,49,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,121,174,175,176,177,178,179,180,181,182,183,184,103,104,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,29,33,38,42,43,44,46,47,48,50,51,52,66,97,98,210,211,212,213,214,215,216,112,113,114,100,217,123,218,122,219,220,101,118,110,221,25,102,105,222,128,129,130]),import.meta.url)).default({view:n,unit:r,uiStrings:this._createUIStringsForWidget(t)});default:return null}}case"distance":{const{type:u}=n;return u==="2d"?new(await h(async()=>{const{default:d}=await import("./DistanceMeasurement2D-CCSZ4sdD.js");return{default:d}},__vite__mapDeps([223,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130]),import.meta.url)).default({view:n,unit:a,uiStrings:this._createUIStringsForWidget(t)}):null}case"direct-line":{const{type:u}=n;return u==="3d"?new(await h(async()=>{const{default:d}=await import("./DirectLineMeasurement3D-C-cOFP2J.js");return{default:d}},__vite__mapDeps([224,1,2,3,4,5,6,7,8,9,10,11,12,132,45,71,13,14,22,23,24,17,107,80,115,69,32,39,30,31,19,70,40,18,41,72,67,73,16,74,36,20,21,37,15,133,34,35,63,64,55,56,65,59,58,60,61,54,62,134,79,81,82,83,84,57,135,136,75,26,27,28,68,53,137,138,139,140,141,142,143,144,145,146,147,148,94,149,150,151,152,153,49,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,121,174,175,176,177,178,179,180,181,182,183,184,103,104,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,29,33,38,42,43,44,46,47,48,50,51,52,66,97,98,210,211,212,213,214,215,216,112,113,114,100,225,226,217,123,218,220,122,101,118,110,221,25,105,222,128,129,130]),import.meta.url)).default({view:n,unit:a,uiStrings:this._createUIStringsForWidget(t)}):null}default:return null}}_destroyWidgets(){this._widgets.forEach(t=>t.destroy()),this._widgets.clear()}async _getActiveWidget(){const{activeTool:t,view:r}=this;if(!r||!t)return null;let a=null;if(this._widgets.has(t))a=this._widgets.get(t),a.visible=!0;else{if(a=await this._createWidget(t),!a)return null;await a.viewModel.start(),this._widgets.set(t,a)}return a}_createUIStringsForWidget(t){var a;if(!this.uiStrings)return;const r=t+"-"+((a=this.view)==null?void 0:a.type);return this.uiStrings[r]}_updateSubWidgetProperties(){this._widgets.forEach((t,r)=>{const{areaUnit:a,linearUnit:n}=this;t.unit=O(t)?a:n,t.uiStrings=this._createUIStringsForWidget(r)})}};e([i()],o.prototype,"activeTool",null),e([i({readOnly:!0})],o.prototype,"activeWidget",void 0),e([i()],o.prototype,"areaUnit",null),e([i()],o.prototype,"icon",null),e([i()],o.prototype,"label",null),e([i()],o.prototype,"linearUnit",null),e([i(),b("esri/widgets/Measurement/t9n/Measurement")],o.prototype,"messages",void 0),e([i()],o.prototype,"uiStrings",void 0),e([i()],o.prototype,"view",null),e([i({type:w})],o.prototype,"viewModel",void 0),o=e([p("esri.widgets.Measurement")],o);const $=o;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.12 */const L=m`@layer{arcgis-measurement{display:block}}`,R=D($),c=class c extends _{constructor(){super(...arguments),this.widget=R(this),this.viewModel=this.widget.viewModel,this.activeTool=this.widget.activeTool,this.activeWidget=this.widget.activeWidget,this.areaUnit=this.widget.areaUnit,this.autoDestroyDisabled=!1,this.icon=this.widget.icon,this.label=this.widget.label,this.linearUnit=this.widget.linearUnit,this.position="bottom-left",this.state=this.viewModel.state,this.arcgisPropertyChange=y()("activeTool","state"),this.arcgisReady=f()}async clear(){var t;(t=this.widget)==null||t.clear()}async destroy(){await this.manager.destroy()}async startMeasurement(){var t;(t=this.widget)==null||t.startMeasurement()}};c.properties={activeTool:1,activeWidget:0,areaUnit:1,autoDestroyDisabled:5,icon:1,label:1,linearUnit:1,position:1,referenceElement:1,state:3},c.shadowRootOptions=U,c.styles=L;let g=c;M("arcgis-measurement",g);export{g as ArcgisMeasurement};
