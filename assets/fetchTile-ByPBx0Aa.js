import{n}from"./subclass-BR3PhgZG.js";import{y as a,g as f}from"./Accessor-D6mNnsWy.js";import{m as c}from"./RefreshableLayer-B26jSd3d.js";import{M as h}from"./terrainUtils-CFCwJ7li.js";async function d(t,r,o){const e=t.layer;if(h(e)){const m=await e.fetchTile(r[0],r[1],r[2],o);if(a(o))throw n.getLogger(t).warnOnce("A call to fetchTile resolved even though the request was aborted. fetchTile should not resolve if options.signal.aborted is true."),f();return m}let s=t.getTileUrl(r);c(e)&&e.refreshTimestamp&&(s+=`${s.includes("?")?"&":"?"}_ts=${e.refreshTimestamp}`);const i=t.hasMixedImageFormats?"image+type":"image";return o.requester.request(s,i,o)}export{d as i};
