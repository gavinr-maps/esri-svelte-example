import{a1 as S}from"./Accessor-BHnuXKD2.js";import{r as E}from"./Promise-CmQqe-ke.js";const x={ar:[".",","],bg:[","," "],bs:[",","."],ca:[",","."],cs:[","," "],da:[",","."],de:[",","."],"de-ch":[".","’"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[","," "],fi:[","," "],fr:[","," "],"fr-ch":[","," "],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[","," "],id:[",","."],it:[",","."],"it-ch":[".","’"],ja:[".",","],ko:[".",","],lt:[","," "],lv:[","," "],mk:[",","."],nb:[","," "],nl:[",","."],no:[","," "],pl:[","," "],pt:[",","."],"pt-pt":[","," "],ro:[",","."],ru:[","," "],sk:[","," "],sl:[",","."],sr:[",","."],sv:[","," "],th:[".",","],tr:[",","."],uk:[","," "],vi:[",","."],zh:[".",","]};function w(e=E()){let n=(e=e.toLowerCase())in x;if(!n){const s=e.split("-");s.length>1&&s[0]in x&&(e=s[0],n=!0),n||(e="en")}const[r,t,l="#,##0.###"]=x[e];return{decimal:r,group:t,pattern:l}}function A(e,n){const r=w((n={...n}).locale);n.customs=r;const t=n.pattern||r.pattern;return isNaN(e)||Math.abs(e)===1/0?null:v(e,t,n)}const N=/[#0,]*[#0](?:\.0*#*)?/;function v(e,n,r){const t=(r=r||{}).customs.group,l=r.customs.decimal,s=n.split(";"),o=s[0];if((n=s[e<0?1:0]||"-"+o).includes("%"))e*=100;else if(n.includes("‰"))e*=1e3;else{if(n.includes("¤"))throw new Error("currency notation not supported");if(n.includes("E"))throw new Error("exponential notation not supported")}const d=N,u=o.match(d);if(!u)throw new Error("unable to find a number expression in pattern: "+n);return r.fractional===!1&&(r.places=0),n.replace(d,z(e,u[0],{decimal:l,group:t,places:r.places,round:r.round}))}function z(e,n,r){(r=r||{}).places===!0&&(r.places=0),r.places===1/0&&(r.places=6);const t=n.split("."),l=typeof r.places=="string"&&r.places.indexOf(",");let s=r.places;l?s=r.places.slice(l+1):+s>=0||(s=(t[1]||[]).length),r.round<0||(e=Number(e.toFixed(Number(s))));const o=String(Math.abs(e)).split("."),d=o[1]||"";if(t[1]||r.places){l&&(r.places=r.places.slice(0,Math.max(0,l)));const c=r.places!==void 0?r.places:t[1]&&t[1].lastIndexOf("0")+1;+c>d.length&&(o[1]=d.padEnd(Number(c),"0")),+s<d.length&&(o[1]=d.slice(0,Math.max(0,Number(s))))}else o[1]&&o.pop();const u=t[0].replace(",","");let f=u.indexOf("0");f!==-1&&(f=u.length-f,f>o[0].length&&(o[0]=o[0].padStart(f,"0")),u.includes("#")||(o[0]=o[0].slice(-f)));let p,i,a=t[0].lastIndexOf(",");if(a!==-1){p=t[0].length-a-1;const c=t[0].slice(0,a);a=c.lastIndexOf(","),a!==-1&&(i=c.length-a-1)}const g=[];for(let c=o[0];c;){const m=c.length-p;g.push(m>0?c.slice(Math.max(0,m)):c),c=m>0?c.slice(0,m):"",i&&(p=i,i=void 0)}return o[0]=g.reverse().join(r.group||","),o.join(r.decimal||".")}function y(e){const n=w((e=e||{}).locale),r=e.pattern||n.pattern,t=n.group,l=n.decimal;let s=1;if(r.includes("%"))s/=100;else if(r.includes("‰"))s/=1e3;else if(r.includes("¤"))throw new Error("currency notation not supported");const o=r.split(";");return o.length===1&&o.push("-"+o[0]),{regexp:h(o,u=>(u="(?:"+S(u,".")+")").replace(N,f=>{const p={signed:!1,separator:e.strict?t:[t,""],fractional:e.fractional,decimal:l,exponent:!1},i=f.split(".");let a=e.places;i.length===1&&s!==1&&(i[1]="###"),i.length===1||a===0?p.fractional=!1:(a===void 0&&(a=e.pattern?i[1].lastIndexOf("0")+1:1/0),a&&e.fractional==null&&(p.fractional=!0),!e.places&&+a<i[1].length&&(a+=","+i[1].length),p.places=a);const g=i[0].split(",");return g.length>1&&(p.groupSize=g.pop().length,g.length>1&&(p.groupSize2=g.pop().length)),"("+O(p)+")"}),!0).replaceAll(/[\xa0 ]/g,"[\\s\\xa0]"),group:t,decimal:l,factor:s}}function I(e,n){const r=y(n),t=new RegExp("^"+r.regexp+"$").exec(e);if(!t)return NaN;let l=t[1];if(!t[1]){if(!t[2])return NaN;l=t[2],r.factor*=-1}return l=l.replaceAll(new RegExp("["+r.group+"\\s\\xa0]","g"),"").replace(r.decimal,"."),Number(l)*r.factor}function O(e){"places"in(e=e||{})||(e.places=1/0),typeof e.decimal!="string"&&(e.decimal="."),"fractional"in e&&!String(e.places).startsWith("0")||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);const n=b(e),r=h(e.fractional,l=>{let s="";return l&&e.places!==0&&(s="\\"+e.decimal,e.places===1/0?s="(?:"+s+"\\d+)?":s+="\\d{"+e.places+"}"),s},!0);let t=n+r;return r&&(t="(?:(?:"+t+")|(?:"+r+"))"),t+h(e.exponent,l=>l?"([eE]"+b({signed:e.eSigned})+")":"")}function b(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",h(e.signed,n=>n?"[-+]":"",!0)+h(e.separator,n=>{if(!n)return"(?:\\d+)";(n=S(n))===" "?n="\\s":n===" "&&(n="\\s\\xa0");const r=e.groupSize,t=e.groupSize2;if(t){const l="(?:0|[1-9]\\d{0,"+(t-1)+"}(?:["+n+"]\\d{"+t+"})*["+n+"]\\d{"+r+"})";return r-t>0?"(?:"+l+"|(?:0|[1-9]\\d{0,"+(r-1)+"}))":l}return"(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+n+"]\\d{"+r+"})*)"},!0)}const h=(e,n,r)=>{if(!Array.isArray(e))return n(e);const t=[];for(let l=0;l<e.length;l++)t.push(n(e[l]));return M(t.join("|"),!!r)},M=(e,n)=>"("+(n?"?:":"")+e+")";export{y as c,A as l,I as p,w as r};
