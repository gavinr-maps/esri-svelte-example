import{b as z}from"./mathUtils-Cfq9PL9W.js";import{A as M,P as g,o as l,u as $,g as a,r as x,I as y,c as j,_ as A}from"./vec32-Dvg_eL9J.js";import{n as h}from"./vec3f64-BLpZdpfb.js";function C(n){const r=n[0]*n[0]+n[4]*n[4]+n[8]*n[8],o=n[1]*n[1]+n[5]*n[5]+n[9]*n[9],c=n[2]*n[2]+n[6]*n[6]+n[10]*n[10];return Math.sqrt(Math.max(r,o,c))}function D(n,r){const o=Math.sqrt(r[0]*r[0]+r[4]*r[4]+r[8]*r[8]),c=Math.sqrt(r[1]*r[1]+r[5]*r[5]+r[9]*r[9]),i=Math.sqrt(r[2]*r[2]+r[6]*r[6]+r[10]*r[10]);return l(n,o,c,i),n}function E(n,r,o){o=o||n;const c=g(n,r);l(o,n[0]-c*r[0],n[1]-c*r[1],n[2]-c*r[2]),M(o,o)}function F(n,r,o){Math.abs(n[0])>Math.abs(n[1])?l(r,0,1,0):l(r,1,0,0),A(o,n,r),A(r,o,n),M(o,o),M(r,r)}function G(n,r,o,c,i,u){const f=n+(r-n)*i;return f+(o+(c-o)*i-f)*u}function H(n,r,o,c=h()){const i=x(n),u=x(r),f=g(n,r)/(i*u);if(f<.9999999999999999){const m=Math.acos(f),t=((1-o)*i+o*u)/Math.sin(m),b=t/i*Math.sin((1-o)*m),p=t/u*Math.sin(o*m);return a(e,n,b),a(s,r,p),$(c,e,s)}return y(c,n,r,o)}function J(n,r,o,c=h(),i=h()){const u=x(n),f=x(r),m=g(n,r)/(u*f);if(m<.9999999999999999){const t=Math.acos(m),b=Math.sin(t),p=Math.sin(o*t),k=Math.sin((1-o)*t),P=(1-o)*u+o*f;{const q=P/b,d=q/f*p;a(e,n,q/u*k),a(s,r,d),$(c,e,s)}{const q=1/u*(-Math.cos((1-o)*t)*t*P+k*(-u+f));a(e,n,q);const d=1/f*(Math.cos(o*t)*t*P+p*(-u+f));a(s,r,d),$(i,e,s),a(i,i,1/b)}return i}return y(c,n,r,o),j(i,r,n),M(i,i),i}function K(n,r,o){n=M(e,n),r=M(s,r);const c=z(g(n,r));if(o){const i=A(B,n,r);if(g(i,o)<0)return-c}return c}function L(n){const r=n.length;return o=>{if(o<=n[0][0])return n[0][1];if(o>=n[r-1][0])return n[r-1][1];let c=1;for(;o>n[c][0];)c++;const i=n[c-1][0],u=n[c][0],f=(u-o)/(u-i);return f*n[c-1][1]+(1-f)*n[c][1]}}function N(n,r,o,c){j(v,r,n),j(w,o,n),A(c,v,w),M(c,c),c[3]=-g(n,c)}function O(n,r){if(l(r,0,0,0),n.length>0){for(let o=0;o<n.length;++o)$(r,r,n[o]);a(r,r,1/n.length)}}const v=h(),w=h(),B=h(),e=h(),s=h();export{O as U,G as b,L as d,D as g,H as j,N as k,C as m,E as p,F as q,K as v,J as x};
