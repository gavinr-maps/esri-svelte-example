import{r as s,u as o,P as n}from"./cast-BA_-jlhc.js";import{_ as i}from"./reactiveUtils-BR0C1Kq4.js";import{D as u,V as m,s as l}from"./Accessor-BHnuXKD2.js";class h{constructor(a){this._streamDataRequester=a}async loadJSON(a,r){return this._load("json",a,r)}async loadBinary(a,r){return s(a)?(u(r),o(a)):this._load("binary",a,r)}async loadImage(a,r){return this._load("image",a,r)}async _load(a,r,t){if(this._streamDataRequester==null)return(await n(r,{responseType:d[a]})).data;const e=await i(this._streamDataRequester.request(r,a,t));if(e.ok===!0)return e.value;throw m(e.error),new l("glt-loader-request-error",`Request for resource failed: ${e.error}`)}}const d={image:"image",binary:"array-buffer",json:"json","image+type":void 0};export{h as n};
