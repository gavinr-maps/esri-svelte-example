import{r as h,c as o,g as d}from"./index-BVncS3aY.js";import{q as n,r as g}from"./index-d2df902e-QBEsANpt.js";import{a as l}from"./component-utils-de9339fe-Dlc67iIs.js";import{u as c}from"./chunk-PVEVZB4O-2c3b8893-B3FXQMfG.js";import{u as w}from"./index-c99fc80c-xXzSzjCa.js";import{m}from"./useWidget-9b153437-CgzcOSWq.js";/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.30/esri/copyright.txt for details.
 * v4.30.7
 */const y="",u=y,p=m(g),r="map-components:arcgis-directions",f=class{constructor(e){h(this,e),this.arcgisReady=o(this,"arcgisReady",7),this.arcgisPropertyChange=o(this,"arcgisPropertyChange",7),this.manager=w(this),this.widget=p(this),this.viewModel=this.widget.viewModel,this.arcgisPropertyChange=c()("lastRoute","state"),this.autoDestroyDisabled=!1,this.referenceElement=void 0,this.apiKey=this.widget.apiKey,this.icon=this.widget.icon,this.label=this.widget.label,this.routeLayerItemId=this.manager.getSet(void 0,{set:t=>{var i;return l(t)?((i=this.widget.view)==null||i.map.remove(this.layer),this._setDefaultLayer()):t&&this.widget&&n({portalItem:{id:t}}).then(s=>{this.layer=s}).catch(console.error),t}}),this.lastRoute=this.widget.lastRoute,this.layer=this.widget.layer,this.headingLevel=this.widget.headingLevel,this.maxStops=this.widget.maxStops,this.searchProperties=this.widget.searchProperties,this.unit=this.widget.unit,this.useDefaultRouteLayer=this.manager.getSet(!1,{set:t=>(this._setDefaultLayer(),t)}),this.hideLayerDetails=this.widget.visibleElements.layerDetails,this.hideSaveAsButton=this.widget.visibleElements.saveAsButton,this.hideSaveButton=this.widget.visibleElements.saveButton,this.position="bottom-left",this.state=this.viewModel.state}_setDefaultLayer(){this.useDefaultRouteLayer&&n({}).then(e=>{this.layer=e}).catch(console.error)}async destroy(){await this.manager.destroy()}async getDirections(){var e,t,i;if(((t=(e=this.widget)==null?void 0:e.viewModel)==null?void 0:t.state)!=="ready")throw new Error(`${r} - component not ready to get directions`);return await((i=this.widget)==null?void 0:i.getDirections())}async save(){var e,t,i;if(((t=(e=this.widget)==null?void 0:e.viewModel)==null?void 0:t.state)!=="ready")throw new Error(`${r} - component not ready to save directions`);return await((i=this.widget)==null?void 0:i.save())}async saveAs(e,t){var i,s,a;if(((s=(i=this.widget)==null?void 0:i.viewModel)==null?void 0:s.state)!=="ready")throw new Error(`${r} - component not ready to save directions as a Portal Item`);return await((a=this.widget)==null?void 0:a.saveAs(e,t))}async zoomToRoute(){var e,t,i;if(((t=(e=this.widget)==null?void 0:e.viewModel)==null?void 0:t.state)!=="ready")throw new Error(`${r} - component not ready to zoom to route`);(i=this.widget)==null||i.zoomToRoute()}get el(){return d(this)}};f.style=u;export{f as arcgis_directions};
