import{n as y}from"./ref-Ccn4I0kT.js";import{x as H,E as C}from"./index-tefRSezt.js";import{b as W}from"./dom--xxYYVQF.js";import{n as h}from"./index-BSRDeu3E.js";import{e as w}from"./index-CCqZjfSZ.js";/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.0.3 */const L=2,d=t=>t.reduce((e,o)=>e+o,0)/t.length,B=t=>{const e=t.filter(n=>n.slot!==h.menuActions),o=e==null?void 0:e.length;return{actionWidth:o?d(e.map(n=>n.clientWidth||0)):0,actionHeight:o?d(e.map(n=>n.clientHeight||0)):0}},q=({width:t,actionWidth:e,layout:o,height:n,actionHeight:i,groupCount:r})=>{const l=o==="horizontal"?t:n,c=o==="horizontal"?e:i;return Math.floor((l-r*L)/c)},D=({layout:t,actionCount:e,actionWidth:o,width:n,actionHeight:i,height:r,groupCount:l})=>Math.max(e-q({width:n,actionWidth:o,layout:t,height:r,actionHeight:i,groupCount:l}),0),f=t=>Array.from(t.querySelectorAll("calcite-action")).filter(e=>e.closest("calcite-action-menu")?e.slot===w.trigger:!0),I=({actionGroups:t,expanded:e,overflowCount:o})=>{let n=o;t.reverse().forEach(i=>{let r=0;const l=f(i).reverse();l.forEach(c=>{c.slot===h.menuActions&&(c.removeAttribute("slot"),c.textEnabled=e)}),n>0&&l.some(c=>(l.filter(s=>!s.slot).length>1&&l.length>2&&!c.closest("calcite-action-menu")&&(c.textEnabled=!0,c.setAttribute("slot",h.menuActions),r++,r>1&&n--),n<1)),i.manager.component.requestUpdate()})},m={chevronsLeft:"chevrons-left",chevronsRight:"chevrons-right"};function S(t,e){var o;return t||((o=e.closest("calcite-shell-panel"))==null?void 0:o.position)||"start"}function N({el:t,expanded:e}){f(t).filter(o=>o.slot!==h.menuActions).forEach(o=>o.textEnabled=e),t.querySelectorAll("calcite-action-group, calcite-action-menu").forEach(o=>o.expanded=e)}const k=({tooltip:t,referenceElement:e,expanded:o,ref:n})=>(t&&(t.referenceElement=!o&&e?e:null),n&&n(e),e),O=({expanded:t,expandText:e,collapseText:o,expandLabel:n,collapseLabel:i,toggle:r,el:l,position:c,tooltip:s,ref:g,scale:x})=>{const E=W(l)==="rtl",p=t?o:e,v=t?i:n,a=[m.chevronsLeft,m.chevronsRight];E&&a.reverse();const u=S(c,l)==="end",$=u?a[1]:a[0],b=u?a[0]:a[1];return H`<calcite-action .icon=${t?$:b} id=expand-toggle .label=${v} @click=${r} .scale=${x} .text=${p} .textEnabled=${t} title=${(!t&&!s?p:null)??C} ${y(A=>k({tooltip:s,referenceElement:A,expanded:t,ref:g}))}></calcite-action>`};export{f as A,N as B,B as D,O as G,D as H,I as k};
