import{s as N}from"./mathUtils-C4_ghTv4.js";import{s as S,q as M,o as P}from"./mat4-GpOFENPA.js";import{n as m}from"./vec3f64-BLpZdpfb.js";import{F as e,l as R,e as p,N as o,L as f}from"./projectBuffer-Bs7GwaPY.js";import{s as C}from"./Point-Cg0-ChZE.js";function O(r,i,t){const l=Math.sin(r),u=Math.cos(r),s=Math.sin(i),_=Math.cos(i),n=t;return n[0]=-l,n[4]=-s*u,n[8]=_*u,n[12]=0,n[1]=u,n[5]=-s*l,n[9]=_*l,n[13]=0,n[2]=0,n[6]=_,n[10]=s,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1,n}function T(r,i,t){return O(r,i,t),S(t,t),t}function H(r,i,t,l){if(r==null||l==null)return!1;const u=e(r,R),s=e(l,p);if(u===s&&!a(s)&&(u!==o.UNKNOWN||C(r,l)))return M(t,i),!0;if(a(s)){const n=f[u][o.LON_LAT],c=f[o.LON_LAT][s];return n!=null&&c!=null&&(n(i,0,E,0),c(E,0,L,0),O(A*E[0],A*E[1],t),t[12]=L[0],t[13]=L[1],t[14]=L[2],!0)}const _=a(u);if((s===o.WEB_MERCATOR||s===o.PLATE_CARREE||s===o.WGS84||s===o.CGCS2000)&&(u===o.WGS84||_||u===o.WEB_MERCATOR||u===o.CGCS2000)){const n=f[u][o.LON_LAT],c=f[o.LON_LAT][s];return n!=null&&c!=null&&(n(i,0,E,0),c(E,0,L,0),_?T(A*E[0],A*E[1],t):P(t),t[12]=L[0],t[13]=L[1],t[14]=L[2],!0)}return!1}function a(r){return r===o.SPHERICAL_ECEF||r===o.SPHERICAL_MARS_PCPF||r===o.SPHERICAL_MOON_PCPF||r===o.WGS84_ECEF}const A=N(1),E=m(),L=m();export{H as C,O as n};
