import{n as g}from"./vec2f64-miziP1SN.js";import{z as m}from"./vec42-YcqnINSP.js";import{n as h}from"./vec4f64-o2zAXfmz.js";const r=h();class p{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}}function w(n,t="Assertion"){if(!n){const e=new Error(t).stack;throw new p(`${t} at ${e}`)}}function x(n,t){n||(t=t||"",console.warn("Verify failed: "+t+`
`+new Error("verify").stack))}function y(n,t,e,f){let o,c=(e[0]-n[0])/t[0],u=(f[0]-n[0])/t[0];c>u&&(o=c,c=u,u=o);let a=(e[1]-n[1])/t[1],i=(f[1]-n[1])/t[1];if(a>i&&(o=a,a=i,i=o),c>i||a>u)return!1;a>c&&(c=a),i<u&&(u=i);let l=(e[2]-n[2])/t[2],s=(f[2]-n[2])/t[2];return l>s&&(o=l,l=s,s=o),!(c>s||l>u)&&(s<u&&(u=s),!(u<0))}function A(n,t,e,f,o,c=g()){const u=(f[o]-e[o])*(t[0]-n[0])-(f[0]-e[0])*(t[o]-n[o]),a=(f[0]-e[0])*(n[o]-e[o])-(f[o]-e[o])*(n[0]-e[0]);if(u===0)return!1;const i=a/u;return c[0]=n[0]+i*(t[0]-n[0]),c[1]=n[o]+i*(t[o]-n[o]),!0}function M(n,t,e,f,o){r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=1,m(r,r,t),o.length>2&&(o[2]=-r[2]),m(r,r,e),w(r[3]!==0),o[0]=r[0]/r[3],o[1]=r[1]/r[3],o[2]=r[2]/r[3],o[0]=(.5*o[0]+.5)*f[2]+f[0],o[1]=(.5*o[1]+.5)*f[3]+f[1]}function d(n,t){return Math.log(n)/Math.log(t)}function v(n){return n[0]===1&&n[1]===0&&n[2]===0&&n[3]===0&&n[4]===0&&n[5]===1&&n[6]===0&&n[7]===0&&n[8]===0&&n[9]===0&&n[10]===1&&n[11]===0&&n[15]===1}export{M as a,x as c,A as f,y as i,v as m,w as s,d as u};
