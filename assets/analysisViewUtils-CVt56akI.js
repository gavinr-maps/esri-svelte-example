import{d as s,A as c,a as r,w as u}from"./reactiveUtils-XM7cS2OP.js";import{a4 as v,l as w}from"./Accessor-BmwT4B0c.js";function y(t,a){t.interactive=!0;const{tool:i,view:e}=t;e.activeTool=i;let n=v(a,()=>{e.activeTool===i&&(e.activeTool=null)});return r(async o=>{await u(()=>i==null||!i.active,o),n=w(n)},a)}function p(t,a){return s(()=>t.interactive,()=>f(t,a),c)}function f(t,a){t.interactive?m(t,a):l(t)}function m(t,a){l(t);const{view:i,analysis:e}=t,n=new a({view:i,analysis:e,analysisViewData:t});return t.tool=n,i.tools.add(n),n}function l(t){const{view:a,tool:i}=t;i!=null&&(a.tools.remove(i),t.tool=null)}export{p as a,y as l,l as v};
