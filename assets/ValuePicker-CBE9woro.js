const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./calcite-combobox-DZ_miEwS.js","./combobox-CAZmwDcP.js","./jsxFactory-CJa39Fro.js","./tslib.es6-B3Jf3DVX.js","./intl-CChhNOV8.js","./date-DlqISzcw.js","./jsonMap-0cxwUWs2.js","./subclass-BZA_h8Db.js","./locale-C9TlLpzi.js","./messages-OmQvZhAg.js","./Accessor-BLX9ikPh.js","./assets-C43MgM-v.js","./index-Bh2oEzTI.js","./index-2kwcjS9-.css","./Evented-BHRw9x22.js","./Promise-B2Hu02L7.js","./reactiveUtils-C5zUhJQJ.js","./asyncUtils-CWX51uTe.js","./Collection-CEdjem1-.js","./shared-B3wH2qpO.js","./SimpleObservable-KocWTzVy.js","./uuid-fwrPAdZb.js","./cast-Bjksrh93.js","./core-Cpfj44ZG.js","./filter-yN6-jZOU.js","./debounce-BOqmhDXu.js","./dom-D_AJDzAj.js","./floating-ui-Bma_zPVt.js","./form-BZPQ5PUM.js","./interactive-y84HQRWL.js","./label-DEe8AW1C.js","./component-6CIDVndn.js","./loadable-DM18hPdE.js","./locale-A4FuYD8q.js","./key-D63ExP77.js","./observers-D2xgmA06.js","./openCloseComponent-CmOrfBN-.js","./t9n-D0ry3MEw.js","./Validation-Bz9yoU6e.js","./utils2-COUKy2o1.js","./chip-ZieJjxzJ.js","./icon-BQO9J86c.js","./combobox-item-DwxSVkl7.js","./conditionalSlot-R5D9krYS.js","./input-message-CWvsvdFk.js","./calcite-combobox-item-BtecfP0L.js","./calcite-tooltip-rE_jVYtd.js","./FloatingArrow-BBdsG5MP.js","./calcite-action-Bys6x4p_.js","./action-D0Er9Ef6.js","./loader-C-zIPscB.js","./calcite-action-bar-pMVRYUJz.js","./ExpandToggle-D9_knjDY.js","./action-group-BJ76kEtf.js","./action-menu-C6uYzPu-.js","./array-BMcQdnYi.js","./popover-Q5ruM4hh.js","./focusTrapComponent-BSUg_DLj.js","./Heading-D7P0OjYI.js"])))=>i.map(i=>d[i]);
import{_ as $}from"./index-Bh2oEzTI.js";import{r as i}from"./tslib.es6-B3Jf3DVX.js";import{watch as K,initial as oe,on as B}from"./reactiveUtils-C5zUhJQJ.js";import{m as l,a as v,n as se}from"./subclass-BZA_h8Db.js";import{B as W,n as r,r as D,e as Q}from"./jsxFactory-CJa39Fro.js";import{e as le}from"./globalCss-CZa70j6i.js";import{e as ne}from"./vmEvent-D4Ubqkbq.js";import{V as ae}from"./Collection-CEdjem1-.js";import{b as X,C as re,I as ue,c as pe}from"./Accessor-BLX9ikPh.js";import{A as ce}from"./Slider-Lf1VhhQX.js";import{o as de}from"./Evented-BHRw9x22.js";import"./asyncUtils-CWX51uTe.js";import"./shared-B3wH2qpO.js";import"./SimpleObservable-KocWTzVy.js";import"./intl-CChhNOV8.js";import"./date-DlqISzcw.js";import"./jsonMap-0cxwUWs2.js";import"./locale-C9TlLpzi.js";import"./messages-OmQvZhAg.js";import"./assets-C43MgM-v.js";import"./Promise-B2Hu02L7.js";import"./uuid-fwrPAdZb.js";import"./cast-Bjksrh93.js";let k=class extends W{constructor(t,o){super(t,o),this.type=null,this.viewModel=null}};i([l()],k.prototype,"type",void 0),i([l()],k.prototype,"viewModel",void 0),k=i([v("esri.widgets.ValuePicker.ValuePickerBaseComponent")],k);const V=k;let y=class extends V{constructor(t,o){super(t,o),this.collection=null,this.type="collection"}get canNext(){var t,o;return!(!((t=this.collection)!=null&&t.length)||!this.viewModel)&&this.collection.at(-1)!==((o=this.viewModel.values)==null?void 0:o[0])}get canPlay(){var t;return this.viewModel!=null&&!!((t=this.collection)!=null&&t.length)}get canPrevious(){var t,o;return!(!((t=this.collection)!=null&&t.length)||!this.viewModel)&&this.collection.at(0)!==((o=this.viewModel.values)==null?void 0:o[0])}render(){return r("div",null)}animate(t){this._step(1,t)}next(){this._step(1)}previous(){this._step(-1)}_step(t,o=!1){var n;if(!this.viewModel||!((n=this.collection)!=null&&n.length))return;if(!this.viewModel.values)return void(this.viewModel.values=[this.collection.at(0)]);if(!this.collection.includes(this.viewModel.values[0]))return void(this.viewModel.values=[this.collection.at(0)]);const s=this.collection.indexOf(this.viewModel.values[0])+t;s<0||s>=this.collection.length?this.viewModel.loop||o?this.viewModel.values=[this.collection.at(t===1?0:-1)]:this.viewModel.state==="playing"&&this.viewModel.pause():this.viewModel.values=[this.collection.at(s)]}};i([l()],y.prototype,"canNext",null),i([l()],y.prototype,"canPlay",null),i([l()],y.prototype,"canPrevious",null),i([l({type:ae})],y.prototype,"collection",void 0),i([l()],y.prototype,"type",void 0),y=i([v("esri.widgets.ValuePicker.ValuePickerCollection")],y);const he=y,ve="esri-value-picker__combobox";let h=class extends V{constructor(t,o){super(t,o),this.items=null,this.placeholder=null,this.type="combobox"}loadDependencies(){return D({combobox:()=>$(()=>import("./calcite-combobox-DZ_miEwS.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44]),import.meta.url),"combobox-item":()=>$(()=>import("./calcite-combobox-item-BtecfP0L.js"),__vite__mapDeps([45,42,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,43,35,26,29,39,31,41]),import.meta.url)})}get canNext(){return!(!this.items||!this.viewModel)&&this.items.findIndex(({value:t})=>{var o;return t===((o=this.viewModel.values)==null?void 0:o[0])})!==this.items.length-1}get canPlay(){var t;return this.viewModel!=null&&!!((t=this.items)!=null&&t.length)}get canPrevious(){const{items:t,viewModel:o}=this;return!(!t||!o)&&t.findIndex(({value:s})=>{var n;return s===((n=o.values)==null?void 0:n[0])})!==0}render(){var s,n;const{viewModel:t}=this;if(t==null)return r("div",null);const o=(s=t.values)==null?void 0:s[0];return r("div",{class:ve},r("calcite-combobox",{disabled:t.disabled,label:this.label,maxItems:10,overlayPositioning:"fixed",placeholder:this.placeholder??void 0,selectionMode:"single",onCalciteComboboxChange:a=>{Array.isArray(a.target.value)||(t.values!=null?t.values[0]!==a.target.value&&(t.values=[a.target.value]):t.values=[a.target.value])}},(n=this.items)==null?void 0:n.map(({value:a,label:u},g)=>r("calcite-combobox-item",{key:g,selected:a===o,textLabel:u,value:a}))))}animate(t){this._step(1,t)}next(){this._step(1)}previous(){this._step(-1)}_step(t,o=!1){const{viewModel:s,items:n}=this;if(!(n!=null&&n.length)||!s)return;if(!s.values)return void(s.values=[n[0].value]);const a=n.findIndex(({value:g})=>g===s.values[0]);if(a===-1)return void(s.values=[n[0].value]);const u=a+t;u<0||u>=n.length?s.loop||o?s.values=[n[t===1?0:n.length-1].value]:s.state==="playing"&&s.pause():s.values=[n[u].value]}};i([l()],h.prototype,"canNext",null),i([l()],h.prototype,"canPlay",null),i([l()],h.prototype,"canPrevious",null),i([l()],h.prototype,"items",void 0),i([l()],h.prototype,"placeholder",void 0),i([l()],h.prototype,"type",void 0),h=i([v("esri.widgets.ValuePicker.ValuePickerCombobox")],h);const me=h,A="esri-value-picker__label",U={border:`${A}-border`,text:`${A}-text`};let _=class extends V{constructor(e,t){super(e,t),this.items=null,this.type="label"}get canNext(){return!(!this.items||!this.viewModel)&&this.items.findIndex(({value:e})=>{var t;return e===((t=this.viewModel.values)==null?void 0:t[0])})!==this.items.length-1}get canPlay(){var e;return this.viewModel!=null&&!!((e=this.items)!=null&&e.length)}get canPrevious(){const{items:e,viewModel:t}=this;return!(!e||!t)&&e.findIndex(({value:o})=>{var s;return o===((s=t.values)==null?void 0:s[0])})!==0}render(){var o;const{viewModel:e}=this;if(e==null)return r("div",null);const t=(o=this.items)==null?void 0:o.find(({value:s})=>{var n;return s===((n=e.values)==null?void 0:n[0])});return r("div",{class:A},r("div",{class:U.border},r("div",{class:U.text},t==null?void 0:t.label)))}animate(e){this._step(1,e)}next(){this._step(1)}previous(){this._step(-1)}_step(e,t=!1){const{viewModel:o,items:s}=this;if(!(s!=null&&s.length)||!o)return;if(!o.values)return void(o.values=[s[0].value]);const n=s.findIndex(({value:u})=>u===o.values[0]);if(n===-1)return void(o.values=[s[0].value]);const a=n+e;a<0||a>=s.length?o.loop||t?o.values=[s[e===1?0:s.length-1].value]:o.state==="playing"&&o.pause():o.values=[s[a].value]}};i([l()],_.prototype,"canNext",null),i([l()],_.prototype,"canPlay",null),i([l()],_.prototype,"canPrevious",null),i([l()],_.prototype,"items",void 0),i([l()],_.prototype,"type",void 0),_=i([v("esri.widgets.ValuePicker.ValuePickerLabel")],_);const ye=_;let f=class extends X{constructor(e){super(e),this.steps=!1,this.thumbTooltip=!1}};i([l({nonNullable:!0})],f.prototype,"steps",void 0),i([l({nonNullable:!0})],f.prototype,"thumbTooltip",void 0),f=i([v("esri.widgets.ValuePicker.ValuePickerSliderVisibleElements")],f);const Y=f,P="esri-value-picker__slider",C={minorTick:`${P}__tick-minor`,majorTick:`${P}__tick-major`,stepsTick:`${P}__tick-steps`,tooltip:`${P}__tooltip`};function I(e){return(t,o)=>{o==null||o.classList.add(e)}}let c=class extends V{constructor(e,t){super(e,t),this._majorTickCreatedFunction=I(C.majorTick),this._minorTickCreatedFunction=I(C.minorTick),this._stepsTickCreatedFunction=I(C.stepsTick),this._thumbNode=null,this._tooltip=null,this._slider=new ce({thumbCreatedFunction:(o,s,n)=>{this._thumbNode=n}}),this.labelFormatFunction=null,this.labels=null,this.min=null,this.minorTicks=null,this.majorTicks=null,this.max=null,this.reversed=!1,this.steps=null,this.type="slider",this.visibleElements=new Y,this._thumbDragDebounced=re(async o=>{var s;await((s=this._tooltip)==null?void 0:s.reposition(!1))})}initialize(){this.addHandles([K(()=>{var e;return(e=this.viewModel)==null?void 0:e.values},e=>{this._slider.values=e},oe),K(()=>this._slider.values,e=>{this.viewModel&&this.viewModel.values!==e&&(this.viewModel.values=e)}),this._slider.on("thumb-drag",this._thumbDragDebounced)])}destroy(){this._slider.destroy()}loadDependencies(){return D({tooltip:()=>$(()=>import("./calcite-tooltip-rE_jVYtd.js"),__vite__mapDeps([46,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,26,27,25,36,47]),import.meta.url)})}get _ascending(){const{reversed:e,viewModel:t}=this;if(!t)return null;const{layout:o}=t;return o==="horizontal"&&!e||o==="vertical"&&e}get canNext(){const{_ascending:e,min:t,max:o,steps:s,viewModel:n}=this;if(e==null||t==null||o==null||!(s!=null&&s.length)||!n)return!1;const{values:a}=n,u=a==null?void 0:a[0];return u==null||(e?u!==s[s.length-1]:u!==s[0])}get canPlay(){var e;return this.viewModel!=null&&!!((e=this.steps)!=null&&e.length)&&this.min!=null&&this.max!=null}get canPrevious(){const{_ascending:e,min:t,max:o,steps:s,viewModel:n}=this;if(e==null||t==null||o==null||!(s!=null&&s.length)||!n)return!1;const{values:a}=n,u=a==null?void 0:a[0];return u==null||(e?u!==s[0]:u!==s[s.length-1])}render(){const{labels:e,labelFormatFunction:t,min:o,max:s,steps:n,minorTicks:a,majorTicks:u,reversed:g,viewModel:T}=this;if(!T)return r("div",null);const{disabled:N,layout:E}=T,F=`${E}${g?"-reversed":""}`,w="position",m=[];return o!=null&&s!=null&&(a&&m.push({mode:w,values:a,tickCreatedFunction:this._minorTickCreatedFunction}),u&&m.push({mode:w,values:u,tickCreatedFunction:this._majorTickCreatedFunction}),e&&m.push({mode:w,values:e,labelsVisible:!0}),this.visibleElements.steps&&this.steps&&m.push({mode:w,values:this.steps,tickCreatedFunction:this._stepsTickCreatedFunction})),this._slider.set({disabled:N,labelFormatFunction:t,layout:F,min:o,max:s,steps:n,tickConfigs:m}),r("div",{class:P},this._slider.render(),this._renderToolTip())}animate(e){this._step(1,e)}next(){this._step(this._ascending?1:-1)}previous(){this._step(this._ascending?-1:1)}_onTooltipAfterCreate(e){this._tooltip=e}_renderToolTip(){if(!this.visibleElements.thumbTooltip||!this._thumbNode||!this._slider.values)return null;const e=this._slider.viewModel.getLabelForValue(this._slider.values[0],"value");return e?r("calcite-tooltip",{afterCreate:this._onTooltipAfterCreate,class:C.tooltip,referenceElement:this._thumbNode},e):null}_step(e,t=!1){var s;if(!this.viewModel||!((s=this.steps)!=null&&s.length))return;if(!this.viewModel.values||!this.steps.includes(this.viewModel.values[0]))return void(this.viewModel.values=[this.steps[0]]);const o=this.steps.indexOf(this.viewModel.values[0])+e;o<0||o>=this.steps.length?this.viewModel.loop||t?this.viewModel.values=[this.steps[e===1?0:this.steps.length-1]]:this.viewModel.state==="playing"&&this.viewModel.pause():this.viewModel.values=[this.steps[o]]}};i([l()],c.prototype,"_ascending",null),i([l()],c.prototype,"canNext",null),i([l()],c.prototype,"canPlay",null),i([l()],c.prototype,"canPrevious",null),i([l()],c.prototype,"labelFormatFunction",void 0),i([l()],c.prototype,"labels",void 0),i([l()],c.prototype,"min",void 0),i([l()],c.prototype,"minorTicks",void 0),i([l()],c.prototype,"majorTicks",void 0),i([l()],c.prototype,"max",void 0),i([l({nonNullable:!0})],c.prototype,"reversed",void 0),i([l()],c.prototype,"steps",void 0),i([l()],c.prototype,"type",void 0),i([l({type:Y,nonNullable:!0})],c.prototype,"visibleElements",void 0),c=i([v("esri.widgets.ValuePicker.ValuePickerSlider")],c);const _e=c,be={first:!0},ge={first:!1};let d=class extends de.EventedAccessor{constructor(t){super(t),this._animationController=null,this.disabled=!1,this.layout="horizontal",this.loop=!1,this.playRate=1e3,this.values=null}destroy(){this._pause()}get state(){return this._animationController?"playing":"ready"}next(){this.emit("next")}pause(){this.emit("pause"),this._pause()}play(){this.emit("play"),this._play()}previous(){this.emit("previous")}_pause(){var t;(t=this._animationController)==null||t.abort(),this._animationController=null}_play(){this._pause(),this._animationController=new AbortController,this._animate(be)}async _animate(t){if(this.emit("animate",t),this._animationController){try{await ue(this.playRate,null,this._animationController.signal)}catch(o){return pe(o)||se.getLogger(this).error(o),void this._pause()}this._animate(ge)}}};i([l()],d.prototype,"_animationController",void 0),i([l({nonNullable:!0})],d.prototype,"disabled",void 0),i([l({nonNullable:!0})],d.prototype,"layout",void 0),i([l({nonNullable:!0})],d.prototype,"loop",void 0),i([l({nonNullable:!0})],d.prototype,"playRate",void 0),i([l({readOnly:!0})],d.prototype,"state",null),i([l()],d.prototype,"values",void 0),i([l()],d.prototype,"next",null),i([l()],d.prototype,"pause",null),i([l()],d.prototype,"play",null),i([l()],d.prototype,"previous",null),d=i([v("esri.widgets.ValuePicker.ValuePickerViewModel")],d);const we=d;let x=class extends X{constructor(e){super(e),this.nextButton=!0,this.playButton=!0,this.previousButton=!0}};i([l({nonNullable:!0})],x.prototype,"nextButton",void 0),i([l({nonNullable:!0})],x.prototype,"playButton",void 0),i([l({nonNullable:!0})],x.prototype,"previousButton",void 0),x=i([v("esri.widgets.ValuePicker.ValuePickerVisibleElements")],x);const Z=x,b="esri-value-picker",M={actionBar:`${b}__action-bar`,caption:`${b}__caption`,captionBorder:`${b}__caption-border`,captionText:`${b}__caption-text`,separator:`${b}__separator`},xe={base:null,key:"type",typeMap:{collection:he,combobox:me,label:ye,slider:_e}};let p=class extends W{constructor(e,t){super(e,t),this.caption=null,this.messages=null,this.messagesCommon=null,this.viewModel=new we,this.visibleElements=new Z}initialize(){this.addHandles([B(()=>this.viewModel,"animate",({first:e})=>{var t;(t=this.component)==null||t.animate(e)}),B(()=>this.viewModel,"next",()=>{var e;(e=this.component)==null||e.next()}),B(()=>this.viewModel,"previous",()=>{var e;(e=this.component)==null||e.previous()})])}loadDependencies(){return D({action:()=>$(()=>import("./calcite-action-Bys6x4p_.js"),__vite__mapDeps([48,49,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,26,29,32,33,34,35,31,37,41,50]),import.meta.url),"action-bar":()=>$(()=>import("./calcite-action-bar-pMVRYUJz.js"),__vite__mapDeps([51,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,43,35,26,32,33,34,37,52,53,54,55,49,29,31,41,50,56,27,25,57,36,58,47]),import.meta.url)})}get canNext(){var e;return((e=this.component)==null?void 0:e.canNext)??!0}get canPlay(){var e;return((e=this.component)==null?void 0:e.canPlay)??!0}get canPrevious(){var e;return((e=this.component)==null?void 0:e.canPrevious)??!0}set component(e){e&&(e.viewModel??(e.viewModel=this.viewModel)),this._set("component",e)}get disabled(){return this.viewModel.disabled}set disabled(e){this.viewModel.disabled=e}get icon(){return"list-rectangle"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get layout(){return this.viewModel.layout}set layout(e){this.viewModel.layout=e}get loop(){return this.viewModel.loop}set loop(e){this.viewModel.loop=e}get playRate(){return this.viewModel.playRate}set playRate(e){this.viewModel.playRate=e}get values(){return this.viewModel.values}set values(e){this.viewModel.values=e}next(){this.viewModel.next()}pause(){this.viewModel.pause()}play(){this.viewModel.play()}previous(){this.viewModel.previous()}render(){var S,H,q,G,J;const{disabled:e,state:t}=this.viewModel,o=t==="playing",s=this.layout==="horizontal",{control:n,pagination:a}=this.messagesCommon,{pause:u,play:g}=n,{previous:T,up:N,next:E,down:F}=a,w=o?u:g,m=this.visibleElements.playButton&&r("calcite-action",{active:o,alignment:"center",bind:this,disabled:e||!this.canPlay,icon:o?"pause":"play",key:"play",onclick:o?this.pause:this.play,text:w,title:w}),R=s?T:N,L=this.visibleElements.previousButton&&r("calcite-action",{alignment:"center",bind:this,disabled:e||o||!this.canPrevious,icon:s?"chevron-left":"chevron-up",key:"previous",onclick:this.previous,text:R,title:R}),j=s?E:F,O=this.visibleElements.nextButton&&r("calcite-action",{alignment:"center",bind:this,disabled:e||o||!this.canNext,icon:s?"chevron-right":"chevron-down",key:"next",onclick:this.next,text:j,title:j}),z=this.caption&&r("div",{class:M.caption},r("div",{class:M.captionBorder},r("div",{class:M.captionText},this.caption))),ee=((S=this.component)==null?void 0:S.type)==="combobox"||((H=this.component)==null?void 0:H.type)==="label"||((q=this.component)==null?void 0:q.type)==="slider",te=(m||L||O)&&(z||ee)&&r("div",{class:M.separator}),ie=(G=this.component)==null?void 0:G.render();return r("div",{"aria-label":this.label,class:this.classes(b,le.widget,`${b}__layout--${this.layout}`,`${b}__type--${(J=this.component)==null?void 0:J.type}`)},r("calcite-action-bar",{class:M.actionBar,expandDisabled:!0,layout:this.layout},[m,L,O,te,z,ie]))}};i([l()],p.prototype,"canNext",null),i([l()],p.prototype,"canPlay",null),i([l()],p.prototype,"canPrevious",null),i([l()],p.prototype,"caption",void 0),i([l({types:xe,value:null})],p.prototype,"component",null),i([l()],p.prototype,"disabled",null),i([l()],p.prototype,"icon",null),i([l()],p.prototype,"label",null),i([l()],p.prototype,"layout",null),i([l()],p.prototype,"loop",null),i([l(),Q("esri/widgets/ValuePicker/t9n/ValuePicker")],p.prototype,"messages",void 0),i([l(),Q("esri/t9n/common")],p.prototype,"messagesCommon",void 0),i([l()],p.prototype,"playRate",null),i([l()],p.prototype,"values",null),i([l(),ne(["animate","next","pause","play","previous"])],p.prototype,"viewModel",void 0),i([l({type:Z,nonNullable:!0})],p.prototype,"visibleElements",void 0),p=i([v("esri.widgets.ValuePicker")],p);const Ue=p;export{Ue as default};
