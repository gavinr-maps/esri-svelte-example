import{h as P,n as e}from"./mathUtils-ClvKsMak.js";import{s as S,q as a,o as N}from"./mat4-ybYUU6jq.js";import{F as f,l as O,e as m,N as r,L as i}from"./projectBuffer-iyGwL2dv.js";import{G as M}from"./Point-TlcsOcXV.js";function u(s,L,t){const c=Math.sin(s),o=Math.cos(s),E=Math.sin(L),C=Math.cos(L),n=t;return n[0]=-c,n[4]=-E*o,n[8]=C*o,n[12]=0,n[1]=o,n[5]=-E*c,n[9]=C*c,n[13]=0,n[2]=0,n[6]=C,n[10]=E,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1,n}function T(s,L,t){return u(s,L,t),S(t,t),t}function H(s,L,t,c){if(s==null||c==null)return!1;const o=f(s,O),E=f(c,m);if(o===E&&!_(E)&&(o!==r.UNKNOWN||M(s,c)))return a(t,L),!0;if(_(E)){const C=i[o][r.LON_LAT],n=i[r.LON_LAT][E];return C!=null&&n!=null&&(C(L,0,A,0),n(A,0,l,0),u(R*A[0],R*A[1],t),t[12]=l[0],t[13]=l[1],t[14]=l[2],!0)}if(!(E!==r.WEB_MERCATOR&&E!==r.PLATE_CARREE&&E!==r.WGS84&&E!==r.CGCS2000||o!==r.WGS84&&o!==r.SPHERICAL_ECEF&&o!==r.WEB_MERCATOR&&o!==r.CGCS2000)){const C=i[o][r.LON_LAT],n=i[r.LON_LAT][E];return C!=null&&n!=null&&(C(L,0,A,0),n(A,0,l,0),o===r.SPHERICAL_ECEF?T(R*A[0],R*A[1],t):N(t),t[12]=l[0],t[13]=l[1],t[14]=l[2],!0)}return!1}function _(s){return s===r.SPHERICAL_ECEF||s===r.SPHERICAL_MARS_PCPF||s===r.SPHERICAL_MOON_PCPF}const R=P(1),A=e(),l=e();export{u as n,H as u};
