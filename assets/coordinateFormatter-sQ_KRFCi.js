import{s as S}from"./Accessor-BmwT4B0c.js";import{_ as k,g as c,j as _,y as E,m as u,q as a,r as d,v as M,w as g,B as p}from"./Point-Cz2JYYmX.js";import{o as T}from"./intl-Duiy0OzY.js";function m(){return M()}function A(){return k()}function f(n,e){const o=[];n=(n=(n=n.replaceAll(/[\u00B0\u00BA]/g,"^")).replaceAll("′","'")).replaceAll("″",'"');const t=s(e);return d.dmsToGeog(t,1,[n],o)?new _(o[0][0],o[0][1],e||c.WGS84):null}function b(n){var e,o;return n&&m()?T(n)??((e=f(`0° 0' 0" N | ${n}`))==null?void 0:e.longitude)??((o=f(`0 | ${n}`))==null?void 0:o.longitude)??null:null}function D(n){var e,o;return n&&m()?T(n)??((e=f(`${n} | 0° 0' 0" E`))==null?void 0:e.latitude)??((o=f(`${n} | 0`))==null?void 0:o.latitude)??null:null}function O(n,e,o){const t=[],r=G(o);if(r===-1)return console.warn(`invalid conversionMode: ${o}`),null;const l=s(e);return a.mgrsToGeogExtended(l,1,[n],r,t)?new _(t[0][0],t[0][1],e||c.WGS84):null}function L(n,e){const o=[];!e&&/\(.+27/.test(n)&&(e=c.GCS_NAD_1927);const t=s(e);return E.usngToGeog(t,1,[n],o)?new _(o[0][0],o[0][1],e||c.WGS84):null}function N(n,e,o){const t=[],r=P(o);if(r===-1)return console.warn(`invalid conversionMode: ${o}`),null;const l=s(e);return u.utmToGeog(l,1,[n],r,t)?new _(t[0][0],t[0][1],e||c.WGS84):null}function h(n,e,o=0){const t=[[n.x,n.y]],r=[],l=s(n.spatialReference);let i=0;switch(e){case"dd":i=d.geogToDd(l,1,t,o,r);break;case"ddm":i=d.geogToDdm(l,1,t,o,r);break;case"dms":i=d.geogToDms(l,1,t,o,r);break;default:return console.warn(`invalid format: ${e}`),null}return i?r[0]:null}function U(n,e,o=0,t=!1){const r=[[n.x,n.y]],l=[],i=s(n.spatialReference);let w=G(e);return w===-1?(console.warn(`invalid conversionMode: ${e}`),null):(t&&(w|=a.PE_MGRS_ADD_SPACES),a.geogToMgrsExtended(i,1,r,o,!1,w,l)?l[0]:null)}function x(n,e=0,o=!1){const t=[[n.x,n.y]],r=[],l=s(n.spatialReference);return E.geogToUsng(l,1,t,e,!1,o,r)?r[0]:null}function W(n,e,o=!1){const t=[[n.x,n.y]],r=[],l=s(n.spatialReference);let i=P(e);return i===-1?(console.warn(`invalid conversionMode: ${e}`),null):(o&&(i|=u.PE_UTM_OPTS_ADD_SPACES),u.geogToUtm(l,1,t,i,r)?r[0]:null)}function s(n){let e=null;if(n||(n=c.WGS84),n.wkid){if(e=g.geogcs(n.wkid),!e)throw new S("coordinate-formatter:invalid-spatial-reference","wkid is not valid")}else{if(!n.wkt2&&!n.wkt)throw new S("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing");if(e=g.fromString(p.PE_TYPE_GEOGCS,n.wkt2||n.wkt),!e)throw new S("coordinate-formatter:invalid-spatial-reference","wkt is not valid")}return e}function G(n){let e=-1;switch(n){case"automatic":e=a.PE_MGRS_STYLE_AUTO;break;case"new-180-in-zone-01":e=a.PE_MGRS_STYLE_NEW|a.PE_MGRS_180_ZONE_1_PLUS;break;case"new-180-in-zone-60":e=a.PE_MGRS_STYLE_NEW;break;case"old-180-in-zone-01":e=a.PE_MGRS_STYLE_OLD|a.PE_MGRS_180_ZONE_1_PLUS;break;case"old-180-in-zone-60":e=a.PE_MGRS_STYLE_OLD}return e}function P(n){let e=-1;switch(n){case"latitude-band-indicators":e=u.PE_UTM_OPTS_NONE;break;case"north-south-indicators":e=u.PE_UTM_OPTS_NS}return e}export{f as E,N as G,x as M,L as P,O as T,m as _,b as g,h as k,D as m,U as p,W as v,A as w};
