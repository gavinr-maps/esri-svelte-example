const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-BPm91e5Z.js","./index-CMxz6F2k.js","./jsxFactory-Cnml7uXM.js","./Accessor-BmwT4B0c.js","./intl-Duiy0OzY.js","./Promise-DfET-uns.js","./cast-CsZslgGN.js","./index-4eY77cms.js","./index-Cx51aysm.css","./JSONSupport-DcrLLGjL.js","./Evented-Dw4_VOGn.js","./reactiveUtils-XM7cS2OP.js","./SimpleObservable-CvOkykwM.js","./uuid-Cl5lrJ4c.js","./guid-ejniuQmw.js","./useT9n-C1Hrfc-A.js","./index-DwIhxbHs.js","./dom-DEluURzl.js","./observers-Co4E8E8j.js","./keyed-CU1C-h1n.js","./directive-helpers-DaBykg1t.js","./ref-D9wHsL_T.js","./interactive-DTzfFku4.js","./loadable-XBvaWFYY.js","./component-CBVlbUuE.js","./index-C6rrpqn6.js","./index-DMeQur4V.js","./floating-ui-IixYHfbQ.js","./debounce-DbkufipY.js","./openCloseComponent-nqWrSaIH.js","./static-DLD4WjLv.js","./FloatingArrow-BZRr6Zld.js","./useFocusTrap-COeL24Kx.js","./focusTrapComponent-D1wJZ4RD.js","./key-CZcQa38B.js","./index-DK5B8inx.js","./array-BbE1dLa5.js","./index-DyXGQ9Xl.js","./index-D-npiDQN.js","./interact.min-CL6XG3vV.js","./_commonjsHelpers-DqlTr81k.js","./dynamicClasses-pKEMtFzB.js","./math-BpAtBkbz.js"])))=>i.map(i=>d[i]);
import{_ as h,L as b,c as T,n as M,i as I,a as P}from"./index-4eY77cms.js";import{g as $,r as i,m as n,a as C}from"./Accessor-BmwT4B0c.js";import{v as D,p as v,U as O,d as H,P as k}from"./reactiveUtils-XM7cS2OP.js";import{O as N,c as A,n as a,e as w}from"./jsxFactory-Cnml7uXM.js";import{e as m}from"./globalCss-vQlnDsEX.js";import{e as g,t as S}from"./widget-GKEQ1p1m.js";import{P as L}from"./useWidget-BajufX8l.js";import"./Evented-Dw4_VOGn.js";import"./SimpleObservable-CvOkykwM.js";import"./intl-Duiy0OzY.js";import"./Promise-DfET-uns.js";import"./cast-CsZslgGN.js";import"./JSONSupport-DcrLLGjL.js";import"./uuid-Cl5lrJ4c.js";import"./index-C5b9dHRB.js";import"./component-utils-D0ciaaZ_.js";let c=class extends ${constructor(e){super(e),this._viewpointHandle=null,this.group=null}initialize(){this.addHandles(D(()=>{var e;return(e=this.view)==null?void 0:e.ui},"expand",e=>{const{target:t}=e;t&&t!==this&&t.expanded&&t.group&&t.group===this.group&&this._collapse()}))}destroy(){this._viewpointHandle=null,this.view=null}set autoCollapse(e){this._set("autoCollapse",e),this._watchViewpoint()}set expanded(e){var l;const t=!!e;this._set("expanded",t);const o=(l=this.view)==null?void 0:l.ui;o&&o.emit("expand",{target:this}),this._viewpointHandleChange(t)}get state(){var e;return(e=this.view)!=null&&e.ready?"ready":"disabled"}set view(e){this._get("view")!==e&&(this._set("view",e),e&&v(()=>e.ready,()=>{this.view===e&&this._watchViewpoint()},{once:!0,initial:!0}))}_viewpointHandleChange(e){this._viewpointHandle&&(e?v(()=>{var t;return(t=this.view)==null?void 0:t.stationary},()=>{var t;return(t=this._viewpointHandle)==null?void 0:t.resume()},{once:!0,initial:!0}):this._viewpointHandle.pause())}_watchViewpoint(){const e="viewpoint";this.removeHandles(e),this._viewpointHandle=null;const{autoCollapse:t,view:o}=this;if(!o||!t)return;const l=O(()=>o.type==="3d"?o.camera:o.viewpoint,()=>this._collapse());this.addHandles(l,e),this._viewpointHandle=l}_collapse(){this.expanded=!1}};i([n({value:!1})],c.prototype,"autoCollapse",null),i([n({value:!1})],c.prototype,"expanded",null),i([n()],c.prototype,"group",void 0),i([n({readOnly:!0})],c.prototype,"state",null),i([n({value:null})],c.prototype,"view",null),c=i([C("esri.widgets.Expand.ExpandViewModel")],c);const f=c,d="esri-expand",r={base:d,toggle:`${d}__toggle`,popoverContent:`${d}__popover-content`,panel:`${d}__panel`,panelContent:`${d}__panel-content`,sheet:`${d}__sheet`,contentContainer:`${d}__content-container`,icon:"esri-collapse__icon",iconFlip:"esri-collapse__icon-flip",iconNumber:`${d}__icon-number`},x="chevrons-left",y="chevrons-right";let s=class extends N{constructor(e,t){super(e,t),this.closeOnEsc=!0,this.collapseTooltip="",this.content="",this.expandTooltip="",this.focusTrapDisabled=!1,this.iconNumber=0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.placement=null,this.viewModel=new f,this.toggle=()=>{this.viewModel.expanded=!this.viewModel.expanded},this._handlePopoverClose=o=>{o.target===this._popoverEl&&(this.viewModel.expanded=o.currentTarget.open)},this._handleSheetClose=o=>{this.viewModel.expanded=o.currentTarget.open},this._handlePanelClose=o=>{this.viewModel.expanded=!o.currentTarget.closed},this._handleKeyDown=o=>{this.viewModel.expanded&&o.key==="Escape"&&!this._willCloseOnEsc(o)&&o.preventDefault()},this._storeToggleActionEl=o=>{this._toggleActionEl=o},this._storePopoverEl=o=>{this._popoverEl=o}}initialize(){this.addHandles(H(()=>{var e,t;return(t=(e=this.viewModel)==null?void 0:e.view)==null?void 0:t.size},()=>{var e;return(e=this._popoverEl)==null?void 0:e.reposition()},k))}loadDependencies(){return A({action:()=>h(()=>import("./index-BPm91e5Z.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]),import.meta.url),icon:()=>h(()=>import("./index-DwIhxbHs.js").then(e=>e.i),__vite__mapDeps([16,2,3,4,5,6,7,8,9,10,11,12,13,17,14,18]),import.meta.url),panel:()=>h(()=>import("./index-C6rrpqn6.js").then(e=>e.i),__vite__mapDeps([25,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,0,19,20,21,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37]),import.meta.url),popover:()=>h(()=>import("./index-DMeQur4V.js").then(e=>e.i),__vite__mapDeps([26,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,0,19,20,21,22,23,24,27,28,29,30,31,32,33,34]),import.meta.url),sheet:()=>h(()=>import("./index-D-npiDQN.js"),__vite__mapDeps([38,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,37,21,20,18,17,16,19,39,40,23,29,41,42,32,33]),import.meta.url)})}get expandTitle(){const{expanded:e,messagesCommon:t,collapseTooltip:o,expandTooltip:l}=this;return(e?o||(t==null?void 0:t.collapse):l||(t==null?void 0:t.expand))??""}get _displaySheet(){var e;switch(this.mode){case"drawer":return!0;case"auto":return((e=this.viewModel.view)==null?void 0:e.widthBreakpoint)==="xsmall";default:return!1}}get autoCollapse(){return this.viewModel.autoCollapse}set autoCollapse(e){this.viewModel.autoCollapse=e}get collapseIcon(){return y}set collapseIcon(e){this._overrideIfSome("collapseIcon",e)}get expanded(){return this.viewModel.expanded}set expanded(e){this.viewModel.expanded=e}get expandIcon(){return g(this.content)?this.content.icon:x}set expandIcon(e){this._overrideIfSome("expandIcon",e)}get group(){return this.viewModel.group}set group(e){this.viewModel.group=e}get icon(){return null}get label(){var e;return(g(this.content)?this.content.label:null)??((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}render(){const{_displaySheet:e,_toggleActionEl:t,viewModel:{expanded:o},label:l,placement:p}=this;return a("div",{class:this.classes(r.base,m.widget)},this._renderToggle(),e?a("calcite-sheet",{class:r.sheet,heightScale:"l",label:l,onkeydown:this._handleKeyDown,open:o,position:"block-end",onCalciteSheetClose:this._handleSheetClose},a("calcite-panel",{class:r.panel,closable:!0,closed:!o,heading:l,onkeydown:this._handleKeyDown,onCalcitePanelClose:this._handlePanelClose},a("div",{class:r.panelContent},this._renderContent()))):t?a("calcite-popover",{afterCreate:this._storePopoverEl,afterUpdate:this._storePopoverEl,focusTrapDisabled:this.focusTrapDisabled,label:l,onkeydown:this._handleKeyDown,open:o,overlayPositioning:"fixed",placement:p??this._getPlacement(),referenceElement:t,onCalcitePopoverClose:this._handlePopoverClose},a("div",{class:r.popoverContent},this._renderContent())):null)}_getPlacement(){const{container:e,view:t}=this,o=e&&t?t.ui.getPosition(e):null;if(!o||o==="manual")return"auto";const[l,p]=o.split("-");return`${p==="right"?"left":"right"}-${l==="bottom"?"end":"start"}`}_willCloseOnEsc(e){const{closeOnEsc:t}=this;return typeof t=="function"?t(e):t}_renderBadgeNumber(){const{expanded:e,iconNumber:t}=this;return t&&!e?a("span",{class:r.iconNumber,key:"expand__icon-number"},t):null}_renderToggleButton(){const{expanded:e,expandTitle:t,expandIcon:o,collapseIcon:l}=this,p=e?l:o,E=p===x||p===y;return a("calcite-action",{afterCreate:this._storeToggleActionEl,afterUpdate:this._storeToggleActionEl,class:m.widgetButton,onclick:this.toggle,scale:"s",text:t,title:t},p?a("calcite-icon",{class:this.classes(r.icon,E&&r.iconFlip),icon:p,scale:"s"}):null)}_renderToggle(){return a("div",{class:r.toggle},this._renderToggleButton(),this._renderBadgeNumber())}_renderContent(){const{content:e}=this;return typeof e=="string"?a("div",{class:r.contentContainer,innerHTML:e,key:"content__string"}):g(e)?a("div",{class:r.contentContainer,key:"content__widget"},e.render()):e instanceof HTMLElement?a("div",{afterCreate:this._attachToNode,bind:e,class:r.contentContainer,key:"content__html-element"}):S(e)?a("div",{afterCreate:this._attachToNode,bind:e.domNode,class:r.contentContainer,key:"content__node"}):null}_attachToNode(e){const t=this;e.appendChild(t)}};i([n({readOnly:!0})],s.prototype,"expandTitle",null),i([n()],s.prototype,"_toggleActionEl",void 0),i([n()],s.prototype,"_displaySheet",null),i([n()],s.prototype,"autoCollapse",null),i([n()],s.prototype,"closeOnEsc",void 0),i([n()],s.prototype,"collapseIcon",null),i([n()],s.prototype,"collapseTooltip",void 0),i([n()],s.prototype,"content",void 0),i([n()],s.prototype,"expanded",null),i([n()],s.prototype,"expandIcon",null),i([n()],s.prototype,"expandTooltip",void 0),i([n()],s.prototype,"focusTrapDisabled",void 0),i([n()],s.prototype,"group",null),i([n()],s.prototype,"icon",null),i([n()],s.prototype,"iconNumber",void 0),i([n()],s.prototype,"label",null),i([n(),w("esri/widgets/Expand/t9n/Expand")],s.prototype,"messages",void 0),i([n(),w("esri/t9n/common")],s.prototype,"messagesCommon",void 0),i([n()],s.prototype,"mode",void 0),i([n()],s.prototype,"placement",void 0),i([n()],s.prototype,"view",null),i([n({type:f})],s.prototype,"viewModel",void 0),s=i([C("esri.widgets.Expand")],s);const V=s;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.12 */const R=I`@layer{arcgis-expand{display:flex;pointer-events:auto}arcgis-expand>.esri-expand__content--expanded{background-color:var(--calcite-color-background)}}`,B=L(V),u=class u extends b{constructor(){super(),this.widget=B(this),this.viewModel=this.widget.viewModel,this.autoCollapse=this.widget.autoCollapse,this.autoDestroyDisabled=!1,this.closeOnEsc=this.widget.closeOnEsc,this.collapseIcon=this.widget.collapseIcon,this.collapseTooltip=this.widget.collapseTooltip,this.content=this.widget.content,this.expandIcon=this.widget.expandIcon,this.expandTooltip=this.widget.expandTooltip,this.expanded=this.widget.expanded,this.focusTrapEnabled=this.widget.focusTrapDisabled,this.group=this.widget.group,this.icon=this.widget.icon,this.iconNumber=this.widget.iconNumber,this.label=this.widget.label,this.mode=this.widget.mode,this.placement=this.widget.placement,this.position="top-right",this.arcgisReady=T(),this.content??(this.content=document.createElement("div"))}async collapse(){var t;(t=this.widget)==null||t.collapse()}async destroy(){await this.manager.destroy()}async expand(){var t;(t=this.widget)==null||t.expand()}async toggle(){this.expanded?await this.collapse():await this.expand()}};u.properties={autoCollapse:5,autoDestroyDisabled:5,closeOnEsc:5,collapseIcon:1,collapseTooltip:1,content:1,expandIcon:1,expandTooltip:1,expanded:7,focusTrapEnabled:5,group:1,icon:1,iconNumber:9,label:1,mode:1,placement:1,position:1,referenceElement:1},u.shadowRootOptions=M,u.styles=R;let _=u;P("arcgis-expand",_);export{_ as ArcgisExpand};
