import{c,w as s,d as r,A as v}from"./reactiveUtils-BFQ0BtrB.js";import{m as u,f as w}from"./Accessor-D6mNnsWy.js";function y(t,i){t.interactive=!0;const{tool:n,view:o}=t;o.activeTool=n;let a=u(i,()=>{o.activeTool===n&&(o.activeTool=null)});return c(async l=>{await s(()=>n==null||!n.active,l),a=w(a)},i)}function p(t,i){return r(()=>t.interactive,()=>f(t,i),v)}function f(t,i){t.interactive?m(t,i):e(t)}function m(t,i){e(t);const{view:n,analysis:o}=t,a=new i({view:n,analysis:o,analysisViewData:t});return t.tool=a,n.tools.add(a),a}function e(t){const{view:i,tool:n}=t;n!=null&&(i.tools.remove(n),t.tool=null)}export{p as a,y as l,e as v};
