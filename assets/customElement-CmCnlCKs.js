import{L as G,c as V,n as Z,i as H,a as J}from"./index-4eY77cms.js";import{m as O,r as h,a as K}from"./index-C5b9dHRB.js";import{d as S}from"./reactiveUtils-XM7cS2OP.js";import{r,m as a,$ as U,a as v,ab as _,s as y}from"./Accessor-BmwT4B0c.js";import q from"./Basemap-BZmrlnvW.js";import{C as Q,f as X}from"./WebDocument2D-B4JkjiUt.js";import{c as Y,r as tt,d as it,e as et,w as rt,x as at}from"./supportUtils-CQNKrihr.js";import{a as f}from"./Clonable-Z-AWS-16.js";import{S as x}from"./JSONSupport-DcrLLGjL.js";import{r as z}from"./enumeration-DpvDkLNI.js";import{w as ot,g as st}from"./resourceSerializationUtils-CaqyEBXY.js";import{m as nt}from"./MultiOriginJSONSupport-DbmrbwMa.js";import{p as j,j as $,V as pt}from"./cast-CsZslgGN.js";import{n as ht}from"./uuid-Cl5lrJ4c.js";import{o as T,r as I}from"./writer-DKgfqj4X.js";import{s as lt,n as mt}from"./utils-BjSXFjBJ.js";import{g as M}from"./Point-Cz2JYYmX.js";import{e as ct}from"./View2D-CUfvXSSH.js";import{O as B,N as yt}from"./component-utils-D0ciaaZ_.js";import"./Evented-Dw4_VOGn.js";import"./SimpleObservable-CvOkykwM.js";import"./collectionUtils-CTT-51g7.js";import"./Portal-CmmHxpLg.js";import"./Promise-DfET-uns.js";import"./Extent-g5W9hy0j.js";import"./loadAll-D1eTJ7uv.js";import"./PortalItem-CTx1kJsR.js";import"./basemapDefinitions-D-Q7PKmu.js";import"./intl-Duiy0OzY.js";import"./writeUtils-CcunaxF8.js";import"./layerUtils-B__v9OBu.js";import"./DefaultUI-BwWVKFUS.js";import"./jsxFactory-Cnml7uXM.js";import"./UpdatingHandles-CzJ4c3KT.js";import"./InputManager-DZ3jJnlx.js";import"./Queue-BQesTh_6.js";import"./signal-CySMLEX9.js";import"./Color-VJEMvW-n.js";import"./colorUtils-Rxh2V3ai.js";import"./mathUtils-Cfq9PL9W.js";import"./groundInstanceUtils-Ben03ZCf.js";import"./opacityUtils-Dim20wpZ.js";import"./CollectionFlattener-U8hHQmGf.js";import"./editableLayers-CWgCazH-.js";import"./catalogUtils-CGCu8hgu.js";import"./basemapEnsureType-CmRtohu0.js";import"./basemapUtils-oMnqy94d.js";import"./utils-DYurMneM.js";import"./screenUtils-_ZIvrt5o.js";import"./mat4f32-DcsiF_Rp.js";import"./mat4-Fi6iAz29.js";import"./vec3f64-BLpZdpfb.js";import"./common-DQOJ18NT.js";import"./TablesMixin-Bqfi1Ha_.js";import"./Layer-DH4_Pn8a.js";import"./Identifiable-BHVfzH03.js";import"./TimeExtent-BO6BsF_x.js";import"./timeUtils-C1c_L2Fd.js";import"./GraphicsCollection-BJ5Nr2H8.js";import"./Graphic-Dt0LgVGU.js";import"./ActionToggle-D7439N1A.js";import"./jsonUtils-CwFG8yN4.js";import"./Polyline-s-JzsQqo.js";import"./typeUtils-B6WBEKDM.js";import"./TextSymbol-BLIQ6RKX.js";import"./aaBoundingBox-Dw3yBk2f.js";import"./HeightModelInfo-C05IFsWs.js";import"./timeZoneUtils-DxzjpEBb.js";import"./ReactiveMap-BHFEHYMj.js";import"./Query-B_2mhyL4.js";import"./Field-BDG0QV_T.js";import"./fieldType-CBeoJWlv.js";import"./FullTextSearch-CBnxSwz4.js";import"./selectionUtils-DYi6daQO.js";import"./ViewEvents-c9mvQ_r3.js";import"./IViewEvents-Bci6PjlS.js";import"./interfaces-D6pIddIh.js";import"./screenUtils-BWEEmpSb.js";import"./HighlightDefaults-CumzVg9-.js";import"./a11yUtils-ClKbIIe-.js";import"./heightModelInfoUtils-D_x68P3s.js";import"./ViewingMode-Dodu7ZZk.js";import"./projection-CyCZAIaD.js";import"./projectBuffer-CQnuEMuP.js";import"./geodesicConstants-RQL9oKdk.js";import"./vec32-Dvg_eL9J.js";import"./unitBezier-B1N-tmtC.js";import"./imageUtils-DsXKmbqJ.js";import"./capabilities-DwlKKScG.js";import"./themeUtils-C3zvZbsE.js";import"./globalCss-vQlnDsEX.js";import"./accessibleHandler-BaA3O97p.js";import"./CompassViewModel-DBhnIkQP.js";import"./GoTo-zPv0y7kC.js";import"./ZoomViewModel-Bua4WqEj.js";import"./Viewpoint-DvyUmqUt.js";import"./Camera-CdyTfTAk.js";import"./Cyclical-Dlbl-cQK.js";import"./portalItemUtils-ByOtbGao.js";import"./Viewing-DCv36m9x.js";import"./interfaces-CL2NbQte.js";import"./Widgets-BkRSKro2.js";import"./TimeInterval-B7L-CEq7.js";import"./jsonContext-Ctyl6VtL.js";import"./project-CvBujuEW.js";import"./utils-YowqfOgk.js";import"./utils-B-dlKIhi.js";import"./Bookmark-Bpns-J48.js";import"./timeProperties-DLK_VrPU.js";import"./GraphicsLayer-D3KyXpUc.js";import"./ScaleRangeLayer-Cnzwr9PT.js";import"./layerContainerType-C5CzMsLd.js";import"./jsonUtils-DZz5FrgB.js";import"./ElevationInfo-BPOqhCue.js";import"./unitConversionUtils-rg07EgOm.js";import"./lengthUtils-_77UiyVF.js";import"./knowledgeGraphService-DXS9bis6.js";import"./submitJob-DPqOfn4F.js";import"./normalizeUtils-BTGdXlpz.js";import"./normalizeUtilsCommon-lGDszWRI.js";import"./networkEnums-BgkT2jou.js";import"./FeatureSet-B5-Veyin.js";import"./GPMessage-Ba6qfxW_.js";import"./Path-Z8ZejDN-.js";import"./GraphQueryStreaming-BUC_KzGu.js";import"./featureConversionUtils-CvnFcmH_.js";import"./OptimizedFeature-P2towpqD.js";import"./memoryEstimations-Bcyf-mHz.js";import"./OptimizedGeometry-BJqUA4Pi.js";import"./OptimizedFeatureSet-Blu9Ckm7.js";import"./Version-Cd3TlGH0.js";import"./workers-Cds_sd9m.js";import"./TileInfo-DxwC9WcY.js";import"./TileKey-DZd6gJy7.js";import"./vec2-ChnYg_BJ.js";import"./vec2f64-Dy6m9Nrb.js";import"./viewpointUtils-CtXMVquh.js";import"./mat2d-D9DBP-jx.js";import"./mat2df64-CBKYtunK.js";import"./mat2df32-orApM5a3.js";import"./mat3-CR8GKnhD.js";import"./vec2f32-BbH2jxlN.js";import"./Scheduler-i_u8qdlN.js";import"./debugFlags-B1LM_Apo.js";import"./TileStrategy-CtmYSAoK.js";import"./TileKey-DBTeo_j0.js";import"./ScheduledQueueProcessor-U8WIIyj8.js";import"./Tile-DxjvolLp.js";import"./quickselect-QQC62dOK.js";import"./definitions-CP59Y04S.js";import"./enums-D9v74xTE.js";import"./Texture-BVJ22uHh.js";import"./getDataTypeBytes-BTGR5GyG.js";let p=class extends f.ClonableMixin(x){constructor(t){super(t),this.durationLineWidth=5,this.entityPositionAtDurationRatio=1,this.eventsTicksVisualization="start-and-end",this.lineSeparationMultiplier=1,this.moveFirstBends=!0,this.secondBendRatio=.3,this.separateTimeOverlaps=!0,this.separateTimelineOverlaps=!0,this.separatedLineShapeRatio=0,this.showDurationLineForNonZeroDurationEntityEvents=!1,this.showNonZeroDurationIntervalBounds=!1,this.spaceSeparatedLinesEvenly=!1,this.timeBannerUTCOffsetInMinutes=0,this.timeDirection="right",this.useBezierCurves=!1}};r([a({type:U,range:{min:1,max:10},json:{write:!0}})],p.prototype,"durationLineWidth",void 0),r([a({type:Number,range:{min:0,max:1},json:{write:!0}})],p.prototype,"entityPositionAtDurationRatio",void 0),r([z(Y)],p.prototype,"eventsTicksVisualization",void 0),r([a({type:Number,range:{min:0},json:{write:!0}})],p.prototype,"lineSeparationMultiplier",void 0),r([a({type:Boolean,json:{write:!0}})],p.prototype,"moveFirstBends",void 0),r([a({type:Number,range:{min:0,max:1},json:{write:!0}})],p.prototype,"secondBendRatio",void 0),r([a({type:Boolean,json:{write:!0}})],p.prototype,"separateTimeOverlaps",void 0),r([a({type:Boolean,json:{write:!0}})],p.prototype,"separateTimelineOverlaps",void 0),r([a({type:Number,range:{min:0,max:1},json:{write:!0}})],p.prototype,"separatedLineShapeRatio",void 0),r([a({type:Boolean,json:{write:!0}})],p.prototype,"showDurationLineForNonZeroDurationEntityEvents",void 0),r([a({type:Boolean,json:{write:!0}})],p.prototype,"showNonZeroDurationIntervalBounds",void 0),r([a({type:Boolean,json:{write:!0}})],p.prototype,"spaceSeparatedLinesEvenly",void 0),r([a({type:U,json:{write:!0}})],p.prototype,"timeBannerUTCOffsetInMinutes",void 0),r([a({type:["bottom","left","right","top"],json:{write:!0}})],p.prototype,"timeDirection",void 0),r([a({type:Boolean,json:{write:!0}})],p.prototype,"useBezierCurves",void 0),p=r([v("esri.linkChart.ChronologicalLayoutSettings")],p);const ut=p;let g=class extends f.ClonableMixin(x){constructor(e){super(e),this.absoluteIdealEdgeLength=1,this.autoRepulsionRadius=!0,this.computationBudgetTime=2,this.idealEdgeLengthType="multiplier",this.multiplicativeIdealEdgeLength=1,this.repulsionRadiusMultiplier=1}};r([a({type:Number,range:{min:0,max:360},json:{write:!0}})],g.prototype,"absoluteIdealEdgeLength",void 0),r([a({type:Boolean,json:{write:!0}})],g.prototype,"autoRepulsionRadius",void 0),r([a({type:Number,json:{write:!1}})],g.prototype,"computationBudgetTime",void 0),r([z(tt)],g.prototype,"idealEdgeLengthType",void 0),r([a({type:Number,range:{min:0,max:5},json:{write:!0}})],g.prototype,"multiplicativeIdealEdgeLength",void 0),r([a({type:Number,range:{min:1,max:99},json:{write:!0}})],g.prototype,"repulsionRadiusMultiplier",void 0),g=r([v("esri.linkChart.OrganicLayoutSettings")],g);const dt=g;let L=class extends f.ClonableMixin(x){constructor(t){super(t),this.chronologicalLayoutSettings=null,this.organicLayoutSettings=null}};r([a({type:ut,json:{write:!0}})],L.prototype,"chronologicalLayoutSettings",void 0),r([a({type:dt,json:{write:!0}})],L.prototype,"organicLayoutSettings",void 0),L=r([v("esri.linkChart.LayoutSettings")],L);const W=L;let E=class extends f.ClonableMixin(x){constructor(e){super(e),this.mode="visible"}};r([a({type:["hidden","visible"],json:{write:!0}})],E.prototype,"mode",void 0),E=r([v("esri.linkChart.NonspatialDataDisplay")],E);const F=E;let m=class extends f.ClonableMixin(nt){constructor(t){super(t),this.aggregatedEntitiesUrl=null,this.aggregatedRelationshipsUrl=null,this.autoCollapseRelationships=!0,this.centralityIsUpToDate=!0,this.entitiesUrl=null,this.layoutSettings=null,this.layoutType="organic-standard",this.nonspatialDataDisplay=null,this.relationshipsUrl=null}readEntitiesUrl(t,i,s){return j(t,s)}writeEntitiesUrl(t,i,s,o){var u;const n=o==null?void 0:o.portalItem,d=o==null?void 0:o.resources,c=_(o==null?void 0:o.origin),l=(u=o==null?void 0:o.webmap)==null?void 0:u.activeLinkChartLayer;n&&d&&c!=null&&l&&l.membershipModified?this._saveUrlAsNewResource(i,s,d,n,l):t&&(i[s]=$(t,o))}readRelationshipsUrl(t,i,s){return j(t,s)}writeRelationshipsUrl(t,i,s,o){var u;const n=o==null?void 0:o.portalItem,d=o==null?void 0:o.resources,c=_(o==null?void 0:o.origin),l=(u=o==null?void 0:o.webmap)==null?void 0:u.activeLinkChartLayer;n&&d&&c!=null&&l&&l.membershipModified?this._saveUrlAsNewResource(i,s,d,n,l):t&&(i[s]=$(t,o))}_saveUrlAsNewResource(t,i,s,o,n){t[i]="<pending>";const d=(n.knowledgeGraph.dataModel.relationshipTypes??[]).map(c=>c.name).reduce((c,l)=>{if(!l)return c;const{members:u}=n.dataManager.inclusionModeDefinition.namedTypeDefinitions.get(l)||{members:void 0};if(!u)return c;for(const[b]of u)c.push({id:b,typeName:l});return c},[]);s.pendingOperations.push(new Promise(c=>{it(d,n.knowledgeGraph).then(l=>{gt(n.dataManager.inclusionModeDefinition,i,n.knowledgeGraph,l).then(u=>{const b=wt(o,i==="entitiesUrl"?"entitiesUrl":"relationshipsUrl");t[i]=b.itemRelativeUrl,s.toAdd.push({resource:b,content:{type:"blob",blob:u},compress:!1,finish:R=>{i==="entitiesUrl"?this.entitiesUrl=R.url:this.relationshipsUrl=R.url}}),c()})})}))}};r([a({type:String,json:{write:!0}})],m.prototype,"aggregatedEntitiesUrl",void 0),r([a({type:String,json:{write:!0}})],m.prototype,"aggregatedRelationshipsUrl",void 0),r([a({type:Boolean,json:{write:!0}})],m.prototype,"autoCollapseRelationships",void 0),r([a({type:Boolean,json:{write:!0}})],m.prototype,"centralityIsUpToDate",void 0),r([a({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0}}})],m.prototype,"entitiesUrl",void 0),r([T("entitiesUrl")],m.prototype,"readEntitiesUrl",null),r([I("entitiesUrl")],m.prototype,"writeEntitiesUrl",null),r([a({type:W,json:{write:!0}})],m.prototype,"layoutSettings",void 0),r([a({type:et,json:{write:!0}})],m.prototype,"layoutType",void 0),r([a({type:F,json:{write:!0}})],m.prototype,"nonspatialDataDisplay",void 0),r([a({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0}}})],m.prototype,"relationshipsUrl",void 0),r([T("relationshipsUrl")],m.prototype,"readRelationshipsUrl",null),r([I("relationshipsUrl")],m.prototype,"writeRelationshipsUrl",null),m=r([v("esri.linkChart.LinkChartProperties")],m);const A=m;function wt(e,t){const i=`${t}-${ht()}.dat`,s=pt("linkChart",i);return e.resourceFromPath(s)}async function gt(e,t,i,s){let o;return o=t==="entitiesUrl"?await ot(e,i,s):await st(e,i,s),new Blob([o],{type:"application/x-protobuf"})}var D;const vt={currentVersion:mt,createInitialViewProperties:()=>new X,parseVersion:lt.parse,itemType:"Web Link Chart",name:"linkchart",origin:"link-chart"};let w=D=class extends Q{constructor(e){super(e),this.mapType="webLinkChart",this.linkChartProperties=new A}get activeLinkChartLayer(){return this.layers.find(({type:e})=>e==="link-chart")}get context(){return vt}async applyLayout(e="organic-standard",t){var i,s,o,n,d,c,l,u;if(await this.load(),!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return e!=="geographic-organic-standard"||(s=(i=this.basemap)==null?void 0:i.baseLayers)!=null&&s.length||(this.basemap=q.fromId("topo-vector"),await((o=this.basemap)==null?void 0:o.load())),this.linkChartProperties.layoutType=e,(n=t==null?void 0:t.layoutSettings)!=null&&n.chronologicalLayoutSettings&&t.layoutSettings.organicLayoutSettings||!this.linkChartProperties.layoutSettings?this.linkChartProperties.layoutSettings=t==null?void 0:t.layoutSettings:this.linkChartProperties.layoutSettings=new W({organicLayoutSettings:((d=t==null?void 0:t.layoutSettings)==null?void 0:d.organicLayoutSettings)??((c=this.linkChartProperties.layoutSettings)==null?void 0:c.organicLayoutSettings),chronologicalLayoutSettings:((l=t==null?void 0:t.layoutSettings)==null?void 0:l.chronologicalLayoutSettings)??((u=this.linkChartProperties.layoutSettings)==null?void 0:u.chronologicalLayoutSettings)}),this.activeLinkChartLayer.applyNewLinkChartLayout(e,t)}changeNonspatialDataDisplay(e){if(!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");this.linkChartProperties.nonspatialDataDisplay||(this.linkChartProperties.nonspatialDataDisplay=new F),this.linkChartProperties.nonspatialDataDisplay.mode=e}async addRecords(e,t){if(await this.load(),!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.addRecords(e,t)}async removeRecords(e){if(await this.load(),!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.removeRecords(e)}async expand(e,t){if(await this.load(),!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");const i=await this.activeLinkChartLayer.expand(e,t);return(i==null?void 0:i.records)??[]}async refreshLinkChartData(e){if(await this.load(),!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.refreshLinkChartCache(e)}async connectBetweenEntities(e,t){if(await this.load(),!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");const i=await this.activeLinkChartLayer.connectBetweenEntities(e,t);return(i==null?void 0:i.records)??[]}async connectFromEntities(e,t){if(await this.load(),!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");const i=await this.activeLinkChartLayer.connectFromEntities(e,t);return(i==null?void 0:i.records)??[]}getMemberIdsByType(e){var t,i;if(!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return Array.from(((i=(t=this.activeLinkChartLayer)==null?void 0:t.dataManager.sublayerCaches.get(e))==null?void 0:i.keys())??[])}get diagramNodesExtent(){if(!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.linkChartExtent}get entityCount(){if(!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.entityLinkChartDiagramLookup.size}get relationshipCount(){if(!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.relationshipLinkChartDiagramLookup.size}get knowledgeGraph(){var e;if(!this.activeLinkChartLayer)throw new y("WebLinkChart:no-link-chart-layer","No link chart layer found");return(e=this.activeLinkChartLayer)==null?void 0:e.knowledgeGraph}add(e,t){var i,s;if(this.activeLinkChartLayer&&"type"in e&&e.type==="link-chart")throw new y("linkchart:one-link-chart-layer","Web Link Charts can only have one Link Chart Layer, another cannot be added");if(super.add(e,t),"type"in e&&e.type==="link-chart"){const o=(i=e.initializationLinkChartConfig)==null?void 0:i.layoutMode;o&&(this.linkChartProperties.layoutType=o);const n=(s=e.initializationLinkChartConfig)==null?void 0:s.layoutSettings;n&&(this.linkChartProperties.layoutSettings=n)}}static fromJSON(e){if(e)return new D({resourceInfo:e});throw new y("linkchart:empty-resource","Expected a JSON resource but got nothing")}handleChronologicalOverlay(){if(!this.activeLinkChartLayer)return;const e=this.activeLinkChartLayer,t=this.findLayerById(rt());if(t&&this.remove(t),this.linkChartProperties.layoutType==="chronological-mono-timeline"||this.linkChartProperties.layoutType==="chronological-multi-timeline"){const i=at(e);this.add(i,0)}}};r([a({readOnly:!0})],w.prototype,"activeLinkChartLayer",null),r([a({json:{write:{ignoreOrigin:!0}}})],w.prototype,"mapType",void 0),r([a({type:A,nonNullable:!0,json:{write:{ignoreOrigin:!0}}})],w.prototype,"linkChartProperties",void 0),r([a({readOnly:!0})],w.prototype,"diagramNodesExtent",null),r([a({readOnly:!0})],w.prototype,"entityCount",null),r([a({readOnly:!0})],w.prototype,"relationshipCount",null),r([a({readOnly:!0})],w.prototype,"knowledgeGraph",null),w=D=r([v("esri.WebLinkChart")],w);const P=w;let k=class extends ct{constructor(e){super(e),this.map=null,this.view2dType="linkchart",this.addHandles(S(()=>e.map.linkChartProperties.layoutType,t=>{var i;this.spatialReference=t==="geographic-organic-standard"?((i=this.map.basemap)==null?void 0:i.spatialReference)??M.WebMercator:M.WGS84}))}get inGeographicLayout(){var e;return((e=this.map)==null?void 0:e.linkChartProperties.layoutType)==="geographic-organic-standard"}};r([a()],k.prototype,"inGeographicLayout",null),r([a({type:P})],k.prototype,"map",void 0),r([a({readOnly:!0})],k.prototype,"view2dType",void 0),k=r([v("esri.views.LinkChartView")],k);const kt=k;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.12 */const Lt=H`@layer{.arcgis-link-chart{padding:0;margin:0;height:100%;width:100%}}`,Ct=O(P),ft=O(kt),C=class C extends G{constructor(){super(...arguments),this._center=void 0,this._extent=void 0,this._itemId=void 0,this._scale=void 0,this._viewpoint=void 0,this._zoom=void 0,this._map=Ct(this,{editConstructorProperties:this._editMapProperties}),this.view=ft(this,{editConstructorProperties:this._editViewProperties}),this.allLayerViews=this.view.allLayerViews,this.autoDestroyDisabled=!1,this.background=this.view.background,this.basemap=this._map.basemap,this.basemapView=this.view.basemapView,this.constraints=this.view.constraints,this.displayFilterDisabled=this.view.displayFilterEnabled,this.fatalError=this.view.fatalError,this.graphics=this.view.graphics,this.highlights=this.view.highlights,this.layerViews=this.view.layerViews,this.magnifier=this.view.magnifier,this.map=this.view.map,this.navigation=this.view.navigation,this.padding=this.view.padding,this.popup=this.view.popup,this.popupDisabled=this.view.popupEnabled,this.ready=this.view.ready,this.resizeAlign=this.view.resizeAlign,this.resolution=this.view.resolution,this.rotation=this.view.rotation,this.spatialReference=this.view.spatialReference,this.suspended=this.view.suspended,this.theme=this.view.theme,this.timeExtent=this.view.timeExtent,this.timeZone=this.view.timeZone,this.updating=this.view.updating,this.arcgisViewChange=V(),this.arcgisViewClick=h(()=>this.view,"click"),this.arcgisViewDoubleClick=h(()=>this.view,"double-click"),this.arcgisViewDrag=h(()=>this.view,"drag"),this.arcgisViewHold=h(()=>this.view,"hold"),this.arcgisViewImmediateClick=h(()=>this.view,"immediate-click"),this.arcgisViewImmediateDoubleClick=h(()=>this.view,"immediate-double-click"),this.arcgisViewKeyDown=h(()=>this.view,"key-down"),this.arcgisViewKeyUp=h(()=>this.view,"key-up"),this.arcgisViewLayerviewCreate=h(()=>this.view,"layerview-create"),this.arcgisViewLayerviewCreateError=h(()=>this.view,"layerview-create-error"),this.arcgisViewLayerviewDestroy=h(()=>this.view,"layerview-destroy"),this.arcgisViewMouseWheel=h(()=>this.view,"mouse-wheel"),this.arcgisViewPointerDown=h(()=>this.view,"pointer-down"),this.arcgisViewPointerEnter=h(()=>this.view,"pointer-enter"),this.arcgisViewPointerLeave=h(()=>this.view,"pointer-leave"),this.arcgisViewPointerMove=h(()=>this.view,"pointer-move"),this.arcgisViewPointerUp=h(()=>this.view,"pointer-up"),this.arcgisViewReadyChange=V()}get center(){return this.view.center??this._center}set center(t){const i=B(t,this.ready?this.view:void 0);i&&(this.ready&&(this.view.center=i),this._center=i)}get extent(){return this.view.extent??this._extent}set extent(t){var i;this.view.ready&&!((i=this.extent)!=null&&i.equals(t))&&(this.view.extent=t),this._extent=t}get interacting(){return this.view.interacting}get itemId(){var t;return((t=this._map.portalItem)==null?void 0:t.id)??this._itemId}set itemId(t){this._itemId=t,this.ready?K.reCreate(this._map,this).then(()=>{this.view.map=this._map}).catch(console.error):this.view.ready!=null&&(this._map.destroy(),this._map=new P(this._editMapProperties({portalItem:{id:this._itemId}})),this.view.map=this._map)}get navigating(){return this.view.navigating}get scale(){return this.view.scale??this._scale}set scale(t){this.ready&&(this.view.scale=t),this._scale=t}get stationary(){return this.view.stationary}get viewpoint(){return this.view.viewpoint??this._viewpoint}set viewpoint(t){this.ready&&yt(this.viewpoint,t)&&(this.view.viewpoint=t),this._viewpoint=t}get zoom(){return this.view.zoom??this._zoom}set zoom(t){this.ready&&(this.view.zoom=t),this._zoom=t}async addLayer(t,i){var s;(s=this.map)==null||s.add(t,i)}async addLayers(t,i){var s;(s=this.map)==null||s.addMany(t,i)}async closePopup(){var t;(t=this.view)==null||t.closePopup()}async destroy(){await this.manager.destroy()}async goTo(t,i){var s;return await((s=this.view)==null?void 0:s.goTo(t,i))}async openPopup(t){var i;await((i=this.view)==null?void 0:i.openPopup(t))}toMap(t){return this.view.toMap(t)}toScreen(t,i){return this.view.toScreen(t,i)}async tryFatalErrorRecovery(){var t;(t=this.view)==null||t.tryFatalErrorRecovery()}async whenLayerView(t){var i;return await((i=this.view)==null?void 0:i.whenLayerView(t))}load(){var t;this.el.childElem=document.createElement("div"),this.el.childElem.classList.add("arcgis-link-chart"),this.el.append(this.el.childElem),(t=this.view).container??(t.container=this.el.childElem)}loaded(){this.manager.onLifecycle(()=>[S(()=>this.view.stationary,()=>{this.arcgisViewChange.emit()},{initial:!0}),S(()=>this.view.ready,()=>{this.arcgisViewReadyChange.emit()},{initial:this.view.ready})])}_editMapProperties(t){this.map&&(this._map=this.map),this.itemId&&(t.portalItem={id:this.itemId});const{basemap:i,...s}=t;i||(t=s);const{ground:o,...n}=t;return o||(t=n),t}async _editViewProperties(t){await this.manager.use(this._map),this.view.ui||(t.ui={components:["attribution"]}),t.map??(t.map=this._map);const i=B(this.center,void 0);return i&&(t.center=i),this.viewpoint&&(t.viewpoint=this.viewpoint),this.scale!==void 0&&(t.scale=this.scale),this.extent&&(t.extent=this.extent),this.zoom!==void 0&&(t.zoom=this.zoom),t}};C.properties={_map:16,view:32,allLayerViews:0,autoDestroyDisabled:5,background:0,basemap:1,basemapView:0,center:1,constraints:0,displayFilterDisabled:5,extent:0,fatalError:0,graphics:0,highlights:0,interacting:32,itemId:3,layerViews:0,magnifier:0,map:0,navigating:32,navigation:0,padding:0,popup:0,popupDisabled:5,ready:4,resizeAlign:1,resolution:8,rotation:9,scale:9,spatialReference:0,stationary:32,suspended:7,theme:0,timeExtent:0,timeZone:1,updating:7,viewpoint:0,zoom:9},C.shadowRootOptions=Z,C.styles=Lt;let N=C;J("arcgis-link-chart",N);export{N as ArcgisLinkChart};
