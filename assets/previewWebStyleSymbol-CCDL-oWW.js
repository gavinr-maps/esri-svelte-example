import{U as l}from"./assets-BNizZMOZ.js";import{u as s}from"./screenUtils-PfxkaaMN.js";import{t as a}from"./symbolUtils-DE-py14C.js";import{N as u}from"./utils-CvMr5svk.js";import"./subclass-BR3PhgZG.js";import"./index-BVncS3aY.js";import"./Evented-CXIxDjmW.js";import"./Accessor-D6mNnsWy.js";import"./fieldUtils-C5R42-PY.js";import"./intl-CArXn1et.js";import"./Promise-CZrWwByK.js";import"./jsonMap-DCC6W5ex.js";import"./mathUtils-ClvKsMak.js";import"./geometry-CnaxvJsv.js";import"./Extent-B4rrMrqp.js";import"./Point-TlcsOcXV.js";import"./writer-3zufXUNV.js";import"./Polyline-BQFeqYXi.js";import"./Color-DDUWtbqR.js";import"./colorUtils-CS9vdHXB.js";import"./colorUtils-D5nOabzP.js";import"./vec42-B1mBkh1w.js";import"./vec4f64-CBQL1T0x.js";import"./jsxFactory-Be5PKa9i.js";import"./reactiveUtils-BFQ0BtrB.js";import"./shared-B3wH2qpO.js";import"./uuid-fwrPAdZb.js";import"./mat2df32-orApM5a3.js";import"./mat2d-DPkeMmgR.js";import"./symbols-CfvYGR4J.js";import"./enumeration--HlxOQ_N.js";import"./TextSymbol-zZq0BA1M.js";import"./materialUtils-CQ3JLQ1x.js";import"./opacityUtils-BT7mQkwC.js";import"./aaBoundingBox-BGxkJAW0.js";import"./persistableUrlUtils-Dx61-x4K.js";import"./collectionUtils-Dm1icNvk.js";import"./Portal-DCqdz-K4.js";import"./Clonable-cKbRam6-.js";import"./webStyleSymbolUtils--o9yKGMN.js";import"./devEnvironmentUtils-D6qIi8Ky.js";import"./jsonUtils-aUmUTP_F.js";import"./layerUtils-BzjQnEdj.js";import"./defaults-CIM29kXM.js";import"./defaultsJSON-GKolV7NZ.js";import"./styleUtils-C7rrjuqd.js";import"./jsonUtils-C4Wp5KpV.js";import"./parser-BN6zmHl-.js";import"./utils-D20M4_S8.js";import"./mat4f32-DcsiF_Rp.js";import"./mat4-ybYUU6jq.js";import"./cimSymbolUtils-Ctf0ZrmH.js";import"./utils-D8D39sLt.js";import"./LRUCache-ju6LnIBZ.js";import"./MemCache-C6WUx-5V.js";function fi(i,t,o){var e;const p=(e=i.thumbnail)==null?void 0:e.url;return p?l(p,{responseType:"image"}).then(r=>{const m=d(r.data,o);return o!=null&&o.node?(o.node.appendChild(m),o.node):m}):u(i).then(r=>r?t(r,o):null)}function d(i,t){const o=!/\\.svg$/i.test(i.src)&&(t==null?void 0:t.disableUpsampling),p=Math.max(i.width,i.height);let e=(t==null?void 0:t.maxSize)!=null?s(t.maxSize):a.maxSize;o&&(e=Math.min(p,e));const r=typeof(t==null?void 0:t.size)=="number"?t==null?void 0:t.size:null,m=Math.min(e,r!=null?s(r):p);if(m!==p){const h=i.width!==0&&i.height!==0?i.width/i.height:1;h>=1?(i.width=m,i.height=m/h):(i.width=m*h,i.height=m)}return i}export{fi as previewWebStyleSymbol};
