import{P as s}from"./cast-CsZslgGN.js";import{u as h}from"./screenUtils-_ZIvrt5o.js";import{t as l}from"./symbolUtils-CHmFfSx2.js";import{e as c}from"./webStyleAcceptedFormats-CG7ZQ6BV.js";import"./Accessor-BmwT4B0c.js";import"./index-4eY77cms.js";import"./JSONSupport-DcrLLGjL.js";import"./opacityUtils-Dim20wpZ.js";import"./Promise-DfET-uns.js";import"./Point-Cz2JYYmX.js";import"./writer-DKgfqj4X.js";import"./utils-aIx1khaq.js";import"./Color-VJEMvW-n.js";import"./colorUtils-Rxh2V3ai.js";import"./mathUtils-Cfq9PL9W.js";import"./reactiveUtils-XM7cS2OP.js";import"./Evented-Dw4_VOGn.js";import"./SimpleObservable-CvOkykwM.js";import"./vec3f64-BLpZdpfb.js";import"./jsonUtils-DZz5FrgB.js";import"./utils-DYurMneM.js";import"./mat4f32-DcsiF_Rp.js";import"./mat4-Fi6iAz29.js";import"./common-DQOJ18NT.js";import"./cimSymbolUtils-DzhKvmq_.js";import"./utils-UPZJIDfz.js";import"./defaultCIMValues-Bb-CUowV.js";import"./enums-BTM-fOHQ.js";import"./LRUCache-CXiGQWMN.js";import"./MemCache-CmojB_Z1.js";import"./Graphic-Dt0LgVGU.js";import"./Clonable-Z-AWS-16.js";import"./enumeration-DpvDkLNI.js";import"./ActionToggle-D7439N1A.js";import"./Identifiable-BHVfzH03.js";import"./jsonUtils-CwFG8yN4.js";import"./Extent-g5W9hy0j.js";import"./Polyline-s-JzsQqo.js";import"./typeUtils-B6WBEKDM.js";import"./TextSymbol-BLIQ6RKX.js";import"./collectionUtils-CTT-51g7.js";import"./Portal-CmmHxpLg.js";import"./aaBoundingBox-Dw3yBk2f.js";import"./colorUtils-DaPfwnk3.js";import"./vec42-YcqnINSP.js";import"./vec4f64-o2zAXfmz.js";import"./jsxFactory-Cnml7uXM.js";import"./intl-Duiy0OzY.js";import"./uuid-Cl5lrJ4c.js";import"./mat2df32-orApM5a3.js";import"./mat2d-D9DBP-jx.js";import"./webStyleSymbolUtils-C6Yokq8v.js";import"./devEnvironmentUtils-CnNDiFMM.js";import"./jsonUtils-B-voMz-i.js";import"./layerUtils-B__v9OBu.js";import"./defaults-FkBa0ybj.js";import"./defaultsJSON-GKolV7NZ.js";import"./styleUtils-ColFrJ-Z.js";async function wi(i,t,r){var e;const o=(e=i.thumbnail)==null?void 0:e.url;if(o){const m=d((await s(o,{responseType:"image"})).data,r);return r!=null&&r.node?(r.node.appendChild(m),r.node):m}const p=await i.fetchSymbol({acceptedFormats:c});return p?t(p,r):null}function d(i,t){const r=!/\\.svg$/i.test(i.src)&&(t==null?void 0:t.disableUpsampling),o=Math.max(i.width,i.height);let p=(t==null?void 0:t.maxSize)!=null?h(t.maxSize):l.maxSize;r&&(p=Math.min(o,p));const e=typeof(t==null?void 0:t.size)=="number"?t==null?void 0:t.size:null,m=Math.min(p,e!=null?h(e):o);if(m!==o){const a=i.width!==0&&i.height!==0?i.width/i.height:1;a>=1?(i.width=m,i.height=m/a):(i.width=m*a,i.height=m)}return i}export{wi as previewWebStyleSymbol};
