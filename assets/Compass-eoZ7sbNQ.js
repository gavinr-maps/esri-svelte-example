const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./calcite-button-BbY9lAf2.js","./button-D5KuIed_.js","./jsxFactory-Be5PKa9i.js","./Evented-CXIxDjmW.js","./Accessor-D6mNnsWy.js","./subclass-BR3PhgZG.js","./intl-CArXn1et.js","./Promise-CZrWwByK.js","./jsonMap-DCC6W5ex.js","./assets-BNizZMOZ.js","./index-BVncS3aY.js","./index-CjOb8WjV.css","./reactiveUtils-BFQ0BtrB.js","./shared-B3wH2qpO.js","./uuid-fwrPAdZb.js","./form-BOCdnUd9.js","./dom-BkQ_hHOr.js","./interactive-QOqfpSSx.js","./label-1rGx7O4B.js","./component-ByvC-PUv.js","./loadable-Bgtgv1lm.js","./locale-BvYy6Wxh.js","./key-D5DPfjW0.js","./observers-DSkGD1TQ.js","./t9n-Atzq4sOi.js","./icon-D6t4qKDg.js","./loader-ew3V3w9x.js","./calcite-icon-DtUarwQp.js"])))=>i.map(i=>d[i]);
import{_ as p}from"./index-BVncS3aY.js";import{e as o}from"./Evented-CXIxDjmW.js";import{h as w,y as s,b as u}from"./subclass-BR3PhgZG.js";import{e as _,B as g,r as y,n}from"./jsxFactory-Be5PKa9i.js";import{H as b,S as f}from"./Accessor-D6mNnsWy.js";import{d,P as l}from"./reactiveUtils-BFQ0BtrB.js";import{e as M}from"./utils-DsJqvptN.js";import{t as R}from"./GoTo-CyjNnle5.js";import{e as h}from"./globalCss-CZa70j6i.js";import"./intl-CArXn1et.js";import"./Promise-CZrWwByK.js";import"./jsonMap-DCC6W5ex.js";import"./assets-BNizZMOZ.js";import"./uuid-fwrPAdZb.js";import"./shared-B3wH2qpO.js";let a=class extends R(f){constructor(t){super(t),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this.addHandles(d(()=>this.view,this._updateRotationWatcher,l))}destroy(){this.view=null}get canShowNorth(){return M(this.view)}get state(){var t;return!((t=this.view)!=null&&t.ready)||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){var t,i;(t=this.view)!=null&&t.ready&&(((i=this.view)==null?void 0:i.type)==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:b(w("mapview-essential-goto-duration"))}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(t){t!=null&&this._set("orientation",{z:t})}_updateForCamera(t){if(!t)return;const i=-t.heading;this._set("orientation",{x:0,y:0,z:i})}_updateRotationWatcher(t){this.removeAllHandles(),t&&this.addHandles(t.type==="2d"?d(()=>t==null?void 0:t.rotation,this._updateForRotation,l):d(()=>t==null?void 0:t.camera,this._updateForCamera,l))}};o([s({readOnly:!0})],a.prototype,"canShowNorth",null),o([s({readOnly:!0})],a.prototype,"orientation",void 0),o([s({readOnly:!0})],a.prototype,"state",null),o([s()],a.prototype,"view",void 0),a=o([u("esri.widgets.Compass.CompassViewModel")],a);const v=a,m="esri-compass",c={base:m,iconContainer:`${m}__icon-container`};let r=class extends g{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new v,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=i=>({transform:`rotateZ(${i.z}deg)`})}loadDependencies(){return y({button:()=>p(()=>import("./calcite-button-BbY9lAf2.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]),import.meta.url),icon:()=>p(()=>import("./calcite-icon-DtUarwQp.js"),__vite__mapDeps([27,25,2,3,4,5,6,7,8,9,10,11,12,13,14,16,23]),import.meta.url)})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:t}=this.viewModel,{messages:i}=this;return n("div",{class:this.classes(c.base,h.widget)},n("calcite-button",{class:h.widgetButton,disabled:t==="disabled",kind:"neutral",label:i.reset,onclick:this._reset,round:!0,scale:"s",title:i.reset},n("div",{"aria-hidden":"true",class:c.iconContainer,title:i.reset},n("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(e)}))))}};o([s()],r.prototype,"goToOverride",null),o([s()],r.prototype,"icon",null),o([s()],r.prototype,"label",null),o([s(),_("esri/widgets/Compass/t9n/Compass")],r.prototype,"messages",void 0),o([s()],r.prototype,"view",null),o([s({type:v})],r.prototype,"viewModel",void 0),r=o([u("esri.widgets.Compass")],r);const L=r;export{L as default};
