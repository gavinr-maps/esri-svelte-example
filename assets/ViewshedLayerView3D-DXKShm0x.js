const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ViewshedAnalysisView3D--VE6lIRQ.js","./tslib.es6-B3Jf3DVX.js","./featureReferenceUtils-DBGXy8CW.js","./vec32-Dvg_eL9J.js","./vec3f64-BLpZdpfb.js","./common-DQOJ18NT.js","./sphere-C77djCO6.js","./subclass-BZA_h8Db.js","./mathUtils-C4_ghTv4.js","./mat4-GpOFENPA.js","./vec42-YcqnINSP.js","./vec4f64-o2zAXfmz.js","./Polyline-D9YkgmM_.js","./writer-DNAwXnhG.js","./Extent-Bf3YTe7m.js","./Point-Cg0-ChZE.js","./Accessor-BLX9ikPh.js","./cast-Bjksrh93.js","./assets-C43MgM-v.js","./index-Bh2oEzTI.js","./index-2kwcjS9-.css","./jsonMap-0cxwUWs2.js","./mat3-BRl2i9Bz.js","./mat3f64-BBpwCtoL.js","./plane-IENfwZlB.js","./mat4f64-Dk4dwAN8.js","./quatf64-CCm9z-pX.js","./vec2f64-miziP1SN.js","./mathUtils-BG-eq9fO.js","./intersectorUtils-BK9EUwUf.js","./boundedPlane-EV1sS2Ke.js","./lineSegment-D7sKPPYf.js","./intersectorUtilsConversions-D_fcRVdX.js","./aaBoundingBox-BE7cC1jD.js","./Intersector-wXoCuQ8W.js","./Intersector-BQ92CPLA.js","./reactiveUtils-C5zUhJQJ.js","./asyncUtils-CWX51uTe.js","./Collection-CEdjem1-.js","./Evented-BHRw9x22.js","./shared-B3wH2qpO.js","./SimpleObservable-KocWTzVy.js","./projection-B971H0Re.js","./projectBuffer-Bs7GwaPY.js","./geodesicConstants-DWQLYX7F.js","./AnalysisView3D-BBHxe6zf.js","./Promise-B2Hu02L7.js","./LineVisualElement-mUtX7dGi.js","./ElevationProvider-C95wyCKc.js","./dehydratedFeatureUtils-B--Sgpdi.js","./ViewingMode-Dodu7ZZk.js","./verticalOffsetUtils-BDQLpfho.js","./orientedBoundingBox-DOAJUK5g.js","./quat-4pa1e6ds.js","./spatialReferenceEllipsoidUtils-DBE_OFra.js","./computeTranslationToOriginAndRotation-Q27G6TBL.js","./Object3DVisualElement-BVfa8i_P.js","./VisualElement-Bz1W-x8t.js","./RibbonLine.glsl-BZu1FDpE.js","./VertexAttribute-Cq4MnHjR.js","./unitConversionUtils-BMfW9yAe.js","./lengthUtils-DL1-FDQQ.js","./hydratedFeatures-DBKLr8hT.js","./geometry-D964gYQX.js","./Graphic-DsxsIjhH.js","./PopupTemplate-BHMhS05j.js","./Clonable-D3rtuBWg.js","./fieldUtils-tmQlKvWo.js","./intl-CChhNOV8.js","./date-DlqISzcw.js","./locale-C9TlLpzi.js","./messages-OmQvZhAg.js","./enumeration-Ba5njXdz.js","./Color-BCS62Hs5.js","./colorUtils-0bJDPow9.js","./ActionToggle-iT4slXc7.js","./Identifiable-B1UbsKNt.js","./symbols-CNimns--.js","./TextSymbol-D8QO_KUV.js","./screenUtils-_ZIvrt5o.js","./materialUtils-DarhapKC.js","./opacityUtils-C68Tlu6_.js","./persistableUrlUtils-fa1mAujs.js","./collectionUtils-D_lHIu88.js","./Portal-C10FKnaA.js","./Loadable-BabW5Xcc.js","./jsonUtils-CEfjT-BK.js","./projectVectorToVector-G2uWGoIb.js","./projectPointToVector-GINIbYMz.js","./Material-_xx7OZxD.js","./interfaces-DDtDqZYj.js","./Texture-Fac_8AOC.js","./BindType-BmZEZMMh.js","./Util-BIfApRF5.js","./Texture-Begq2x5n.js","./enums-D9v74xTE.js","./renderState-DQLu6AJX.js","./Matrix3DrawUniform-CiBFaSz6.js","./compilerUtils-Dw3R0f-Z.js","./vec2-maR1OrZI.js","./ShaderTechniqueConfiguration-CBbn2DCi.js","./Indices-DflDlU4Z.js","./triangle-PTGDC_xJ.js","./AlphaCutoff-UcccL64p.js","./requestImageUtils-DgMiQwsm.js","./sdfPrimitives-CUWZbMRe.js","./vec3f32-nZdmKIgz.js","./doublePrecisionUtils-B0owpBza.js","./floatRGBA-CfH_2xsy.js","./Octree-C8d4sqjv.js","./frustum-CQrOepbv.js","./InterleavedLayout-e-di2fxs.js","./BufferView-_QDXRCew.js","./Float4DrawUniform-N58YDhuZ.js","./line-CML3g7Ng.js","./Viewshed-Dhyh7k32.js","./Cyclical-oTUX3aX7.js","./RenderObject-CuwfmXYe.js","./elevationInfoUtils-BC_66_Fg.js","./Compositing.glsl-DMM7CJmu.js","./Blit-B-VutIER.js","./MergedRenderer-Dli9s1X5.js","./VertexArrayObject-lPxPk5E-.js","./NestedMap-GuqgquCN.js","./glUtil-D0YUa0ow.js","./VertexElementDescriptor-BOD-G50G.js","./interfaces-D6pIddIh.js","./colorUtils-aL8wj-8G.js","./graphicUtils-CWEFaVJb.js","./VertexColor.glsl-_ARMpsAT.js","./meshVertexSpaceUtils-CXzOFlTI.js","./MeshLocalVertexSpace-LEHwMUnu.js","./ColorMaterial.glsl-BF1fDRqL.js","./TriangleMaterial-BiHR3MKx.js","./dragEventPipeline3D-BzC_kbE1.js","./InteractiveToolBase-vg6J8uyT.js","./EditGeometryOperations-Cl8Sbfxr.js","./geometry2dUtils-DdyQE7AQ.js","./viewpointUtils-Bq9TFP4R.js","./Viewpoint-C4FqWA2d.js","./projectVectorToPoint-DcLtSZYw.js","./scaleUtils-D_Nw3nhM.js","./earthUtils-ByXwmaX5.js","./spatialReferenceSupport-yRFduOSO.js","./MoveManipulation-DDXwpmjU.js","./settings-BHWvAK7h.js","./ExtendedLineVisualElement-BaVIzd5h.js","./EngineVisualElement-DAbK0X3b.js","./LaserlineVisualElement-CUgS0u0n.js","./BufferObject-BVi1lwBq.js","./OverlayCompositing.glsl-CiE3Tt8y.js","./signal-D4lghLjV.js","./axisAngleDegrees-Ci2HA7Jo.js","./weather-eV4wTXCK.js","./HighlightDefaults-D4ckYWWJ.js","./Scheduler-CJu5awNf.js","./debugFlags-BF6Z0j0F.js","./lineStippleUtils-C89mzWlO.js","./sliceToolConfig-D0gkc1PF.js","./ShadedColorMaterial.glsl-BhqCcqcp.js","./keybindings-DoOdil3D.js","./InputManager-Ba9xzDpe.js","./Queue-yu3bZ02p.js","./ToolIntersector-LAq5Sd_3.js","./screenUtils-WcqhHU65.js","./LaserlinePath.glsl-CV6hrJ4l.js","./HUDMaterial.glsl-D6WRipwF.js","./ShadowCastAccumulate.glsl-BNKV7IEU.js","./jsxFactory-CJa39Fro.js","./uuid-fwrPAdZb.js","./workers-D4HfeYKj.js","./GraphicsCollection-FfahqxsR.js","./HeightModelInfo-9nOoV6LU.js","./LineCallout.glsl-C1R4fy2f.js","./vec2f32-BbH2jxlN.js","./dehydratedFeatures-BiOblf0d.js","./quantizationUtils-uj_P09aO.js","./Field-ybkHhtnK.js","./fieldType-BuzM0UHS.js","./featureConversionUtils-D14h8iad.js","./OptimizedFeature-6cJ-QFG5.js","./OptimizedGeometry-BF8iz5FO.js","./OptimizedFeatureSet-Blu9Ckm7.js","./edgeUtils-BUKTgPFR.js","./DecodeSymbolColor.glsl-BPIX0fAF.js","./RealisticTree.glsl-CAmeC2w1.js","./DefaultMaterial-DgOvtNL9.js","./RenderCoordsHelper-C50UGjbb.js","./layerUtils-BrNoooE9.js","./DefaultUI-C0utm694.js","./UpdatingHandles-GfwcIh5z.js","./Map-iWpb5DpI.js","./Basemap-DVYOaWHz.js","./loadAll-B6mYSptb.js","./PortalItem-DzgXrpyc.js","./writeUtils-Dz7BsE1e.js","./Ground-CAIVlzbd.js","./CollectionFlattener-CQN6i8ZK.js","./editableLayers-Cn9dHzhB.js","./catalogUtils-DyGHPM81.js","./basemapUtils-B9TjOm47.js","./utils-93yNk4Xc.js","./mat4f32-DcsiF_Rp.js","./TablesMixin-5umgS75f.js","./Layer-CVt7Hb5J.js","./TimeExtent-DocT5yPf.js","./timeUtils-8fb_2oAt.js","./ReactiveMap-6CfRGOlR.js","./Query-5Xpquc1r.js","./DataLayerSource-BKkswDvG.js","./FullTextSearch-Csd1Hktu.js","./selectionUtils-DYi6daQO.js","./IViewEvents-Bci6PjlS.js","./a11yUtils-cyWndM8Q.js","./heightModelInfoUtils-C6gW75mB.js","./arcgisLayerUrl-BX1FE5Hm.js","./imageUtils-CtmzXUTE.js","./capabilities-A2uoe7dc.js","./themeUtils-C3zvZbsE.js","./globalCss-CZa70j6i.js","./accessibleHandler-hWbBTR_7.js","./CompassViewModel-C7G3VWNL.js","./utils-DsJqvptN.js","./GoTo-Wtu9mgoE.js","./NavigationToggle-BIWeotJk.js","./ZoomViewModel-oUfjVFgI.js","./ElevationSamplerData-DF8Bl6I9.js","./terrainUtils-CPZNZdjg.js","./TileInfo-Dphjf6xH.js","./TileKey-DZd6gJy7.js","./Program-mfcb06fW.js","./ShadowCastVisualizeTechniqueConfiguration-Bb-Uir0o.js","./Environment-BDo9QJi6.js","./unitFormatUtils-CZ2bRlFg.js","./ByteSizeUnit-BsxeN7wM.js","./quantityUtils-D0GB2dMc.js","./ZoomMomentumEstimator-DA-HeSfK.js","./labelFormatUtils-DFKxfrJb.js","./labelUtils-B8petyBk.js","./NormalUtils.glsl-DwmdcsLR.js","./fontUtils-BKHqaMFz.js","./LodRenderer-EVrH9dsH.js","./FeaturePipelineRenderManager-DjjUkvYY.js","./ElevationQueryTileCache-D4sXpJpw.js","./LayerConstants-B33OP6sh.js","./ElevationRange-BrgM1moX.js","./hitTestSelectUtils-UXJPjatw.js","./MemCache-Dx1v3xLC.js","./vec33-DUxPafiq.js","./Version-BSlAgupz.js","./Normals-DzBXR8Bg.js","./TileStrategy-DT04gaWW.js","./TileKey-Cs1awCRX.js","./QueueProcessor-DZiVr5XH.js","./RenderableTile-Dl7jrqnB.js","./config-MDUrh2eL.js","./StyleDefinition-BTt_i6C1.js","./enums-CmIX1y88.js","./enums-BRzLM11V.js","./GeometryUtils-Dyjqugo6.js","./DefaultVertexAttributeLayouts-PrbBmwty.js","./DisplayObject-DGZ6h7sV.js","./resources-CLJpJAXm.js","./vec3-kbEkneOB.js","./ShaderTechniqueRepository-hTzew41Z.js","./testSVGPremultipliedAlpha-uTaDUvFS.js","./RenderingContext-C2W2PIoX.js","./ProgramCache-BcuuBWLJ.js","./layerViewUtils-DhFEu8Rd.js","./analysisViewUtils-E34vvAuK.js"])))=>i.map(i=>d[i]);
import{_ as d}from"./index-Bh2oEzTI.js";import{r as t}from"./tslib.es6-B3Jf3DVX.js";import{d as V}from"./asyncUtils-CWX51uTe.js";import{m as l,a as w,b as o}from"./subclass-BZA_h8Db.js";import{u as h,q as c,e as p,i as u}from"./Accessor-BLX9ikPh.js";import{watch as m,syncAndInitial as _}from"./reactiveUtils-C5zUhJQJ.js";import{l as v}from"./LayerView3D-Dkb0AiwM.js";import{y as A}from"./LayerView-CGYm21KA.js";import"./Collection-CEdjem1-.js";import"./Evented-BHRw9x22.js";import"./shared-B3wH2qpO.js";import"./SimpleObservable-KocWTzVy.js";import"./heightModelInfoUtils-C6gW75mB.js";import"./HeightModelInfo-9nOoV6LU.js";import"./jsonMap-0cxwUWs2.js";import"./assets-C43MgM-v.js";import"./Point-Cg0-ChZE.js";import"./cast-Bjksrh93.js";import"./writer-DNAwXnhG.js";import"./arcgisLayerUrl-BX1FE5Hm.js";import"./persistableUrlUtils-fa1mAujs.js";import"./Identifiable-B1UbsKNt.js";import"./Promise-B2Hu02L7.js";import"./UpdatingHandles-GfwcIh5z.js";import"./layerViewUtils-DhFEu8Rd.js";const f=s=>{let i=class extends s{constructor(...e){super(...e),this.layer=null}get interactive(){return this.analysisView!=null&&this.analysisView.interactive}set interactive(e){this.analysisView!=null&&(this.analysisView.interactive=e)}get selectedViewshed(){return this.analysisView!=null?this.analysisView.selectedViewshed:null}set selectedViewshed(e){this.analysisView!=null&&(this.analysisView.selectedViewshed=e)}async createViewsheds(e){if(this.analysisView==null)throw h();await this.analysisView.createViewsheds(e)}};return t([l()],i.prototype,"layer",void 0),t([l()],i.prototype,"interactive",null),t([l()],i.prototype,"selectedViewshed",null),i=t([w("esri.views.layers.ViewshedLayerView")],i),i},y="analysis-view-handles";let r=class extends v(f(A)){constructor(s){super(s),this.type="viewshed-3d",this._analysisModule=null}initialize(){this.addHandles(m(()=>this.layer.source,s=>{this._destroyAnalysisView(),s!=null&&this._createAnalysisView(s)},_),y)}destroy(){this.removeHandles(y),this._destroyAnalysisView()}async whenAnalysisView(){if(this.analysisView!=null)return this.analysisView;if(this._createAnalysisViewTask!=null)return this._createAnalysisViewTask.promise;throw new o("layerview:no-analysisview-for-analysis","The analysis has not been set on the ViewshedLayer of this layer view")}isUpdating(){return this._createAnalysisViewTask!=null||this.analysisView!=null&&this.analysisView.updating}_createAnalysisView(s){const i=V(async a=>(this.analysisView=await this._createAnalysisViewPromise(s,a),this._createAnalysisViewTask===i&&(this._createAnalysisViewTask=null),this.analysisView));this.addResolvingPromise(i.promise),this._createAnalysisViewTask=i}_destroyAnalysisView(){this.analysisView=c(this.analysisView),this._createAnalysisViewTask=p(this._createAnalysisViewTask)}async _createAnalysisViewPromise(s,i){let a=this._analysisModule;if(a==null){const n=await this._loadAnalysisModule();this._analysisModule=n,a=n}const e=new a.default({analysis:s,view:this.view,parent:this});if(await e.when(),u(i)){e.destroy();const n=this.layer.source;throw n!=null&&s!==n?h("Source has changed during creation."):new o("layerview:no-analysisview-for-analysis","The analysis has not been added to the ViewshedLayer of this layer view",{analysis:s})}return e}_loadAnalysisModule(){return d(()=>import("./ViewshedAnalysisView3D--VE6lIRQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269]),import.meta.url)}};t([l()],r.prototype,"type",void 0),t([l()],r.prototype,"analysisView",void 0),t([l()],r.prototype,"_createAnalysisViewTask",void 0),r=t([w("esri.views.3d.layers.ViewshedLayerView3D")],r);const N=r;export{N as default};
