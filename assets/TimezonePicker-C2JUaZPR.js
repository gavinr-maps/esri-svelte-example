const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-BtF7Kdcs.js","./index-CjrYEQXz.js","./jsxFactory-CLjKarlq.js","./Accessor-BHnuXKD2.js","./intl-Do3GEEJ7.js","./Promise-CmQqe-ke.js","./cast-BA_-jlhc.js","./index-tefRSezt.js","./index-Cx51aysm.css","./JSONSupport-CGdeqxpk.js","./Evented-DCWccWGU.js","./reactiveUtils-BR0C1Kq4.js","./SimpleObservable-7oieNGD8.js","./uuid-Cl5lrJ4c.js","./guid-ejniuQmw.js","./useT9n-CJAswmP1.js","./index-73bQemcW.js","./dom--xxYYVQF.js","./observers-BdozwIHb.js","./ref-Ccn4I0kT.js","./directive-helpers-C0aXnQdc.js","./static-g4FJ4v8I.js","./form-B15gmg4q.js","./interactive-B8siLByk.js","./label-BLne9qNB.js","./loadable-DOQnSSjG.js","./component-CFGnHAqh.js","./index-Df8-0rWt.js","./floating-ui-BkLjHVN3.js","./debounce-DbkufipY.js","./key-CZcQa38B.js","./openCloseComponent-dw_x67D_.js","./dynamicClasses-pKEMtFzB.js","./index-BfAp5_ga.js","./resources6-Cs2_VmEC.js","./index-DIB7yhJF.js"])))=>i.map(i=>d[i]);
import{_ as z}from"./index-tefRSezt.js";import{r,m as l,a as b}from"./Accessor-BHnuXKD2.js";import{e as y,O as A,c as D,n as m}from"./jsxFactory-CLjKarlq.js";import{m as C,o as g}from"./timeUtils-D2X862bk.js";import{E as _,v as I}from"./Promise-CmQqe-ke.js";import{m as M}from"./SunCalc-uwgdo0BB.js";import{e as d}from"./globalCss-CZa70j6i.js";const U={hour:"numeric",minute:"numeric",timeZone:"UTC"},k={hour:"numeric",timeZone:"UTC"};function Z(e,o){const t=S(e,o);let n=_(t,U);return e!==0&&n==="00:00"&&(n="24:00"),o==="tick"&&n.includes(" ")&&(n=_(t,k),n=n.replace(":00","")),n}function j({tickElement:e,labelElement:o,tickClasses:t=[],onClick:n}){e&&o&&(e.classList.add(...t,d.primaryTick),o.classList.add(...t,d.primaryTickLabel),n&&(o.onclick=e.onclick=()=>n()))}function x({tickElement:e,tickClasses:o=[],onClick:t}){e&&(e.classList.add(...o,d.secondaryTick),t&&(e.onclick=()=>t()))}function H(){return I(k).formatToParts(S(0,"value")).some(({type:e})=>e==="dayPeriod")}function S(e,o){if(o==="tick"){const t=Math.round(C(e,"minutes","hours"));return new Date(C(t,"hours","milliseconds"))}return new Date(6e4*e)}function R(e,o,t,n){if(o==null||t==null)return null;const s=M.getTimes(e,o,t),f=s.sunrise,u=s.sunset,a=g(e,n,"hours"),T=g(f,n,"hours"),v=g(u,n,"hours");if(a.getUTCDate()!==T.getUTCDate()||a.getUTCDate()!==v.getUTCDate()){const p=a.getTime()-T.getTime()>0?1:-1;f.setUTCDate(f.getUTCDate()+p),u.setUTCDate(u.getUTCDate()+p)}return{sunrise:f,sunset:u}}function $(e){return[{utcOffset:-12,short:"UTC-12",long:e.timezoneDateline},{utcOffset:-11,short:"UTC-11",long:e.timezoneSamoa},{utcOffset:-10,short:e.timezoneHAST,long:e.timezoneHawaii},{utcOffset:-9,short:e.timezoneAKST,long:e.timezoneAlaska},{utcOffset:-8,short:e.timezonePST,long:e.timezoneBaja},{utcOffset:-7,short:e.timezoneMST,long:e.timezoneMountain},{utcOffset:-7,short:e.timezoneMST,long:e.timezoneLaPaz},{utcOffset:-7,short:e.timezoneMST,long:e.timezoneArizona},{utcOffset:-6,short:e.timezoneCST,long:e.timezoneSaskatchewan},{utcOffset:-6,short:e.timezoneCST,long:e.timezoneCentralAmerica},{utcOffset:-6,short:e.timezoneCST,long:e.timezoneCentralTime},{utcOffset:-6,short:e.timezoneCST,long:e.timezoneMexico},{utcOffset:-5,short:e.timezoneEST,long:e.timezoneEasternUS},{utcOffset:-5,short:e.timezoneEST,long:e.timezoneLima},{utcOffset:-5,short:e.timezoneEST,long:e.timezoneIndiana},{utcOffset:-4,short:null,long:e.timezoneAtlantic},{utcOffset:-4,short:null,long:e.timezoneCuiaba},{utcOffset:-4,short:null,long:e.timezoneSantiago},{utcOffset:-4,short:null,long:e.timezoneManaus},{utcOffset:-4,short:null,long:e.timezoneAsuncion},{utcOffset:-3,short:null,long:e.timezoneBrasilia},{utcOffset:-3,short:null,long:e.timezoneGreenland},{utcOffset:-3,short:null,long:e.timezoneMontevideo},{utcOffset:-3,short:null,long:e.timezoneCayenne},{utcOffset:-3,short:null,long:e.timezoneBuenosAires},{utcOffset:-2,short:null,long:e.timezoneMidAtlantic},{utcOffset:-1,short:null,long:e.timezoneAzores},{utcOffset:-1,short:null,long:e.timezoneCaboVerde},{utcOffset:0,short:null,long:e.timezoneDublin},{utcOffset:0,short:null,long:e.timezoneReykjavik},{utcOffset:0,short:null,long:e.timezoneCasablanca},{utcOffset:1,short:e.timezoneCET,long:e.timezoneBelgrade},{utcOffset:1,short:e.timezoneCET,long:e.timezoneSarajevo},{utcOffset:1,short:e.timezoneCET,long:e.timezoneBrussels},{utcOffset:1,short:e.timezoneCET,long:e.timezoneWCAfrica},{utcOffset:1,short:e.timezoneCET,long:e.timezoneAmsterdam},{utcOffset:1,short:e.timezoneCET,long:e.timezoneWindhoek},{utcOffset:2,short:e.timezoneEET,long:e.timezoneMinsk},{utcOffset:2,short:e.timezoneEET,long:e.timezoneCairo},{utcOffset:2,short:e.timezoneEET,long:e.timezoneHelsinki},{utcOffset:2,short:e.timezoneEET,long:e.timezoneAthens},{utcOffset:2,short:e.timezoneEET,long:e.timezoneJerusalem},{utcOffset:2,short:e.timezoneEET,long:e.timezoneAmman},{utcOffset:2,short:e.timezoneEET,long:e.timezoneBeirut},{utcOffset:2,short:e.timezoneEET,long:e.timezoneHarare},{utcOffset:2,short:e.timezoneEET,long:e.timezoneDamascus},{utcOffset:2,short:e.timezoneEET,long:e.timezoneIstanbul},{utcOffset:3,short:e.timezoneMSK,long:e.timezoneKuwait},{utcOffset:3,short:e.timezoneMSK,long:e.timezoneBaghdad},{utcOffset:3,short:e.timezoneMSK,long:e.timezoneNairobi},{utcOffset:3,short:e.timezoneMSK,long:e.timezoneKaliningrad},{utcOffset:4,short:e.timezoneGST,long:e.timezoneMoscow},{utcOffset:4,short:e.timezoneGST,long:e.timezoneMuscat},{utcOffset:4,short:e.timezoneGST,long:e.timezoneBaku},{utcOffset:4,short:e.timezoneGST,long:e.timezoneYerevan},{utcOffset:4,short:e.timezoneGST,long:e.timezoneTbilisi},{utcOffset:4,short:e.timezoneGST,long:e.timezonePortLouis},{utcOffset:5,short:null,long:e.timezoneTashkent},{utcOffset:5,short:null,long:e.timezoneIslamabad},{utcOffset:6,short:null,long:e.timezoneEkaterinburg},{utcOffset:6,short:null,long:e.timezoneAstana},{utcOffset:6,short:null,long:e.timezoneDhaka},{utcOffset:7,short:e.timezoneICT,long:e.timezoneNovosibirsk},{utcOffset:7,short:e.timezoneICT,long:e.timezoneBangkok},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneKrasnoyarsk},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneBeijing},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneSingapore},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneTaipei},{utcOffset:8,short:e.timezoneCCT,long:e.timezonePerth},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneUlaanbaatar},{utcOffset:9,short:e.timezoneJST,long:e.timezoneIrkutsk},{utcOffset:9,short:e.timezoneJST,long:e.timezoneSeoul},{utcOffset:9,short:e.timezoneJST,long:e.timezoneOsaka},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneYakutsk},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneCanberra},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneBrisbane},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneHobart},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneGuam},{utcOffset:11,short:null,long:e.timezoneVladivostok},{utcOffset:11,short:null,long:e.timezoneSolomon},{utcOffset:12,short:e.timezoneNZST,long:e.timezoneMagadan},{utcOffset:12,short:e.timezoneNZST,long:e.timezoneFiji},{utcOffset:12,short:e.timezoneNZST,long:e.timezoneAuckland},{utcOffset:12,short:e.timezoneNZST,long:e.timezoneNukualofa}].map(({utcOffset:o,short:t,long:n})=>{const s=o>0?`UTC+${o}`:o<0?`UTC${o}`:"GMT";return t?{utcOffset:o,short:t,shortWithUTC:`${s} (${t})`,long:n}:{utcOffset:o,short:s,shortWithUTC:s,long:n}})}const h="esri-timezone-picker",c={base:h,trigger:`${h}__trigger`,itemTitle:`${h}__item-title`,itemDescription:`${h}__item_description`};let i=class extends A{constructor(e,o){super(e,o),this.disabled=!1,this.value=null,this.onChange=null,this.open=!1,this.onOpen=null,this.onClose=null,this._selectedId=null,this._onOpen=()=>{var t;this.open=!0,(t=this.onOpen)==null||t.call(this)},this._onClose=()=>{var t;this.open=!1,(t=this.onClose)==null||t.call(this)},this._killEvent=t=>(t.stopPropagation(),!0),this._onChange=t=>{var f,u,a;const n=(f=t.target.selectedItems)==null?void 0:f[0].getAttribute("data-id"),s=(u=E(this._gmtOffsets,n))==null?void 0:u.utcOffset;s!=null&&(this._selectedId=n,(a=this.onChange)==null||a.call(this,s))}}loadDependencies(){return D({button:()=>z(()=>import("./index-BtF7Kdcs.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]),import.meta.url),dropdown:()=>z(()=>import("./index-Df8-0rWt.js"),__vite__mapDeps([27,2,3,4,5,6,7,8,9,10,11,12,13,19,20,17,14,28,29,23,30,25,18,31,32]),import.meta.url),"dropdown-group":()=>z(()=>import("./index-BfAp5_ga.js"),__vite__mapDeps([33,2,3,4,5,6,7,8,9,10,11,12,13,18,34]),import.meta.url),"dropdown-item":()=>z(()=>import("./index-DIB7yhJF.js"),__vite__mapDeps([35,16,2,3,4,5,6,7,8,9,10,11,12,13,17,14,18,19,20,25,26,23,34]),import.meta.url)})}render(){const e=this._messages;if(!e)return m("div",{class:c.base,key:"empty"});const o=this._selectedItem,t=O(o);return m("div",{class:c.base,key:"container",onpointerdown:this._killEvent},m("calcite-dropdown",{disabled:this.disabled,open:this.open,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",onCalciteDropdownClose:this._onClose,onCalciteDropdownOpen:this._onOpen,onCalciteDropdownSelect:this._onChange},m("calcite-button",{appearance:"transparent",class:c.trigger,"data-testid":"timezone-picker-button",disabled:this.disabled,key:"trigger",kind:"neutral",scale:"s",slot:"trigger",tabIndex:0,title:e.chooseTimezone},(o==null?void 0:o.short)??""),m("calcite-dropdown-group",{selectionMode:"single"},this._gmtOffsets.map(n=>{const s=O(n);return m("calcite-dropdown-item",{"data-id":s,"data-testid":s,key:s,selected:t===s},m("div",{class:c.itemTitle,key:"title"},n.shortWithUTC),m("div",{class:c.itemDescription,key:"description"},n.long))}))))}get _gmtOffsets(){const e=this._messages;return e?$(e):[]}get _selectedItem(){const e=this._gmtOffsets,o=this.value,t=E(e,this._selectedId);return(t==null?void 0:t.utcOffset)===o?t:w(e,o)}};function E(e,o){return e.find(t=>O(t)===o)}function w(e,o){return e.find(t=>t.utcOffset===o)}function O(e){return e?`${e.utcOffset}-${e.long}`:void 0}r([l()],i.prototype,"disabled",void 0),r([l()],i.prototype,"value",void 0),r([l()],i.prototype,"onChange",void 0),r([l()],i.prototype,"open",void 0),r([l()],i.prototype,"onOpen",void 0),r([l()],i.prototype,"onClose",void 0),r([l(),y("esri/widgets/support/t9n/timezone")],i.prototype,"_messages",void 0),r([l()],i.prototype,"_gmtOffsets",null),r([l()],i.prototype,"_selectedItem",null),r([l()],i.prototype,"_selectedId",void 0),i=r([b("esri.widgets.support.TimezonePicker")],i);export{R as a,U as f,i as l,Z as m,j as r,x as u,H as z};
