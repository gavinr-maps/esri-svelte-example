import{f as e,g as t,j as p,az as g,b1 as l,a_ as u,s as Ee,iQ as ce,jM as Ne,a6 as V,hF as ke,dH as Fe,bb as N,dw as z,jz as Le,jy as Ue,B as Te,aP as Ae,g6 as Ce,V as me,aJ as he,g8 as Ge,g9 as Qe}from"./index-27db053b.js";import{n as We,i as Oe}from"./Field-a20a79af.js";import{f as Pe,a as Ze,S as He,T as ze,d as Je}from"./commonProperties-665c2ea3.js";import{f as qe,U as _e,R as Ke,M as Xe,C as Ye}from"./featureLayerUtils-26394dd6.js";import{p as et}from"./LayerFloorInfo-0e202e11.js";import{a as tt}from"./serviceCapabilitiesUtils-31ad2d7d.js";var J;let I=J=class extends g{constructor(i){super(i),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new J({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};e([t({type:String,json:{write:!0}})],I.prototype,"expression",void 0),e([t({type:String,json:{write:!0}})],I.prototype,"name",void 0),e([t({type:["boolean","date","number","string"],json:{write:!0}})],I.prototype,"returnType",void 0),e([t({type:String,json:{write:!0}})],I.prototype,"title",void 0),I=J=e([p("esri.form.ExpressionInfo")],I);const it=I;let E=class extends g{constructor(o){super(o),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};e([t({type:String,json:{write:!0}})],E.prototype,"description",void 0),e([t({type:String,json:{write:!0}})],E.prototype,"label",void 0),e([t()],E.prototype,"type",void 0),e([t({type:String,json:{write:!0}})],E.prototype,"visibilityExpression",void 0),E=e([p("esri.form.elements.Element")],E);const D=E;var q;let k=q=class extends g{constructor(i){super(i),this.type=null}clone(){return new q({type:this.type})}};e([t({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],k.prototype,"type",void 0),k=q=e([p("esri.form.elements.inputs.AttachmentInput")],k);const ot=k;var _;let F=_=class extends D{constructor(i){super(i),this.attachmentKeyword=null,this.editableExpression=null,this.input=null,this.type="attachment"}clone(){return new _({attachmentKeyword:this.attachmentKeyword,description:this.description,editableExpression:this.editableExpression,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};e([t({type:String,json:{write:!0}})],F.prototype,"attachmentKeyword",void 0),e([t({type:String,json:{write:!0}})],F.prototype,"editableExpression",void 0),e([t({type:ot,json:{read:{source:"inputType"},write:{target:"inputType"}}})],F.prototype,"input",void 0),e([t({type:["attachment"],json:{read:!1,write:!0}})],F.prototype,"type",void 0),F=_=e([p("esri.form.elements.AttachmentElement")],F);const ve=F;let L=class extends g{constructor(o){super(o),this.type=null}};e([t()],L.prototype,"type",void 0),L=e([p("esri.form.elements.inputs.Input")],L);const $=L;let B=class extends ${constructor(i){super(i),this.maxLength=null,this.minLength=0}};e([t({type:Number,json:{write:!0}})],B.prototype,"maxLength",void 0),e([t({type:Number,json:{write:!0}})],B.prototype,"minLength",void 0),B=e([p("esri.form.elements.inputs.TextInput")],B);const ue=B;var K;let U=K=class extends ue{constructor(i){super(i),this.type="barcode-scanner"}clone(){return new K({maxLength:this.maxLength,minLength:this.minLength})}};e([t({type:["barcode-scanner"],json:{read:!1,write:!0}})],U.prototype,"type",void 0),U=K=e([p("esri.form.elements.inputs.BarcodeScannerInput")],U);const rt=U;var X;let T=X=class extends ${constructor(i){super(i),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new X({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};e([t({type:String,json:{write:!0}})],T.prototype,"noValueOptionLabel",void 0),e([t({type:Boolean,json:{write:!0}})],T.prototype,"showNoValueOption",void 0),e([t({type:["combo-box"],json:{read:!1,write:!0}})],T.prototype,"type",void 0),T=X=e([p("esri.form.elements.inputs.ComboBoxInput")],T);const st=T;var Y;function fe(i){return i??null}function we(i){return i??null}let f=Y=class extends ${constructor(i){super(i),this.max=null,this.min=null,this.type="date-picker"}readMax(i,o){return fe(o.max)}writeMax(i,o){o.max=we(i)}readMin(i,o){return fe(o.min)}writeMin(i,o){o.min=we(i)}clone(){return new Y({max:this.max,min:this.min})}};e([t({type:String,json:{type:String,write:!0}})],f.prototype,"max",void 0),e([l("max")],f.prototype,"readMax",null),e([u("max")],f.prototype,"writeMax",null),e([t({type:String,json:{type:String,write:!0}})],f.prototype,"min",void 0),e([l("min")],f.prototype,"readMin",null),e([u("min")],f.prototype,"writeMin",null),e([t({type:["date-picker"],json:{read:!1,write:!0}})],f.prototype,"type",void 0),f=Y=e([p("esri.form.elements.inputs.DatePickerInput")],f);const nt=f;var ee;function G(i){return i??null}function Q(i){return i??null}let d=ee=class extends ${constructor(i){super(i),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(i,o){return G(o.max)}writeMax(i,o){o.max=Q(i)}readMin(i,o){return G(o.min)}writeMin(i,o){o.min=Q(i)}readTimeResolution(i,o){return G(o.timeResolution)}writeTimeResolution(i,o){o.timeResolution=Q(i)}clone(){return new ee({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};e([t({type:Boolean,json:{write:!0}})],d.prototype,"includeTimeOffset",void 0),e([t({type:String,json:{type:String,write:!0}})],d.prototype,"max",void 0),e([l("max")],d.prototype,"readMax",null),e([u("max")],d.prototype,"writeMax",null),e([t({type:String,json:{type:String,write:!0}})],d.prototype,"min",void 0),e([l("min")],d.prototype,"readMin",null),e([u("min")],d.prototype,"writeMin",null),e([t({type:String,json:{type:String,write:!0}})],d.prototype,"timeResolution",void 0),e([l("timeResolution")],d.prototype,"readTimeResolution",null),e([u("timeResolution")],d.prototype,"writeTimeResolution",null),e([t({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],d.prototype,"type",void 0),d=ee=e([p("esri.form.elements.inputs.DateTimeOffsetPickerInput")],d);const pt=d;var te;function xe(i){return i!=null?new Date(i):null}function ge(i){return i?i.getTime():null}let h=te=class extends ${constructor(i){super(i),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(i,o){return xe(o.max)}writeMax(i,o){o.max=ge(i)}readMin(i,o){return xe(o.min)}writeMin(i,o){o.min=ge(i)}clone(){return new te({includeTime:this.includeTime,max:this.max,min:this.min})}};e([t({type:Boolean,json:{write:!0}})],h.prototype,"includeTime",void 0),e([t({type:Date,json:{type:Number,write:!0}})],h.prototype,"max",void 0),e([l("max")],h.prototype,"readMax",null),e([u("max")],h.prototype,"writeMax",null),e([t({type:Date,json:{type:Number,write:!0}})],h.prototype,"min",void 0),e([l("min")],h.prototype,"readMin",null),e([u("min")],h.prototype,"writeMin",null),e([t({type:["datetime-picker"],json:{read:!1,write:!0}})],h.prototype,"type",void 0),h=te=e([p("esri.form.elements.inputs.DateTimePickerInput")],h);const lt=h;var ie;let O=ie=class extends ${constructor(i){super(i),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new ie({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};e([t({type:String,json:{write:!0}})],O.prototype,"noValueOptionLabel",void 0),e([t({type:Boolean,json:{write:!0}})],O.prototype,"showNoValueOption",void 0),e([t({type:["radio-buttons"],json:{read:!1,write:!0}})],O.prototype,"type",void 0),O=ie=e([p("esri.form.elements.inputs.RadioButtonsInput")],O);const at=O;var oe;let M=oe=class extends ${constructor(i){super(i),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new oe({offValue:this.offValue,onValue:this.onValue})}};e([t({type:[String,Number],json:{write:!0}})],M.prototype,"offValue",void 0),e([t({type:[String,Number],json:{write:!0}})],M.prototype,"onValue",void 0),e([t({type:["switch"],json:{read:!1,write:!0}})],M.prototype,"type",void 0),M=oe=e([p("esri.form.elements.inputs.SwitchInput")],M);const dt=M;var re;let A=re=class extends ue{constructor(i){super(i),this.type="text-area"}clone(){return new re({maxLength:this.maxLength,minLength:this.minLength})}};e([t({type:["text-area"],json:{read:!1,write:!0}})],A.prototype,"type",void 0),A=re=e([p("esri.form.elements.inputs.TextAreaInput")],A);const ut=A;var se;let C=se=class extends ue{constructor(i){super(i),this.type="text-box"}clone(){return new se({maxLength:this.maxLength,minLength:this.minLength})}};e([t({type:["text-box"],json:{read:!1,write:!0}})],C.prototype,"type",void 0),C=se=e([p("esri.form.elements.inputs.TextBoxInput")],C);const yt=C;var ne;function W(i){return i??null}function P(i){return i??null}let y=ne=class extends ${constructor(i){super(i),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(i,o){return W(o.max)}writeMax(i,o){o.max=P(i)}readMin(i,o){return W(o.min)}writeMin(i,o){o.min=P(i)}readTimeResolution(i,o){return W(o.timeResolution)}writeTimeResolution(i,o){o.timeResolution=P(i)}clone(){return new ne({max:this.max,min:this.min,timeResolution:this.timeResolution})}};e([t({type:String,json:{type:String,write:!0}})],y.prototype,"max",void 0),e([l("max")],y.prototype,"readMax",null),e([u("max")],y.prototype,"writeMax",null),e([t({type:String,json:{type:String,write:!0}})],y.prototype,"min",void 0),e([l("min")],y.prototype,"readMin",null),e([u("min")],y.prototype,"writeMin",null),e([t({type:String,json:{type:String,write:!0}})],y.prototype,"timeResolution",void 0),e([l("timeResolution")],y.prototype,"readTimeResolution",null),e([u("timeResolution")],y.prototype,"writeTimeResolution",null),e([t({type:["time-picker"],json:{read:!1,write:!0}})],y.prototype,"type",void 0),y=ne=e([p("esri.form.elements.inputs.TimePickerInput")],y);const ct=y,mt={base:$,key:"type",typeMap:{"barcode-scanner":rt,"combo-box":st,"date-picker":nt,"datetime-picker":lt,"datetimeoffset-picker":pt,"radio-buttons":at,switch:dt,"text-area":ut,"text-box":yt,"time-picker":ct}};var pe;const Me="esri.form.elements.FieldElement",be=Ee.getLogger(Me);let c=pe=class extends D{constructor(i){super(i),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){return ce(be,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._get("editable")??!0}set editable(i){ce(be,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._set("editable",i)}clone(){return new pe({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};e([t({types:We,json:{read:{reader:Oe},write:!0}})],c.prototype,"domain",void 0),e([t({type:Boolean,json:{write:!0}})],c.prototype,"editable",null),e([t({type:String,json:{write:!0}})],c.prototype,"editableExpression",void 0),e([t({type:String,json:{write:!0}})],c.prototype,"fieldName",void 0),e([t({type:String,json:{write:!0}})],c.prototype,"hint",void 0),e([t({types:mt,json:{read:{source:"inputType"},write:{target:"inputType"}}})],c.prototype,"input",void 0),e([t({type:String,json:{write:!0}})],c.prototype,"requiredExpression",void 0),e([t({type:String,json:{read:!1,write:!0}})],c.prototype,"type",void 0),e([t({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0),c=pe=e([p(Me)],c);const je=c;var le;let b=le=class extends D{constructor(i){super(i),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new le({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:V(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};e([t({type:Number,json:{write:!0}})],b.prototype,"displayCount",void 0),e([t({type:["list"],json:{write:!0}})],b.prototype,"displayType",void 0),e([t({type:String,json:{write:!0}})],b.prototype,"editableExpression",void 0),e([t({type:[Ne],json:{write:!0}})],b.prototype,"orderByFields",void 0),e([t({type:Number,json:{write:!0}})],b.prototype,"relationshipId",void 0),e([t({type:["relationship"],json:{read:!1,write:!0}})],b.prototype,"type",void 0),b=le=e([p("esri.form.elements.RelationshipElement")],b);const Se=b;function Re(i){return{typesWithGroup:{base:D,key:"type",typeMap:{attachment:ve,field:je,group:i,relationship:Se}},typesWithoutGroup:{base:D,key:"type",typeMap:{attachment:ve,field:je,relationship:Se}}}}function Ve(i,o,s=!0){if(!i)return null;const r=s?o.typesWithGroup.typeMap:o.typesWithoutGroup.typeMap;return i.filter(n=>r[n.type]).map(n=>r[n.type].fromJSON(n))}function De(i,o,s=!0){if(!i)return null;const r=s?o.typesWithGroup.typeMap:o.typesWithoutGroup.typeMap;return i.filter(n=>r[n.type]).map(n=>n.toJSON())}function Be(i,o,s=!0){return i?i.map(r=>ke(s?o.typesWithGroup:o.typesWithoutGroup,r)):null}var ae;let w=ae=class extends D{constructor(i){super(i),this.elements=null,this.initialState="expanded",this.type="group"}castElements(i){return Be(i,Z,!1)}readElements(i,o){return Ve(o.formElements,Z,!1)}writeElements(i,o){o.formElements=De(i,Z,!1)}clone(){return new ae({description:this.description,elements:V(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};e([t({json:{write:!0}})],w.prototype,"elements",void 0),e([Fe("elements")],w.prototype,"castElements",null),e([l("elements",["formElements"])],w.prototype,"readElements",null),e([u("elements")],w.prototype,"writeElements",null),e([t({type:["collapsed","expanded"],json:{write:!0}})],w.prototype,"initialState",void 0),e([t({type:String,json:{read:!1,write:!0}})],w.prototype,"type",void 0),w=ae=e([p("esri.form.elements.GroupElement")],w);const Z=Re(w),ht=w;var de;const H=Re(ht);let v=de=class extends g{constructor(i){super(i),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(i){return Be(i,H)}readElements(i,o){return Ve(o.formElements,H)}writeElements(i,o){o.formElements=De(i,H)}clone(){return new de({description:this.description,expressionInfos:V(this.expressionInfos),elements:V(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}};e([t({type:String,json:{write:!0}})],v.prototype,"description",void 0),e([t({json:{write:!0}})],v.prototype,"elements",void 0),e([Fe("elements")],v.prototype,"castElements",null),e([l("elements",["formElements"])],v.prototype,"readElements",null),e([u("elements")],v.prototype,"writeElements",null),e([t({type:[it],json:{write:!0}})],v.prototype,"expressionInfos",void 0),e([t({type:Boolean,json:{default:!1,write:!0}})],v.prototype,"preserveFieldValuesWhenHidden",void 0),e([t({type:String,json:{write:!0}})],v.prototype,"title",void 0),v=de=e([p("esri.form.FormTemplate")],v);const Tt=v;let j=class extends N(g){constructor(o){super(o),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};e([t()],j.prototype,"creatorField",void 0),e([t()],j.prototype,"creationDateField",void 0),e([t()],j.prototype,"editorField",void 0),e([t()],j.prototype,"editDateField",void 0),e([t()],j.prototype,"realm",void 0),e([t(z("dateFieldsTimeReference",!0))],j.prototype,"timeZone",void 0),j=e([p("esri.layers.support.EditFieldsInfo")],j);const vt=j;let x=class extends N(g){constructor(o){super(o)}};e([t({constructOnly:!0,json:{write:!0}})],x.prototype,"name",void 0),e([t({constructOnly:!0,json:{write:!0}})],x.prototype,"fields",void 0),e([t({constructOnly:!0,json:{write:!0}})],x.prototype,"isAscending",void 0),e([t({constructOnly:!0,json:{write:!0}})],x.prototype,"indexType",void 0),e([t({constructOnly:!0,json:{write:!0}})],x.prototype,"isUnique",void 0),e([t({constructOnly:!0,json:{write:!0}})],x.prototype,"description",void 0),x=e([p("esri.layers.support.FeatureIndex")],x);let R=class extends N(g){constructor(o){super(o),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};e([t({type:String,json:{read:{source:"shapeAreaFieldName"}}})],R.prototype,"shapeAreaField",void 0),e([t({type:String,json:{read:{source:"shapeLengthFieldName"}}})],R.prototype,"shapeLengthField",void 0),e([t({type:String,json:{read:i=>Le.read(i)||Ue.read(i)}})],R.prototype,"units",void 0),R=e([p("esri.layers.support.GeometryFieldsInfo")],R);const ft=R,$e=new Te({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),Ie=new Te({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let m=class extends N(g){constructor(i){super(i),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};e([t({json:{read:$e.read,write:$e.write}})],m.prototype,"cardinality",void 0),e([t({json:{read:!0,write:!0}})],m.prototype,"composite",void 0),e([t({json:{read:!0,write:!0}})],m.prototype,"id",void 0),e([t({json:{read:!0,write:!0}})],m.prototype,"keyField",void 0),e([t({json:{read:!0,write:!0}})],m.prototype,"keyFieldInRelationshipTable",void 0),e([t({json:{read:!0,write:!0}})],m.prototype,"name",void 0),e([t({json:{read:!0,write:!0}})],m.prototype,"relatedTableId",void 0),e([t({json:{read:!0,write:!0}})],m.prototype,"relationshipTableId",void 0),e([t({json:{read:Ie.read,write:Ie.write}})],m.prototype,"role",void 0),m=e([p("esri.layers.support.Relationship")],m);const wt=m;let S=class extends N(g){constructor(i){super(i),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(i){if(!i)return null;const o={};for(const s of Object.keys(i))o[s]=Oe(i[s]);return o}writeDomains(i,o){var r;if(!i)return;const s={};for(const n of Object.keys(i))i[n]&&(s[n]=(r=i[n])==null?void 0:r.toJSON());o.domains=s}};e([t({type:Number,json:{write:!0}})],S.prototype,"code",void 0),e([t({type:Object,json:{write:!0}})],S.prototype,"defaultValues",void 0),e([t({json:{write:!0}})],S.prototype,"domains",void 0),e([l("domains")],S.prototype,"readDomains",null),e([u("domains")],S.prototype,"writeDomains",null),e([t({type:String,json:{write:!0}})],S.prototype,"name",void 0),S=e([p("esri.layers.support.Subtype")],S);const xt=S,Vt=i=>{let o=class extends i{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(me.ofType(x)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=he.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:s}=this;if(s){const{query:r,operations:n,editing:a}=s;if(!r.supportsQueryByOthers||!r.supportsQueryByAnonymous||n.supportsEditing&&!(a.supportsUpdateByOthers&&a.supportsUpdateByAnonymous&&a.supportsDeleteByOthers&&a.supportsDeleteByAnonymous))return"load"}return this.userHasUpdateItemPrivileges?_e(this)?"load":this.hasUpdateItemRestrictions?s.operations.supportsQuery?"editing":"load":null:this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions?"editing":null}readCapabilitiesFromService(s,r){return tt(r,this.url)}readEditingInfo(s,r){const{editingInfo:n}=r;return n?{lastEditDate:n.lastEditDate!=null?new Date(n.lastEditDate):null}:null}get effectiveCapabilities(){var ye;const s=this.capabilities;if(!s)return null;const r=V(s),{operations:n,editing:a}=r;return(ye=this.sourceJSON)!=null&&ye.isMultiServicesView?(this.userHasUpdateItemPrivileges&&(n.supportsQuery=!0),r):this.userHasUpdateItemPrivileges?(n.supportsAdd=n.supportsDelete=n.supportsEditing=n.supportsQuery=n.supportsUpdate=a.supportsDeleteByOthers=a.supportsGeometryUpdate=a.supportsUpdateByOthers=!0,r):(this.userHasFullEditingPrivileges&&n.supportsEditing&&(n.supportsAdd=n.supportsDelete=n.supportsUpdate=a.supportsGeometryUpdate=!0),r)}readGlobalIdFieldFromService(s,r){return Ke(r)}get hasFullEditingRestrictions(){var a;const s=this.capabilities;if(!s||(a=this.sourceJSON)!=null&&a.isMultiServicesView)return!1;const{operations:r,editing:n}=s;return r.supportsEditing&&!(r.supportsAdd&&r.supportsDelete&&r.supportsUpdate&&n.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){var a;const s=this.capabilities;if(!s)return!1;const{operations:r,editing:n}=s;return(a=this.sourceJSON)!=null&&a.isMultiServicesView?!r.supportsQuery:!(r.supportsAdd&&r.supportsDelete&&r.supportsEditing&&r.supportsQuery&&r.supportsUpdate&&n.supportsDeleteByOthers&&n.supportsGeometryUpdate&&n.supportsUpdateByOthers)}readIsTableFromService(s,r){return r.type==="Table"}readMaxScale(s,r){return r.effectiveMaxScale||s||0}readMinScale(s,r){return r.effectiveMinScale||s||0}readObjectIdFieldFromService(s,r){return Xe(r)}readServiceDefinitionExpression(s,r){return r.definitionQuery||r.definitionExpression}set url(s){const r=Ge({layer:this,url:s,nonStandardUrlAllowed:!0,logger:Ee.getLogger(this)});this._set("url",r.url),r.layerId!=null&&this._set("layerId",r.layerId)}writeUrl(s,r,n,a){Qe(this,s,null,r,a)}readVersion(s,r){return Ye(r)}};return e([t({readOnly:!0})],o.prototype,"authenticationTriggerEvent",null),e([t({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],o.prototype,"copyright",void 0),e([t({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],o.prototype,"capabilities",void 0),e([l("service","capabilities")],o.prototype,"readCapabilitiesFromService",null),e([t(z("dateFieldsTimeReference"))],o.prototype,"dateFieldsTimeZone",void 0),e([t({type:Boolean})],o.prototype,"datesInUnknownTimezone",void 0),e([t({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],o.prototype,"definitionExpression",void 0),e([t({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],o.prototype,"displayField",void 0),e([t({readOnly:!0,type:vt})],o.prototype,"editFieldsInfo",void 0),e([t({readOnly:!0})],o.prototype,"editingInfo",void 0),e([l("editingInfo")],o.prototype,"readEditingInfo",null),e([t({readOnly:!0})],o.prototype,"effectiveCapabilities",null),e([t((()=>{const s=V(Pe),r=s.json.origins;return r["web-map"]={read:!1,write:!1},r["portal-item"]={read:!1,write:!1},s})())],o.prototype,"elevationInfo",void 0),e([t({type:et,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:Ze}}}}})],o.prototype,"floorInfo",void 0),e([t({type:Ae,json:{origins:{service:{read:{source:"extent"}}}}})],o.prototype,"fullExtent",void 0),e([t()],o.prototype,"gdbVersion",void 0),e([t({readOnly:!0,type:ft,json:{read:{source:"geometryProperties"}}})],o.prototype,"geometryFieldsInfo",void 0),e([t({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:qe.read}}}})],o.prototype,"geometryType",void 0),e([t({type:String})],o.prototype,"globalIdField",void 0),e([l("service","globalIdField",["globalIdField","fields"])],o.prototype,"readGlobalIdFieldFromService",null),e([t({readOnly:!0})],o.prototype,"hasFullEditingRestrictions",null),e([t({type:Boolean,json:{origins:{service:{read:!0}}}})],o.prototype,"hasM",void 0),e([t({readOnly:!0})],o.prototype,"hasUpdateItemRestrictions",null),e([t({type:Boolean,json:{origins:{service:{read:!0}}}})],o.prototype,"hasZ",void 0),e([t({readOnly:!0,type:Ce})],o.prototype,"heightModelInfo",void 0),e([t({type:Date})],o.prototype,"historicMoment",void 0),e([t({type:me.ofType(x),readOnly:!0})],o.prototype,"indexes",void 0),e([t({readOnly:!0})],o.prototype,"isTable",void 0),e([l("service","isTable",["type"])],o.prototype,"readIsTableFromService",null),e([t({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],o.prototype,"layerId",void 0),e([t(He)],o.prototype,"maxScale",void 0),e([l("service","maxScale",["maxScale","effectiveMaxScale"])],o.prototype,"readMaxScale",null),e([t(ze)],o.prototype,"minScale",void 0),e([l("service","minScale",["minScale","effectiveMinScale"])],o.prototype,"readMinScale",null),e([t({type:String})],o.prototype,"objectIdField",void 0),e([l("service","objectIdField",["objectIdField","fields"])],o.prototype,"readObjectIdFieldFromService",null),e([t(z("preferredTimeReference"))],o.prototype,"preferredTimeZone",void 0),e([t({type:[wt],readOnly:!0})],o.prototype,"relationships",void 0),e([t({type:Boolean})],o.prototype,"returnM",void 0),e([t({type:Boolean})],o.prototype,"returnZ",void 0),e([t({readOnly:!0,json:{write:!1}})],o.prototype,"serverGens",void 0),e([t({readOnly:!0})],o.prototype,"serviceDefinitionExpression",void 0),e([l("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],o.prototype,"readServiceDefinitionExpression",null),e([t({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],o.prototype,"serviceItemId",void 0),e([t()],o.prototype,"sourceJSON",void 0),e([t({type:he,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],o.prototype,"spatialReference",void 0),e([t({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],o.prototype,"subtypeField",void 0),e([t({type:[xt],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],o.prototype,"subtypes",void 0),e([t({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],o.prototype,"trackIdField",void 0),e([t(Je)],o.prototype,"url",null),e([u("url")],o.prototype,"writeUrl",null),e([t({json:{origins:{service:{read:!0}},read:!1}})],o.prototype,"version",void 0),e([l("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],o.prototype,"readVersion",null),o=e([p("esri.layers.mixins.FeatureLayerBase")],o),o};export{Vt as D,Tt as y};
