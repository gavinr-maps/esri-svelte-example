const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./AreaMeasurement2D-0pZrl9Db.js","./tslib.es6-B3Jf3DVX.js","./Accessor-BLX9ikPh.js","./subclass-BZA_h8Db.js","./jsxFactory-CJa39Fro.js","./intl-CChhNOV8.js","./date-DlqISzcw.js","./jsonMap-0cxwUWs2.js","./locale-C9TlLpzi.js","./messages-OmQvZhAg.js","./assets-C43MgM-v.js","./index-Bh2oEzTI.js","./index-2kwcjS9-.css","./Evented-BHRw9x22.js","./Promise-B2Hu02L7.js","./reactiveUtils-C5zUhJQJ.js","./asyncUtils-CWX51uTe.js","./Collection-CEdjem1-.js","./shared-B3wH2qpO.js","./SimpleObservable-KocWTzVy.js","./uuid-fwrPAdZb.js","./cast-Bjksrh93.js","./Point-Cg0-ChZE.js","./writer-DNAwXnhG.js","./projection-B971H0Re.js","./vec3f64-BLpZdpfb.js","./Extent-Bf3YTe7m.js","./Polyline-D9YkgmM_.js","./mathUtils-C4_ghTv4.js","./projectBuffer-Bs7GwaPY.js","./geodesicConstants-DWQLYX7F.js","./defaultUnit-_T4IY-sW.js","./getDefaultUnitForView-Ce2vZZap.js","./Portal-C10FKnaA.js","./Loadable-BabW5Xcc.js","./geometry-D964gYQX.js","./Graphic-DsxsIjhH.js","./PopupTemplate-BHMhS05j.js","./Clonable-D3rtuBWg.js","./fieldUtils-tmQlKvWo.js","./enumeration-Ba5njXdz.js","./Color-BCS62Hs5.js","./colorUtils-0bJDPow9.js","./ActionToggle-iT4slXc7.js","./Identifiable-B1UbsKNt.js","./symbols-CNimns--.js","./TextSymbol-D8QO_KUV.js","./screenUtils-_ZIvrt5o.js","./materialUtils-DarhapKC.js","./opacityUtils-C68Tlu6_.js","./aaBoundingBox-BE7cC1jD.js","./persistableUrlUtils-fa1mAujs.js","./collectionUtils-D_lHIu88.js","./jsonUtils-CEfjT-BK.js","./colorUtils-aL8wj-8G.js","./vec42-YcqnINSP.js","./common-DQOJ18NT.js","./vec4f64-o2zAXfmz.js","./unitFormatUtils-CZ2bRlFg.js","./ByteSizeUnit-BsxeN7wM.js","./Cyclical-oTUX3aX7.js","./quantityUtils-D0GB2dMc.js","./UpdatingHandles-GfwcIh5z.js","./geometryEngine-DGiYLHJy.js","./geometryEngineBase-yFIvKOkM.js","./_commonjsHelpers-DCkdB7M8.js","./hydrated-C9rxSL4a.js","./geodesicUtils-FCYOaNwu.js","./GraphicsLayer-i3FeUJ_n.js","./GraphicsCollection-FfahqxsR.js","./Layer-CVt7Hb5J.js","./TimeExtent-DocT5yPf.js","./timeUtils-8fb_2oAt.js","./BlendLayer-CXM4n_Ge.js","./jsonUtils-CSnQD004.js","./parser-CTsgEym6.js","./utils-93yNk4Xc.js","./mat4f32-DcsiF_Rp.js","./mat4-GpOFENPA.js","./ScaleRangeLayer-Bb8Ig1Hz.js","./ElevationInfo-CA5m_tHv.js","./unitConversionUtils-BMfW9yAe.js","./lengthUtils-DL1-FDQQ.js","./ViewingMode-Dodu7ZZk.js","./SnappingVisualizer2D-Br8KvMdL.js","./vec2-maR1OrZI.js","./vec2f64-miziP1SN.js","./enums-CmIX1y88.js","./SnappingManager-BJPyuu7J.js","./elevationInfoUtils-BC_66_Fg.js","./projectVectorToVector-G2uWGoIb.js","./projectPointToVector-GINIbYMz.js","./vec32-Dvg_eL9J.js","./Query-5Xpquc1r.js","./DataLayerSource-BKkswDvG.js","./Field-ybkHhtnK.js","./fieldType-BuzM0UHS.js","./FullTextSearch-Csd1Hktu.js","./InputManager-Ba9xzDpe.js","./Queue-yu3bZ02p.js","./signal-D4lghLjV.js","./keybindings-DoOdil3D.js","./utils-BpB3MnW1.js","./Version-BSlAgupz.js","./plane-IENfwZlB.js","./mat3f64-BBpwCtoL.js","./mat4f64-Dk4dwAN8.js","./quatf64-CCm9z-pX.js","./mathUtils-BG-eq9fO.js","./sphere-C77djCO6.js","./mat3-BRl2i9Bz.js","./geometry2dUtils-DdyQE7AQ.js","./viewUtils-DrPohWV3.js","./SnappingVisualizer-BtjTdiTG.js","./PointSnappingHint-D7X20mlb.js","./Draw-dun67gWj.js","./EditGeometryOperations-Cl8Sbfxr.js","./compilerUtils-Dw3R0f-Z.js","./SnappingContext-lR2hMWGP.js","./SnappingOperation-CaI4DIP4.js","./Scheduler-CJu5awNf.js","./debugFlags-BF6Z0j0F.js","./screenUtils-WcqhHU65.js","./surfaceCoordinateSystems-DhFxihAh.js","./memoize-DsJmrG76.js","./ReactiveSet-BU2iaegS.js","./diffUtils-BP7jmOAy.js","./dehydratedFeatureComparison-06VFTqH5.js","./InteractiveToolBase-vg6J8uyT.js","./meshVertexSpaceUtils-CXzOFlTI.js","./MeshLocalVertexSpace-LEHwMUnu.js","./hydratedFeatures-DBKLr8hT.js","./interfaces-D6pIddIh.js","./angularMeasurementUtils-7e2vxqzG.js","./SketchLabelOptions-DDQnGNSN.js","./SnappingDragPipelineStep-rzVcndp8.js","./mat2d-D9DBP-jx.js","./mat2df64-CBKYtunK.js","./quat-4pa1e6ds.js","./GraphicManipulator-Dc-QfW2U.js","./defaults-DZ1kfMRx.js","./defaultsJSON-GKolV7NZ.js","./drapedUtils-HWKOCxgF.js","./SnappingManagerPool-CewNAGGP.js","./MeasurementWidgetContent-DYwVXn7I.js","./UnitSelect-Bx5aDsPO.js","./globalCss-CZa70j6i.js","./AreaMeasurement3D-DJpieJw9.js","./Analysis-605EM8LG.js","./measurementUtils-r7d11TSK.js","./geodesicAreaMeasurementUtils-BILXFcc4.js","./geodesicMeasurementUtils-Bt9h4589.js","./SnappingVisualizer3D-BL4wyEeI.js","./ExtendedLineVisualElement-BaVIzd5h.js","./frustum-CQrOepbv.js","./lineSegment-D7sKPPYf.js","./EngineVisualElement-DAbK0X3b.js","./RibbonLine.glsl-BZu1FDpE.js","./computeTranslationToOriginAndRotation-Q27G6TBL.js","./dehydratedFeatureUtils-B--Sgpdi.js","./intersectorUtils-BK9EUwUf.js","./boundedPlane-EV1sS2Ke.js","./verticalOffsetUtils-BDQLpfho.js","./orientedBoundingBox-DOAJUK5g.js","./spatialReferenceEllipsoidUtils-DBE_OFra.js","./ElevationProvider-C95wyCKc.js","./VertexAttribute-Cq4MnHjR.js","./Material-_xx7OZxD.js","./interfaces-DDtDqZYj.js","./Texture-Fac_8AOC.js","./BindType-BmZEZMMh.js","./Util-BIfApRF5.js","./Texture-Begq2x5n.js","./enums-D9v74xTE.js","./renderState-DQLu6AJX.js","./Matrix3DrawUniform-CiBFaSz6.js","./ShaderTechniqueConfiguration-CBbn2DCi.js","./Indices-DflDlU4Z.js","./triangle-PTGDC_xJ.js","./AlphaCutoff-UcccL64p.js","./requestImageUtils-DgMiQwsm.js","./sdfPrimitives-CUWZbMRe.js","./vec3f32-nZdmKIgz.js","./doublePrecisionUtils-B0owpBza.js","./floatRGBA-CfH_2xsy.js","./Octree-C8d4sqjv.js","./InterleavedLayout-e-di2fxs.js","./BufferView-_QDXRCew.js","./Float4DrawUniform-N58YDhuZ.js","./MergedRenderer-Dli9s1X5.js","./VertexArrayObject-lPxPk5E-.js","./NestedMap-GuqgquCN.js","./glUtil-D0YUa0ow.js","./VertexElementDescriptor-BOD-G50G.js","./VisualElement-Bz1W-x8t.js","./LaserlineVisualElement-CUgS0u0n.js","./Blit-B-VutIER.js","./BufferObject-BVi1lwBq.js","./OverlayCompositing.glsl-CiE3Tt8y.js","./axisAngleDegrees-Ci2HA7Jo.js","./weather-eV4wTXCK.js","./HighlightDefaults-D4ckYWWJ.js","./Intersector-wXoCuQ8W.js","./LaserlinePath.glsl-CV6hrJ4l.js","./Object3DVisualElement-BVfa8i_P.js","./HUDMaterial.glsl-D6WRipwF.js","./graphicUtils-CWEFaVJb.js","./VertexColor.glsl-_ARMpsAT.js","./RightAngleQuadVisualElement-9e1qCkJI.js","./ColorMaterial.glsl-BF1fDRqL.js","./TriangleMaterial-BiHR3MKx.js","./dragEventPipeline3D-BzC_kbE1.js","./Compositing.glsl-DMM7CJmu.js","./RenderObject-CuwfmXYe.js","./ToolIntersector-LAq5Sd_3.js","./ShadedColorMaterial.glsl-BhqCcqcp.js","./InteractiveAnalysisViewModel-p1Kf187q.js","./DistanceMeasurement2D-De48NCe3.js","./DirectLineMeasurement3D-BQ0UO4rY.js","./interfaces-js1RL7O8.js","./interfaces-CjSZqm0S.js"])))=>i.map(i=>d[i]);
import{_ as u}from"./index-Bh2oEzTI.js";import{r as e}from"./tslib.es6-B3Jf3DVX.js";import{b as w,j as _}from"./Accessor-BLX9ikPh.js";import{watch as c}from"./reactiveUtils-C5zUhJQJ.js";import{m as i,a as p}from"./subclass-BZA_h8Db.js";import{e as h,B as g,n as m}from"./jsxFactory-CJa39Fro.js";import{aa as f,ab as y}from"./Point-Cg0-ChZE.js";import{e as U}from"./defaultUnit-_T4IY-sW.js";import"./asyncUtils-CWX51uTe.js";import"./Collection-CEdjem1-.js";import"./Evented-BHRw9x22.js";import"./shared-B3wH2qpO.js";import"./SimpleObservable-KocWTzVy.js";import"./intl-CChhNOV8.js";import"./date-DlqISzcw.js";import"./jsonMap-0cxwUWs2.js";import"./locale-C9TlLpzi.js";import"./messages-OmQvZhAg.js";import"./assets-C43MgM-v.js";import"./Promise-B2Hu02L7.js";import"./uuid-fwrPAdZb.js";import"./cast-Bjksrh93.js";import"./writer-DNAwXnhG.js";import"./getDefaultUnitForView-Ce2vZZap.js";import"./Portal-C10FKnaA.js";import"./Loadable-BabW5Xcc.js";import"./Extent-Bf3YTe7m.js";let n=class extends w{constructor(t){super(t),this.activeTool=null,this.activeViewModel=null,this.view=null}get areaUnit(){return this.defaultUnit}set areaUnit(t){this._overrideIfSome("areaUnit",t)}get linearUnit(){return this.defaultUnit}set linearUnit(t){this._overrideIfSome("linearUnit",t)}get state(){const{activeViewModel:t}=this;return t?t.state:"disabled"}};e([i({type:["area","distance","direct-line"]})],n.prototype,"activeTool",void 0),e([i()],n.prototype,"activeViewModel",void 0),e([i({type:f})],n.prototype,"areaUnit",null),e([i(U)],n.prototype,"defaultUnit",void 0),e([i({type:y})],n.prototype,"linearUnit",null),e([i({readOnly:!0})],n.prototype,"state",null),e([i()],n.prototype,"view",void 0),n=e([p("esri.widgets.Measurement.MeasurementViewModel")],n);const v=n,M={base:"esri-measurement"};function W(t){return(t==null?void 0:t.declaredClass)==="esri.widgets.AreaMeasurement2D"||(t==null?void 0:t.declaredClass)==="esri.widgets.AreaMeasurement3D"}let a=class extends g{constructor(t,r){super(t,r),this._widgets=new Map,this.activeWidget=null,this.messages=null,this.viewModel=new v}initialize(){this.activeWidget&&this.viewModel.set("activeViewModel",this.activeWidget.viewModel),this.view&&this.activeTool&&this._getActiveWidget().then(t=>{this._set("activeWidget",t)}),this.addHandles([c(()=>[this.view,this.activeTool],async()=>{this._set("activeWidget",await this._getActiveWidget())}),c(()=>this.activeWidget,(t,r)=>{this.viewModel.set("activeViewModel",t?t.viewModel:null),r&&(r.visible=!1)}),c(()=>[this.areaUnit,this.linearUnit,this.uiStrings],()=>this._updateSubWidgetProperties())])}destroy(){this._destroyWidgets()}get activeTool(){return this.viewModel.activeTool}set activeTool(t){this.viewModel.activeTool=t}get areaUnit(){return this.viewModel.areaUnit}set areaUnit(t){this.viewModel.areaUnit=t}get icon(){return"measure"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get linearUnit(){return this.viewModel.linearUnit}set linearUnit(t){this.viewModel.linearUnit=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const{activeWidget:t}=this,r=t&&!t.destroyed?t.render():null;return m("div",{class:M.base},r)}clear(){this.activeTool=null,this._destroyWidgets()}startMeasurement(){const{activeViewModel:t}=this.viewModel;t&&_(t.start())}async _createWidget(t){const{areaUnit:r,linearUnit:s,view:o}=this;if(!o)return null;switch(t){case"area":{const{type:d}=o;switch(d){case"2d":return new(await u(async()=>{const{default:l}=await import("./AreaMeasurement2D-0pZrl9Db.js");return{default:l}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146]),import.meta.url)).default({view:o,unit:r,uiStrings:this._createUIStringsForWidget(t)});case"3d":return new(await u(async()=>{const{default:l}=await import("./AreaMeasurement3D-DJpieJw9.js");return{default:l}},__vite__mapDeps([147,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,148,38,44,22,23,27,26,28,31,32,33,34,124,62,131,35,36,37,39,40,41,42,43,45,46,47,48,49,25,50,51,52,53,90,29,30,91,24,149,92,56,109,78,55,57,110,105,104,106,107,86,108,150,61,63,64,65,66,67,151,152,54,89,81,82,112,85,153,154,155,156,157,158,159,83,160,161,162,163,138,164,165,166,167,168,169,170,171,172,173,174,175,117,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,100,199,200,201,202,120,121,203,204,205,206,207,129,130,208,209,210,88,72,93,94,95,96,97,71,98,99,101,102,103,111,113,114,211,212,128,116,132,213,214,215,118,135,127,143,119,122,216,144,145,146]),import.meta.url)).default({view:o,unit:r,uiStrings:this._createUIStringsForWidget(t)});default:return null}}case"distance":{const{type:d}=o;return d==="2d"?new(await u(async()=>{const{default:l}=await import("./DistanceMeasurement2D-De48NCe3.js");return{default:l}},__vite__mapDeps([217,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146]),import.meta.url)).default({view:o,unit:s,uiStrings:this._createUIStringsForWidget(t)}):null}case"direct-line":{const{type:d}=o;return d==="3d"?new(await u(async()=>{const{default:l}=await import("./DirectLineMeasurement3D-BQ0UO4rY.js");return{default:l}},__vite__mapDeps([218,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,148,38,44,22,23,31,32,33,34,26,35,27,28,124,62,131,36,37,39,40,41,42,43,45,46,47,48,49,25,50,51,52,53,90,29,30,91,24,149,92,56,109,78,55,57,110,105,104,106,107,86,108,150,61,63,64,65,66,67,151,152,54,89,81,82,112,85,153,154,155,156,157,158,159,83,160,161,162,163,138,164,165,166,167,168,169,170,171,172,173,174,175,117,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,100,199,200,201,202,120,121,203,204,205,206,207,129,130,208,209,210,88,72,93,94,95,96,97,71,98,99,101,102,103,111,113,114,211,212,128,116,132,219,220,213,215,118,135,127,143,122,216,144,145,146]),import.meta.url)).default({view:o,unit:s,uiStrings:this._createUIStringsForWidget(t)}):null}default:return null}}_destroyWidgets(){this._widgets.forEach(t=>t.destroy()),this._widgets.clear()}async _getActiveWidget(){const{activeTool:t,view:r}=this;if(!r||!t)return null;let s=null;if(this._widgets.has(t))s=this._widgets.get(t),s.visible=!0;else{if(s=await this._createWidget(t),!s)return null;await s.viewModel.start(),this._widgets.set(t,s)}return s}_createUIStringsForWidget(t){var s;if(!this.uiStrings)return;const r=t+"-"+((s=this.view)==null?void 0:s.type);return this.uiStrings[r]}_updateSubWidgetProperties(){this._widgets.forEach((t,r)=>{const{areaUnit:s,linearUnit:o}=this;t.unit=W(t)?s:o,t.uiStrings=this._createUIStringsForWidget(r)})}};e([i()],a.prototype,"activeTool",null),e([i({readOnly:!0})],a.prototype,"activeWidget",void 0),e([i()],a.prototype,"areaUnit",null),e([i()],a.prototype,"icon",null),e([i()],a.prototype,"label",null),e([i()],a.prototype,"linearUnit",null),e([i(),h("esri/widgets/Measurement/t9n/Measurement")],a.prototype,"messages",void 0),e([i()],a.prototype,"uiStrings",void 0),e([i()],a.prototype,"view",null),e([i({type:v})],a.prototype,"viewModel",void 0),a=e([p("esri.widgets.Measurement")],a);const X=a;export{X as default};
