import{n as g}from"./vec2f64-Diu2Kaa8.js";import{z as m}from"./vec42-B1mBkh1w.js";import{n as h}from"./vec4f64-CBQL1T0x.js";const f=h();class p{constructor(o){this.message=o}toString(){return`AssertException: ${this.message}`}}function w(n,o){if(!n){o=o||"Assertion";const e=new Error(o).stack;throw new p(`${o} at ${e}`)}}function y(n,o){n||(o=o||"",console.warn("Verify failed: "+o+`
`+new Error("verify").stack))}function A(n,o,e,r){let t,c=(e[0]-n[0])/o[0],u=(r[0]-n[0])/o[0];c>u&&(t=c,c=u,u=t);let a=(e[1]-n[1])/o[1],i=(r[1]-n[1])/o[1];if(a>i&&(t=a,a=i,i=t),c>i||a>u)return!1;a>c&&(c=a),i<u&&(u=i);let l=(e[2]-n[2])/o[2],s=(r[2]-n[2])/o[2];return l>s&&(t=l,l=s,s=t),!(c>s||l>u)&&(s<u&&(u=s),!(u<0))}function M(n,o,e,r,t,c=g()){const u=(r[t]-e[t])*(o[0]-n[0])-(r[0]-e[0])*(o[t]-n[t]),a=(r[0]-e[0])*(n[t]-e[t])-(r[t]-e[t])*(n[0]-e[0]);if(u===0)return!1;const i=a/u;return c[0]=n[0]+i*(o[0]-n[0]),c[1]=n[t]+i*(o[t]-n[t]),!0}function d(n,o,e,r,t){f[0]=n[0],f[1]=n[1],f[2]=n[2],f[3]=1,m(f,f,o),t.length>2&&(t[2]=-f[2]),m(f,f,e),w(f[3]!==0),t[0]=f[0]/f[3],t[1]=f[1]/f[3],t[2]=f[2]/f[3],t[0]=(.5*t[0]+.5)*r[2]+r[0],t[1]=(.5*t[1]+.5)*r[3]+r[1]}function v(n,o){return Math.log(n)/Math.log(o)}function z(n,o,e,r){n[12]=o,n[13]=e,n[14]=r}function S(n){return n[0]===1&&n[1]===0&&n[2]===0&&n[3]===0&&n[4]===0&&n[5]===1&&n[6]===0&&n[7]===0&&n[8]===0&&n[9]===0&&n[10]===1&&n[11]===0&&n[15]===1}export{d as a,y as c,M as f,A as i,z as l,S as m,w as s,v as u};
