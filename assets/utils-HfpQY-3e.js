import{g as c,E as r,j as m,x as d,b as u,i as s,k as y}from"./Promise-CZrWwByK.js";import{a as g,F as h,f as l}from"./fieldUtils-C5R42-PY.js";import"./geometry-CnaxvJsv.js";import"./subclass-BR3PhgZG.js";import"./Point-TlcsOcXV.js";import"./Basemap-CKBB4cRW.js";import"./reactiveUtils-BFQ0BtrB.js";import"./assets-BNizZMOZ.js";import"./mat4f32-DcsiF_Rp.js";import"./mat4-ybYUU6jq.js";function O(t){return g(t)||h(t)||l(t)}function S(t,Z){const{format:o,timeZoneOptions:i,fieldType:a}=Z??{};let n,p;if(i&&({timeZone:n,timeZoneName:p}=c(i.layerTimeZone,i.datesInUnknownTimezone,i.viewTimeZone,r(o||"short-date-short-time"),a)),typeof t=="string"&&isNaN(Date.parse(a==="time-only"?`1970-01-01T${t}Z`:t)))return t;switch(a){case"date-only":{const e=r(o||"short-date");return typeof t=="string"?y(t,{...e}):m(t,{...e,timeZone:s})}case"time-only":{const e=r(o||"short-time");return typeof t=="string"?u(t,e):m(t,{...e,timeZone:s})}case"timestamp-offset":{if(!n&&typeof t=="string"&&new Date(t).toISOString()!==t)return t;const e=o||i?r(o||"short-date-short-time"):void 0,f=e?{...e,timeZone:n,timeZoneName:p}:void 0;return typeof t=="string"?d(t,f):m(t,f)}default:{const e=o||i?r(o||"short-date-short-time"):void 0;return m(typeof t=="string"?new Date(t):t,e?{...e,timeZone:n,timeZoneName:p}:void 0)}}}export{S as N,O as Z};
