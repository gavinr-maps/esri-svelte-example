import{r as o,m as p,a as A}from"./Accessor-BmwT4B0c.js";import{S as D}from"./JSONSupport-DcrLLGjL.js";import{c,o as h}from"./timeUtils-C1c_L2Fd.js";import{o as w,r as f}from"./writer-DKgfqj4X.js";import{e as g}from"./Promise-DfET-uns.js";var a;let s=a=class extends D{static get allTime(){return E}static get empty(){return v}static fromArray(t){return new a({start:t[0]!=null?new Date(t[0]):t[0],end:t[1]!=null?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return e.end!=null?new Date(e.end):null}writeEnd(t,e){e.end=(t==null?void 0:t.getTime())??null}get isAllTime(){return this.equals(a.allTime)}get isEmpty(){return this.equals(a.empty)}readStart(t,e){return e.start!=null?new Date(e.start):null}writeStart(t,e){e.start=(t==null?void 0:t.getTime())??null}clone(){return new a({end:this.end,start:this.start})}equals(t){var l,u,m,d;if(!t)return!1;const e=((l=this.start)==null?void 0:l.getTime())??this.start,n=((u=this.end)==null?void 0:u.getTime())??this.end,r=((m=t.start)==null?void 0:m.getTime())??t.start,i=((d=t.end)==null?void 0:d.getTime())??t.end;return e===r&&n===i}expandTo(t,e=g){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=c(n,t,e));let r=this.end;if(r){const i=c(r,t,e);r=r.getTime()===i.getTime()?i:h(i,1,t,e)}return new a({start:n,end:r})}intersection(t){var m,d,T,y;if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return a.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=((m=this.start)==null?void 0:m.getTime())??-1/0,n=((d=this.end)==null?void 0:d.getTime())??1/0,r=((T=t.start)==null?void 0:T.getTime())??-1/0,i=((y=t.end)==null?void 0:y.getTime())??1/0;let l,u;return r>=e&&r<=n?l=r:e>=r&&e<=i&&(l=e),n>=r&&n<=i?u=n:i>=e&&i<=n&&(u=i),l==null||u==null||isNaN(l)||isNaN(u)?a.empty:new a({start:l===-1/0?null:new Date(l),end:u===1/0?null:new Date(u)})}offset(t,e,n=g){if(this.isEmpty||this.isAllTime)return this.clone();const r=new a,{start:i,end:l}=this;return i!=null&&(r.start=h(i,t,e,n)),l!=null&&(r.end=h(l,t,e,n)),r}toArray(){var t,e;return this.isEmpty?[void 0,void 0]:[((t=this.start)==null?void 0:t.getTime())??null,((e=this.end)==null?void 0:e.getTime())??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return E.clone();const e=this.start!=null&&t.start!=null?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,n=this.end!=null&&t.end!=null?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new a({start:e,end:n})}};o([p({type:Date,json:{write:{allowNull:!0}}})],s.prototype,"end",void 0),o([w("end")],s.prototype,"readEnd",null),o([f("end")],s.prototype,"writeEnd",null),o([p({readOnly:!0,json:{read:!1}})],s.prototype,"isAllTime",null),o([p({readOnly:!0,json:{read:!1}})],s.prototype,"isEmpty",null),o([p({type:Date,json:{write:{allowNull:!0}}})],s.prototype,"start",void 0),o([w("start")],s.prototype,"readStart",null),o([f("start")],s.prototype,"writeStart",null),s=a=o([A("esri.time.TimeExtent")],s);const M=s,E=new s,v=new s({start:void 0,end:void 0});export{M as p};
