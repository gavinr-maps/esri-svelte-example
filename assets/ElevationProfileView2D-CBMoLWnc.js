import{e as n,l as a,s as l,W as d,q as e}from"./Accessor-BLX9ikPh.js";import{watch as h,syncAndInitial as s}from"./reactiveUtils-C5zUhJQJ.js";import{t as u}from"./ElevationProfile-ltu2j9-y.js";import{a as g}from"./HoveredPoints-C_ozFE_B.js";import{d as _}from"./asyncUtils-CWX51uTe.js";import{n as c}from"./layerViewUtils-DhFEu8Rd.js";import"./subclass-BZA_h8Db.js";import"./Collection-CEdjem1-.js";import"./tslib.es6-B3Jf3DVX.js";import"./Evented-BHRw9x22.js";import"./shared-B3wH2qpO.js";import"./SimpleObservable-KocWTzVy.js";import"./index-Bh2oEzTI.js";import"./memoize-DsJmrG76.js";import"./jsxFactory-CJa39Fro.js";import"./intl-CChhNOV8.js";import"./date-DlqISzcw.js";import"./jsonMap-0cxwUWs2.js";import"./locale-C9TlLpzi.js";import"./messages-OmQvZhAg.js";import"./assets-C43MgM-v.js";import"./Promise-B2Hu02L7.js";import"./uuid-fwrPAdZb.js";import"./cast-Bjksrh93.js";import"./Graphic-DsxsIjhH.js";import"./geometry-D964gYQX.js";import"./Extent-Bf3YTe7m.js";import"./Point-Cg0-ChZE.js";import"./writer-DNAwXnhG.js";import"./Polyline-D9YkgmM_.js";import"./mathUtils-C4_ghTv4.js";import"./PopupTemplate-BHMhS05j.js";import"./Clonable-D3rtuBWg.js";import"./fieldUtils-tmQlKvWo.js";import"./enumeration-Ba5njXdz.js";import"./Color-BCS62Hs5.js";import"./colorUtils-0bJDPow9.js";import"./ActionToggle-iT4slXc7.js";import"./Identifiable-B1UbsKNt.js";import"./symbols-CNimns--.js";import"./TextSymbol-D8QO_KUV.js";import"./screenUtils-_ZIvrt5o.js";import"./materialUtils-DarhapKC.js";import"./opacityUtils-C68Tlu6_.js";import"./vec3f64-BLpZdpfb.js";import"./aaBoundingBox-BE7cC1jD.js";import"./persistableUrlUtils-fa1mAujs.js";import"./collectionUtils-D_lHIu88.js";import"./Portal-C10FKnaA.js";import"./Loadable-BabW5Xcc.js";import"./jsonUtils-CEfjT-BK.js";import"./ByteSizeUnit-BsxeN7wM.js";import"./LRUCache-B_PHMSGm.js";import"./MemCache-Dx1v3xLC.js";import"./ElevationQueryTileCache-D4sXpJpw.js";import"./projectVectorToVector-G2uWGoIb.js";import"./projectBuffer-Bs7GwaPY.js";import"./geodesicConstants-DWQLYX7F.js";import"./projectPointToVector-GINIbYMz.js";import"./projection-B971H0Re.js";import"./LayerConstants-B33OP6sh.js";import"./layerUtils-BrNoooE9.js";import"./Material-_xx7OZxD.js";import"./interfaces-DDtDqZYj.js";import"./VertexAttribute-Cq4MnHjR.js";import"./boundedPlane-EV1sS2Ke.js";import"./sphere-C77djCO6.js";import"./mat4-GpOFENPA.js";import"./common-DQOJ18NT.js";import"./vec32-Dvg_eL9J.js";import"./vec42-YcqnINSP.js";import"./vec4f64-o2zAXfmz.js";import"./mat3-BRl2i9Bz.js";import"./mat3f64-BBpwCtoL.js";import"./plane-IENfwZlB.js";import"./mat4f64-Dk4dwAN8.js";import"./quatf64-CCm9z-pX.js";import"./vec2f64-miziP1SN.js";import"./mathUtils-BG-eq9fO.js";import"./lineSegment-D7sKPPYf.js";import"./ViewingMode-Dodu7ZZk.js";import"./ElevationProvider-C95wyCKc.js";import"./dehydratedFeatureUtils-B--Sgpdi.js";import"./intersectorUtils-BK9EUwUf.js";import"./verticalOffsetUtils-BDQLpfho.js";import"./orientedBoundingBox-DOAJUK5g.js";import"./quat-4pa1e6ds.js";import"./spatialReferenceEllipsoidUtils-DBE_OFra.js";import"./computeTranslationToOriginAndRotation-Q27G6TBL.js";import"./intersectorUtilsConversions-D_fcRVdX.js";import"./Intersector-wXoCuQ8W.js";import"./Intersector-BQ92CPLA.js";import"./defaultUnit-_T4IY-sW.js";import"./getDefaultUnitForView-Ce2vZZap.js";import"./throttle-jjSnxk80.js";import"./elevationInfoUtils-BC_66_Fg.js";import"./unitConversionUtils-BMfW9yAe.js";import"./lengthUtils-DL1-FDQQ.js";import"./vec2-maR1OrZI.js";import"./geodesicUtils-FCYOaNwu.js";import"./QueueProcessor-DZiVr5XH.js";import"./Queue-yu3bZ02p.js";import"./ReactiveMap-6CfRGOlR.js";import"./signal-D4lghLjV.js";import"./Scheduler-CJu5awNf.js";import"./debugFlags-BF6Z0j0F.js";import"./traversalUtils-DmE6QkgJ.js";import"./Ground-CAIVlzbd.js";import"./compilerUtils-Dw3R0f-Z.js";import"./loadAll-B6mYSptb.js";import"./ElevationQuery-C0bbwpsV.js";import"./ElevationSamplerData-DF8Bl6I9.js";import"./ElevationTile-F2xXmLtF.js";import"./TileKey-DZd6gJy7.js";import"./GraphicsLayer-i3FeUJ_n.js";import"./GraphicsCollection-FfahqxsR.js";import"./Layer-CVt7Hb5J.js";import"./TimeExtent-DocT5yPf.js";import"./timeUtils-8fb_2oAt.js";import"./BlendLayer-CXM4n_Ge.js";import"./jsonUtils-CSnQD004.js";import"./parser-CTsgEym6.js";import"./utils-93yNk4Xc.js";import"./mat4f32-DcsiF_Rp.js";import"./ScaleRangeLayer-Bb8Ig1Hz.js";import"./ElevationInfo-CA5m_tHv.js";import"./InputManager-Ba9xzDpe.js";import"./SketchViewModel-BKa9ySXO.js";import"./isSupportedObject-6I_Nw0mS.js";import"./SketchLabelOptions-DDQnGNSN.js";import"./angularMeasurementUtils-7e2vxqzG.js";import"./Cyclical-oTUX3aX7.js";import"./quantityUtils-D0GB2dMc.js";import"./layerUtils-BS1Di3Pm.js";import"./keybindings-DoOdil3D.js";import"./SnappingManager-BJPyuu7J.js";import"./Query-5Xpquc1r.js";import"./DataLayerSource-BKkswDvG.js";import"./Field-ybkHhtnK.js";import"./fieldType-BuzM0UHS.js";import"./FullTextSearch-Csd1Hktu.js";import"./utils-BpB3MnW1.js";import"./Version-BSlAgupz.js";import"./geometry2dUtils-DdyQE7AQ.js";import"./viewUtils-DrPohWV3.js";import"./hitTestSelectUtils-UXJPjatw.js";import"./screenUtils-WcqhHU65.js";import"./unitFormatUtils-CZ2bRlFg.js";import"./UnitSelect-Bx5aDsPO.js";import"./globalCss-CZa70j6i.js";import"./AnchorElementViewModel-DhGwA7fN.js";class v{constructor(t){this._params=t,this._highlightTask=null,this._highlightHandle=null}destroy(){this.remove()}remove(){this._highlightTask=n(this._highlightTask),this._highlightHandle=a(this._highlightHandle)}update(t){if(this.remove(),t==null||!w(t))return;const o=t.layer;this._highlightTask=_(async i=>{const p=await this._params.view.whenLayerView(o);l(i);const m=c(p)?p:null;m&&(this._highlightHandle=m.highlight(t))})}}function w(r){return r.geometry!=null&&r.geometry.type==="polyline"}class so{constructor(t,o){this._handles=new d,this._inputRepresentation=new v({view:t}),this._hoveredPoints=new g({view:t}),this._handles.add([h(()=>o.viewModel.hoveredPoints,i=>this._hoveredPoints.update(i),s),h(()=>{const{state:i,highlightEnabled:p,viewModel:m}=o;return{input:m.input,state:i,highlightEnabled:p}},i=>this._updateInputRepresentation(i),s)])}destroy(){this._handles=e(this._handles),this._inputRepresentation=e(this._inputRepresentation),this._hoveredPoints=e(this._hoveredPoints)}_updateInputRepresentation({input:t,state:o,highlightEnabled:i}){o===u.Selected&&i?this._inputRepresentation.update(t):this._inputRepresentation.remove()}}export{so as ElevationProfileView2D};
