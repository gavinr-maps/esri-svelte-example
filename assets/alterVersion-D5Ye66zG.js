import{U as h}from"./assets-BNizZMOZ.js";import{c as n}from"./subclass-BR3PhgZG.js";import{f as u,i as g,s as v}from"./utils-Blh5cXWv.js";import{r as w}from"./serverVersionUtils-C5ZGaSnu.js";import"./index-BVncS3aY.js";import"./Evented-CXIxDjmW.js";import"./Accessor-D6mNnsWy.js";const i=new Map;async function A(s,r,a,p){i.has(s)||await w(i,s);const e=i.get(s);if(((e==null?void 0:e.serverVersion)??0)<=11.1)throw new n("alterVersion:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!r)throw new n("alterVersion:missing-guid","guid for version is missing");const o=u(s),c=a.toJSON(),m=g(o.query,{query:v({...c,f:"json"}),...p,authMode:"immediate",method:"post"});r.startsWith("{")&&(r=r.slice(1,-1));const f=`${o.path}/versions/${r}/alter`,{data:t}=await h(f,m);return!!t&&t.success}export{A as alterVersion,i as serverVersionCacheMap};
