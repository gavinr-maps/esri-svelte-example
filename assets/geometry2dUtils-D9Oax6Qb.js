import"./mathUtils-Cfq9PL9W.js";import{u as A,e as i,q as M,d as I,j,p as $,l as b}from"./vec2-ChnYg_BJ.js";import{n as h}from"./vec2f64-Dy6m9Nrb.js";function y(t,r){return t[0]*r[1]-t[1]*r[0]}function q(t,r,n){const s=j(n,r)/$(n);return b(t,n,s)}function g(t,r,n,s,e=n){return i(p,s,n),i(d,r,e),q(N,d,p),A(t,e,N)}function k(t,r,n,s){i(p,r,n);const e=s/M(p);return I(t,n,p,e)}function w(t,r){const n=t.start,s=t.end,e=r.start,m=r.end,o=i(p,s,n),u=i(l,m,e),a=y(o,u);if(Math.abs(a)<=v)return[];const c=i(d,n,e),E=y(u,c)/a,L=y(o,c)/a;if(E>=0){if(L>=0||r.type===f.LINE)return[I(N,n,o,E)]}else if(t.type===f.LINE&&(L>=0||r.type===f.LINE))return[I(N,n,o,E)];return[]}function z(t,r,n){const s=[],e=i(p,t.end,t.start),m=i(l,t.start,r),o=$(e),u=2*j(e,m),a=u*u-4*o*($(m)-n*n);if(a===0){const c=-u/(2*o);(t.type===f.LINE||c>=0)&&s.push(I(N,t.start,e,c))}else if(a>0){const c=Math.sqrt(a),E=(-u+c)/(2*o);(t.type===f.LINE||E>=0)&&s.push(I(N,t.start,e,E));const L=(-u-c)/(2*o);(t.type===f.LINE||L>=0)&&s.push(I(d,t.start,e,L))}return s}var f;(function(t){t[t.RAY=0]="RAY",t[t.LINE=1]="LINE"})(f||(f={}));const v=1e-6,p=h(),l=h(),d=h(),N=h();export{g as I,k as N,w as b,z as d,f as j};
