import{a as s,w as c,d as r,A as v}from"./reactiveUtils-BR0C1Kq4.js";import{a4 as u,l as w}from"./Accessor-BHnuXKD2.js";function y(t,a){t.interactive=!0;const{tool:i,view:l}=t;l.activeTool=i;let n=u(a,()=>{l.activeTool===i&&(l.activeTool=null)});return s(async e=>{await c(()=>i==null||!i.active,e),n=w(n)},a)}function p(t,a){return r(()=>t.interactive,()=>f(t,a),v)}function f(t,a){t.interactive?m(t,a):o(t)}function m(t,a){o(t);const{view:i,analysis:l}=t,n=new a({view:i,analysis:l,analysisViewData:t});return t.tool=n,i.tools.add(n),n}function o(t){const{view:a,tool:i}=t;i!=null&&(a.tools.remove(i),t.tool=null)}export{p as a,y as l,o as v};
