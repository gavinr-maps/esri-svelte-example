import{V as h,O as D,P as w}from"./index-e8c6bcc0.js";const P=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function y(n){return n instanceof w}function V(n){return n instanceof h?Object.keys(n.items):y(n)?D(n).keys():n?Object.keys(n):[]}function p(n,t){return n instanceof h?n.items[t]:n[t]}function k(n,t){return!(!Array.isArray(n)||!Array.isArray(t))&&n.length!==t.length}function c(n){return n?n.declaredClass:null}function g(n,t){var b;const o=n.diff;if(o&&typeof o=="function")return o(n,t);const i=V(n),f=V(t);if(i.length===0&&f.length===0)return;if(!i.length||!f.length||k(n,t))return{type:"complete",oldValue:n,newValue:t};const s=f.filter(e=>!i.includes(e)),j=i.filter(e=>!f.includes(e)),m=i.filter(e=>f.includes(e)&&p(n,e)!==p(t,e)).concat(s,j).sort(),d=c(n);if(d&&P.includes(d)&&m.length)return{type:"complete",oldValue:n,newValue:t};let a;const A=y(n)&&y(t);for(const e of m){const l=p(n,e),r=p(t,e);let u;if((A||typeof l!="function"&&typeof r!="function")&&l!==r&&(l!=null||r!=null)){if(o&&o[e]&&typeof o[e]=="function")u=(b=o[e])==null?void 0:b.call(o,l,r);else if(l instanceof Date&&r instanceof Date){if(l.getTime()===r.getTime())continue;u={type:"complete",oldValue:l,newValue:r}}else u=typeof l=="object"&&typeof r=="object"&&c(l)===c(r)?g(l,r):{type:"complete",oldValue:l,newValue:r};u!=null&&(a!=null?a.diff[e]=u:a={type:"partial",diff:{[e]:u}})}}return a}function O(n,t){if(n==null)return!1;const o=t.split(".");let i=n;for(const f of o){if(i.type==="complete")return!0;if(i.type!=="partial")return!1;{const s=i.diff[f];if(!s)return!1;i=s}}return!0}function S(n,t){for(const o of t)if(O(n,o))return!0;return!1}function T(n,t){if(typeof n!="function"&&typeof t!="function"&&(n!=null||t!=null))return n==null||t==null||typeof n=="object"&&typeof t=="object"&&c(n)!==c(t)?{type:"complete",oldValue:n,newValue:t}:g(n,t)}export{T as a,S as p,O as s};
