import{P as s}from"./cast-BA_-jlhc.js";import{u as h}from"./screenUtils-_ZIvrt5o.js";import{t as l}from"./symbolUtils-C5ImIHMe.js";import{e as c}from"./webStyleAcceptedFormats-CG7ZQ6BV.js";import"./Accessor-BHnuXKD2.js";import"./index-tefRSezt.js";import"./JSONSupport-CGdeqxpk.js";import"./opacityUtils-CSd4XoR2.js";import"./Promise-CmQqe-ke.js";import"./Point-XGrwlf63.js";import"./writer-B2bQV2uU.js";import"./utils-9nq77ifz.js";import"./Color-gncXBiLc.js";import"./colorUtils-Rxh2V3ai.js";import"./mathUtils-DV9iOXpW.js";import"./reactiveUtils-BR0C1Kq4.js";import"./Evented-DCWccWGU.js";import"./SimpleObservable-7oieNGD8.js";import"./vec3f64-BLpZdpfb.js";import"./jsonUtils-TjZmCq6l.js";import"./utils-DYurMneM.js";import"./mat4f32-DcsiF_Rp.js";import"./mat4-Fi6iAz29.js";import"./common-DQOJ18NT.js";import"./cimSymbolUtils-azhJhO4Y.js";import"./utils-B91u8350.js";import"./defaultCIMValues-DII_GG3u.js";import"./enums-BJSSbDkD.js";import"./LRUCache-DS2O1kTf.js";import"./MemCache-CDoaVBHf.js";import"./Graphic-CFXUQZlS.js";import"./Clonable-DvJsj5LF.js";import"./enumeration-Cr5WIZs4.js";import"./ActionToggle-__-l4AdQ.js";import"./Identifiable-BrT7zvUW.js";import"./jsonUtils-Cu7OBRmN.js";import"./Extent-CBBGeHb-.js";import"./Polyline-BmuD2-ZN.js";import"./typeUtils-BSg8Y507.js";import"./TextSymbol-BQ_NW9Xo.js";import"./collectionUtils-CbaToa73.js";import"./Portal-CTRRujjZ.js";import"./aaBoundingBox-CeBivBRq.js";import"./colorUtils-BAowQmkN.js";import"./vec42-YcqnINSP.js";import"./vec4f64-o2zAXfmz.js";import"./jsxFactory-CLjKarlq.js";import"./intl-Do3GEEJ7.js";import"./uuid-Cl5lrJ4c.js";import"./mat2df32-orApM5a3.js";import"./mat2d-D9DBP-jx.js";import"./webStyleSymbolUtils-DEYm8EyF.js";import"./devEnvironmentUtils-CnNDiFMM.js";import"./jsonUtils-Dzgxk9pw.js";import"./layerUtils-dJgsXxkC.js";import"./defaults-Dwxdhopq.js";import"./defaultsJSON-GKolV7NZ.js";import"./styleUtils-BB-zx7mT.js";async function wi(i,t,r){var e;const o=(e=i.thumbnail)==null?void 0:e.url;if(o){const m=d((await s(o,{responseType:"image"})).data,r);return r!=null&&r.node?(r.node.appendChild(m),r.node):m}const p=await i.fetchSymbol({acceptedFormats:c});return p?t(p,r):null}function d(i,t){const r=!/\\.svg$/i.test(i.src)&&(t==null?void 0:t.disableUpsampling),o=Math.max(i.width,i.height);let p=(t==null?void 0:t.maxSize)!=null?h(t.maxSize):l.maxSize;r&&(p=Math.min(o,p));const e=typeof(t==null?void 0:t.size)=="number"?t==null?void 0:t.size:null,m=Math.min(p,e!=null?h(e):o);if(m!==o){const a=i.width!==0&&i.height!==0?i.width/i.height:1;a>=1?(i.width=m,i.height=m/a):(i.width=m*a,i.height=m)}return i}export{wi as previewWebStyleSymbol};
