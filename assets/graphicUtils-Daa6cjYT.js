import{Q as y}from"./Point-XGrwlf63.js";import{x as g,l as d,m as z}from"./mat4-Fi6iAz29.js";import{e as v}from"./mat4f64-Dk4dwAN8.js";import{u as w,s as M}from"./vec3f64-BLpZdpfb.js";import{s as R}from"./vec42-YcqnINSP.js";import{t as P,N as b}from"./vec4f64-o2zAXfmz.js";import{n as F}from"./projection-B2I9Bzj_.js";import{g as A,y as D,E as I}from"./aaBoundingBox-CeBivBRq.js";import{p as Z,h as E,o as S,a as k}from"./Polyline-BmuD2-ZN.js";import{u as B}from"./meshVertexSpaceUtils-SW0WEjNN.js";import{e as f}from"./projectVectorToVector-dS8io47t.js";import{o as G,x as N}from"./hydratedFeatures-BVVSs98j.js";function $(n,e){if(n.type==="point")return s(n,e,!1);if(G(n))switch(n.type){case"extent":return s(n.center,e,!1);case"polygon":return s(n.centroid,e,!1);case"polyline":return s(h(n),e,!0);case"mesh":return s(B(n.vertexSpace,n.spatialReference)??n.extent.center,e,!1);case"multipoint":return}else switch(n.type){case"extent":return s(Q(n),e,!0);case"polygon":return s(U(n),e,!0);case"polyline":return s(h(n),e,!0);case"multipoint":return}}function h(n){const e=n.paths[0];if(!e||e.length===0)return null;const r=Z(e,E(e)/2);return f(r[0],r[1],r[2],n.spatialReference)}function Q(n){return f(.5*(n.xmax+n.xmin),.5*(n.ymax+n.ymin),n.zmin!=null&&n.zmax!=null&&isFinite(n.zmin)&&isFinite(n.zmax)?.5*(n.zmax+n.zmin):void 0,n.spatialReference)}function U(n){const e=n.rings[0];if(!e||e.length===0)return null;const r=S(n.rings,!!n.hasZ);return f(r[0],r[1],r[2],n.spatialReference)}function s(n,e,r){const i=r?n:N(n);return e&&n?F(n,i,e)?i:null:i}function nn(n){if(!n)return 0;switch(n.type){case"point":return n.z;case"extent":return n.zmax;case"polygon":return n.hasZ?n.rings.reduce((e,r)=>r.reduce((i,o)=>Math.max(i,o[2]),e),-1/0):void 0;case"polyline":return n.hasZ?n.paths.reduce((e,r)=>r.reduce((i,o)=>Math.max(i,o[2]),e),-1/0):void 0;case"mesh":return n.extent.zmax;case"multipoint":return}}function en(n,e,r,i=0){if(n){e||(e=k());const o=n;let u=.5*o.width*(r-1),t=.5*o.height*(r-1);return o.width<1e-7*o.height?u+=t/20:o.height<1e-7*o.width&&(t+=u/20),R(e,o.xmin-u-i,o.ymin-t-i,o.xmax+u+i,o.ymax+t+i),e}return null}function rn(n,e,r=null){const i=P(b);return n!=null&&(i[0]=n[0],i[1]=n[1],i[2]=n[2]),e!=null?i[3]=e:n!=null&&n.length>3&&(i[3]=n[3]),r&&(i[0]*=r,i[1]*=r,i[2]*=r,i[3]*=r),i}function on(n,e,r,i,o,u){for(let t=0;t<3;++t)u[t]=(n==null?void 0:n[t])!=null?n[t]:(r==null?void 0:r[t])!=null?r[t]:o[t];return u[3]=e??i??o[3],u}function tn(n=M,e,r,i=1){const o=new Array(3);if(e==null||r==null)o[0]=1,o[1]=1,o[2]=1;else{let u,t=0;for(let l=2;l>=0;l--){const m=n[l],p=m!=null,x=l===0&&!u&&!p,c=r[l];let a;m==="symbol-value"||x?a=c!==0?e[l]/c:1:p&&m!=="proportional"&&isFinite(m)&&(a=c!==0?m/c:1),a!=null&&(o[l]=a,u=a,t=Math.max(t,Math.abs(a)))}for(let l=2;l>=0;l--)o[l]==null?o[l]=u:o[l]===0&&(o[l]=.001*t)}for(let u=2;u>=0;u--)o[u]/=i;return w(o)}function j(n){return n.isPrimitive!=null}function un(n){return q(j(n)?[n.width,n.depth,n.height]:n)?null:"Symbol sizes may not be negative values"}function q(n){const e=r=>r==null||r>=0;return Array.isArray(n)?n.every(e):e(n)}function ln(n,e,r,i=v()){return n&&g(i,i,-n/180*Math.PI),e&&d(i,i,e/180*Math.PI),r&&z(i,i,r/180*Math.PI),i}function sn(n,e,r){if(r.minDemResolution!=null)return r.minDemResolution;const i=y(e),o=A(n)*i,u=D(n)*i,t=I(n)*(e.isGeographic?1:i);return o===0&&u===0&&t===0?r.minDemResolutionForPoints:.01*Math.max(o,u,t)}export{rn as A,on as B,tn as D,sn as E,nn as F,en as S,un as U,q as Z,$ as b,ln as k};
