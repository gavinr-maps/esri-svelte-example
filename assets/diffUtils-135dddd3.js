import{V,a4 as A,a5 as D}from"./index-27db053b.js";const k=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function y(n){return n instanceof D}function h(n){return n instanceof V?Object.keys(n.items):y(n)?A(n).keys():n?Object.keys(n):[]}function p(n,t){return n instanceof V?n.items[t]:n[t]}function P(n,t){return!(!Array.isArray(n)||!Array.isArray(t))&&n.length!==t.length}function c(n){return n?n.declaredClass:null}function g(n,t){var b;const o=n.diff;if(o&&typeof o=="function")return o(n,t);const i=h(n),f=h(t);if(i.length===0&&f.length===0)return;if(!i.length||!f.length||P(n,t))return{type:"complete",oldValue:n,newValue:t};const s=f.filter(e=>!i.includes(e)),j=i.filter(e=>!f.includes(e)),m=i.filter(e=>f.includes(e)&&p(n,e)!==p(t,e)).concat(s,j).sort(),d=c(n);if(d&&k.has(d)&&m.length)return{type:"complete",oldValue:n,newValue:t};let a;const w=y(n)&&y(t);for(const e of m){const l=p(n,e),r=p(t,e);let u;if((w||typeof l!="function"&&typeof r!="function")&&l!==r&&(l!=null||r!=null)){if(o&&o[e]&&typeof o[e]=="function")u=(b=o[e])==null?void 0:b.call(o,l,r);else if(l instanceof Date&&r instanceof Date){if(l.getTime()===r.getTime())continue;u={type:"complete",oldValue:l,newValue:r}}else u=typeof l=="object"&&typeof r=="object"&&c(l)===c(r)?g(l,r):{type:"complete",oldValue:l,newValue:r};u!=null&&(a!=null?a.diff[e]=u:a={type:"partial",diff:{[e]:u}})}}return a}function S(n,t){if(n==null)return!1;const o=t.split(".");let i=n;for(const f of o){if(i.type==="complete")return!0;if(i.type!=="partial")return!1;{const s=i.diff[f];if(!s)return!1;i=s}}return!0}function O(n,t){for(const o of t)if(S(n,o))return!0;return!1}function T(n,t){if(typeof n!="function"&&typeof t!="function"&&(n!=null||t!=null))return n==null||t==null||typeof n=="object"&&typeof t=="object"&&c(n)!==c(t)?{type:"complete",oldValue:n,newValue:t}:g(n,t)}export{T as a,O as p,S as s};
