import{U as l}from"./assets-C2mb-ea2.js";import{u as s}from"./screenUtils-PfxkaaMN.js";import{t as a}from"./symbolUtils-yAx-Kz88.js";import{N as u}from"./utils-C1cS-0Yj.js";import"./subclass-BR3PhgZG.js";import"./index-CeCSsEgo.js";import"./Evented-CXIxDjmW.js";import"./Accessor-D6mNnsWy.js";import"./fieldUtils-CNduWQU9.js";import"./intl-Dpfm8vPB.js";import"./Promise-CZrWwByK.js";import"./jsonMap-DCC6W5ex.js";import"./mathUtils-ClvKsMak.js";import"./geometry-DpwwkAX1.js";import"./Extent-DHjqVB-p.js";import"./Point-DB4Hp4hH.js";import"./writer-3zufXUNV.js";import"./Polyline-D97hl-6E.js";import"./Color-DDUWtbqR.js";import"./colorUtils-CS9vdHXB.js";import"./colorUtils-D5nOabzP.js";import"./vec42-B1mBkh1w.js";import"./vec4f64-CBQL1T0x.js";import"./jsxFactory-CbAu6VfF.js";import"./reactiveUtils-BFQ0BtrB.js";import"./shared-B3wH2qpO.js";import"./uuid-fwrPAdZb.js";import"./mat2df32-orApM5a3.js";import"./mat2d-DPkeMmgR.js";import"./symbols-CsUQ5BxR.js";import"./enumeration--HlxOQ_N.js";import"./TextSymbol-gKE-H_J6.js";import"./materialUtils-CQ3JLQ1x.js";import"./opacityUtils-BT7mQkwC.js";import"./aaBoundingBox-rJEWaOSN.js";import"./persistableUrlUtils-BcifXQ1Z.js";import"./collectionUtils-Dm1icNvk.js";import"./Portal-liet8xHC.js";import"./Clonable-cKbRam6-.js";import"./webStyleSymbolUtils-BtUE3Q7L.js";import"./devEnvironmentUtils-D6qIi8Ky.js";import"./jsonUtils-C6dvhNjw.js";import"./layerUtils-erzwAANv.js";import"./defaults-DCm7iNI6.js";import"./defaultsJSON-GKolV7NZ.js";import"./styleUtils-DQEZjdpw.js";import"./jsonUtils-C4Wp5KpV.js";import"./parser-BN6zmHl-.js";import"./utils-D20M4_S8.js";import"./mat4f32-DcsiF_Rp.js";import"./mat4-ybYUU6jq.js";import"./cimSymbolUtils-D00GIWna.js";import"./utils-CO7DMJWl.js";import"./LRUCache-ju6LnIBZ.js";import"./MemCache-C6WUx-5V.js";function fi(i,t,o){var e;const p=(e=i.thumbnail)==null?void 0:e.url;return p?l(p,{responseType:"image"}).then(r=>{const m=d(r.data,o);return o!=null&&o.node?(o.node.appendChild(m),o.node):m}):u(i).then(r=>r?t(r,o):null)}function d(i,t){const o=!/\\.svg$/i.test(i.src)&&(t==null?void 0:t.disableUpsampling),p=Math.max(i.width,i.height);let e=(t==null?void 0:t.maxSize)!=null?s(t.maxSize):a.maxSize;o&&(e=Math.min(p,e));const r=typeof(t==null?void 0:t.size)=="number"?t==null?void 0:t.size:null,m=Math.min(e,r!=null?s(r):p);if(m!==p){const h=i.width!==0&&i.height!==0?i.width/i.height:1;h>=1?(i.width=m,i.height=m/h):(i.width=m*h,i.height=m)}return i}export{fi as previewWebStyleSymbol};
