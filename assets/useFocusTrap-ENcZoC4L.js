import{l as u}from"./index-tefRSezt.js";import{c as l,f as v}from"./focusTrapComponent-Br_3Mz8_.js";/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.0.3 */function d(r,{focusTrapOptions:t},e){return!(t!=null&&t.extraContainers)&&!e?r:[r,...p(t==null?void 0:t.extraContainers),...p(e)]}function p(r=[]){return Array.isArray(r)?r:[r]}const m=r=>u((t,e)=>{let a,c,s;const f=r.focusTrapOptions;e.onConnected(()=>{t[r.triggerProp]&&a&&n.activate()}),e.onUpdate(o=>{t.hasUpdated&&o.has("focusTrapDisabled")&&(t.focusTrapDisabled?n.deactivate():n.activate())}),e.onDisconnected(()=>n.deactivate());const n={activate:()=>{const o=c||t.el;if(o.isConnected){if(!a){const i={...f,...t.focusTrapOptions};s||(s=d(o,t)),a=l(s,v(o,i))}(typeof t.focusTrapDisabledOverride=="function"?!t.focusTrapDisabledOverride():!t.focusTrapDisabled)&&a.activate()}},deactivate:()=>a==null?void 0:a.deactivate(),overrideFocusTrapEl:o=>{if(a)throw new Error("Focus trap already created");c=o},setExtraContainers:o=>{const i=c||t.el;s=d(i,t,o)},updateContainerElements:()=>a==null?void 0:a.updateContainerElements(s)};return n});export{m as F};
